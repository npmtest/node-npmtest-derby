<div class="coverageReportDiv">
<h1>coverage-report</h1>
<div style="background: #fff; border: 1px solid #000; margin 0; padding: 0;">


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for All files</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-derby">npmtest-derby (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">All files</span></h1>
    <h2>
        
        Statements: <span class="metric">25.96% <small>(848 / 3266)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">9.29% <small>(131 / 1410)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">6.46% <small>(36 / 557)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">27.39% <small>(848 / 3096)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric">26 statements, 1 function, 30 branches</span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"></div>
</div>
<div class="body">
<div class="coverage-summary">
<table>
<thead>
<tr>
   <th data-col="file" data-fmt="html" data-html="true" class="file">File</th>
   <th data-col="pic" data-type="number" data-fmt="html" data-html="true" class="pic"></th>
   <th data-col="statements" data-type="number" data-fmt="pct" class="pct">Statements</th>
   <th data-col="statements_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="branches" data-type="number" data-fmt="pct" class="pct">Branches</th>
   <th data-col="branches_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="functions" data-type="number" data-fmt="pct" class="pct">Functions</th>
   <th data-col="functions_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="lines" data-type="number" data-fmt="pct" class="pct">Lines</th>
   <th data-col="lines_raw" data-type="number" data-fmt="html" class="abs"></th>
</tr>
</thead>
<tbody><tr>
	<td class="file high" data-value="node-npmtest-derby/"><a href="node-npmtest-derby/index.html">node-npmtest-derby/</a></td>
	<td data-value="100" class="pic high"><span class="cover-fill cover-full" style="width: 100px;"></span><span class="cover-empty" style="width:0px;"></span></td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="153" class="abs high">(153&nbsp;/&nbsp;153)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="126" class="abs high">(126&nbsp;/&nbsp;126)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="28" class="abs high">(28&nbsp;/&nbsp;28)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="153" class="abs high">(153&nbsp;/&nbsp;153)</td>
	</tr>

<tr>
	<td class="file low" data-value="node-npmtest-derby/node_modules/derby-parsing/lib/"><a href="node-npmtest-derby/node_modules/derby-parsing/lib/index.html">node-npmtest-derby/node_modules/derby-parsing/lib/</a></td>
	<td data-value="14.94" class="pic low"><span class="cover-fill" style="width: 14px;"></span><span class="cover-empty" style="width:86px;"></span></td>
	<td data-value="14.94" class="pct low">14.94%</td>
	<td data-value="676" class="abs low">(101&nbsp;/&nbsp;676)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="368" class="abs low">(0&nbsp;/&nbsp;368)</td>
	<td data-value="2.7" class="pct low">2.7%</td>
	<td data-value="74" class="abs low">(2&nbsp;/&nbsp;74)</td>
	<td data-value="15.23" class="pct low">15.23%</td>
	<td data-value="663" class="abs low">(101&nbsp;/&nbsp;663)</td>
	</tr>

<tr>
	<td class="file high" data-value="node-npmtest-derby/node_modules/derby-templates/"><a href="node-npmtest-derby/node_modules/derby-templates/index.html">node-npmtest-derby/node_modules/derby-templates/</a></td>
	<td data-value="100" class="pic high"><span class="cover-fill cover-full" style="width: 100px;"></span><span class="cover-empty" style="width:0px;"></span></td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="4" class="abs high">(4&nbsp;/&nbsp;4)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="0" class="abs high">(0&nbsp;/&nbsp;0)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="0" class="abs high">(0&nbsp;/&nbsp;0)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="4" class="abs high">(4&nbsp;/&nbsp;4)</td>
	</tr>

<tr>
	<td class="file low" data-value="node-npmtest-derby/node_modules/derby-templates/lib/"><a href="node-npmtest-derby/node_modules/derby-templates/lib/index.html">node-npmtest-derby/node_modules/derby-templates/lib/</a></td>
	<td data-value="29.56" class="pic low"><span class="cover-fill" style="width: 29px;"></span><span class="cover-empty" style="width:71px;"></span></td>
	<td data-value="29.56" class="pct low">29.56%</td>
	<td data-value="1025" class="abs low">(303&nbsp;/&nbsp;1025)</td>
	<td data-value="1.06" class="pct low">1.06%</td>
	<td data-value="376" class="abs low">(4&nbsp;/&nbsp;376)</td>
	<td data-value="1.68" class="pct low">1.68%</td>
	<td data-value="238" class="abs low">(4&nbsp;/&nbsp;238)</td>
	<td data-value="31.6" class="pct low">31.6%</td>
	<td data-value="959" class="abs low">(303&nbsp;/&nbsp;959)</td>
	</tr>

<tr>
	<td class="file high" data-value="node-npmtest-derby/node_modules/derby/"><a href="node-npmtest-derby/node_modules/derby/index.html">node-npmtest-derby/node_modules/derby/</a></td>
	<td data-value="100" class="pic high"><span class="cover-fill cover-full" style="width: 100px;"></span><span class="cover-empty" style="width:0px;"></span></td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="2" class="abs high">(2&nbsp;/&nbsp;2)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="0" class="abs high">(0&nbsp;/&nbsp;0)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="0" class="abs high">(0&nbsp;/&nbsp;0)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="2" class="abs high">(2&nbsp;/&nbsp;2)</td>
	</tr>

<tr>
	<td class="file low" data-value="node-npmtest-derby/node_modules/derby/lib/"><a href="node-npmtest-derby/node_modules/derby/lib/index.html">node-npmtest-derby/node_modules/derby/lib/</a></td>
	<td data-value="20.27" class="pic low"><span class="cover-fill" style="width: 20px;"></span><span class="cover-empty" style="width:80px;"></span></td>
	<td data-value="20.27" class="pct low">20.27%</td>
	<td data-value="1406" class="abs low">(285&nbsp;/&nbsp;1406)</td>
	<td data-value="0.19" class="pct low">0.19%</td>
	<td data-value="540" class="abs low">(1&nbsp;/&nbsp;540)</td>
	<td data-value="0.92" class="pct low">0.92%</td>
	<td data-value="217" class="abs low">(2&nbsp;/&nbsp;217)</td>
	<td data-value="21.67" class="pct low">21.67%</td>
	<td data-value="1315" class="abs low">(285&nbsp;/&nbsp;1315)</td>
	</tr>

</tbody>
</table>
</div></div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Tue Apr 18 2017 23:11:07 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-derby/</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header high">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-derby">npmtest-derby (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-derby/</span></h1>
    <h2>
        
        Statements: <span class="metric">100% <small>(153 / 153)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">100% <small>(126 / 126)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">100% <small>(28 / 28)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">100% <small>(153 / 153)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric">26 statements, 1 function, 30 branches</span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../index.html">All files</a> &#187; node-npmtest-derby/</div>
</div>
<div class="body">
<div class="coverage-summary">
<table>
<thead>
<tr>
   <th data-col="file" data-fmt="html" data-html="true" class="file">File</th>
   <th data-col="pic" data-type="number" data-fmt="html" data-html="true" class="pic"></th>
   <th data-col="statements" data-type="number" data-fmt="pct" class="pct">Statements</th>
   <th data-col="statements_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="branches" data-type="number" data-fmt="pct" class="pct">Branches</th>
   <th data-col="branches_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="functions" data-type="number" data-fmt="pct" class="pct">Functions</th>
   <th data-col="functions_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="lines" data-type="number" data-fmt="pct" class="pct">Lines</th>
   <th data-col="lines_raw" data-type="number" data-fmt="html" class="abs"></th>
</tr>
</thead>
<tbody><tr>
	<td class="file high" data-value="example.js"><a href="example.js.html">example.js</a></td>
	<td data-value="100" class="pic high"><span class="cover-fill cover-full" style="width: 100px;"></span><span class="cover-empty" style="width:0px;"></span></td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="83" class="abs high">(83&nbsp;/&nbsp;83)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="73" class="abs high">(73&nbsp;/&nbsp;73)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="12" class="abs high">(12&nbsp;/&nbsp;12)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="83" class="abs high">(83&nbsp;/&nbsp;83)</td>
	</tr>

<tr>
	<td class="file high" data-value="lib.npmtest_derby.js"><a href="lib.npmtest_derby.js.html">lib.npmtest_derby.js</a></td>
	<td data-value="100" class="pic high"><span class="cover-fill cover-full" style="width: 100px;"></span><span class="cover-empty" style="width:0px;"></span></td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="16" class="abs high">(16&nbsp;/&nbsp;16)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="14" class="abs high">(14&nbsp;/&nbsp;14)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="3" class="abs high">(3&nbsp;/&nbsp;3)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="16" class="abs high">(16&nbsp;/&nbsp;16)</td>
	</tr>

<tr>
	<td class="file high" data-value="test.js"><a href="test.js.html">test.js</a></td>
	<td data-value="100" class="pic high"><span class="cover-fill cover-full" style="width: 100px;"></span><span class="cover-empty" style="width:0px;"></span></td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="54" class="abs high">(54&nbsp;/&nbsp;54)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="39" class="abs high">(39&nbsp;/&nbsp;39)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="13" class="abs high">(13&nbsp;/&nbsp;13)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="54" class="abs high">(54&nbsp;/&nbsp;54)</td>
	</tr>

</tbody>
</table>
</div></div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Tue Apr 18 2017 23:11:07 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-derby/example.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header high">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-derby">npmtest-derby (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-derby/example.js</span></h1>
    <h2>
        
        Statements: <span class="metric">100% <small>(83 / 83)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">100% <small>(73 / 73)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">100% <small>(12 / 12)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">100% <small>(83 / 83)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric">26 statements, 1 function, 30 branches</span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../index.html">All files</a> &#187; <a href="index.html">node-npmtest-derby/</a> &#187; example.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">6</span>
<span class="cline-any cline-yes">6</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/*
example.js
&nbsp;
quickstart example
&nbsp;
instruction
    1. save this script as example.js
    2. run the shell command:
        $ npm install npmtest-derby &amp;&amp; PORT=8081 node example.js
    3. play with the browser-demo on http://127.0.0.1:8081
*/
&nbsp;
&nbsp;
&nbsp;
/* istanbul instrument in package npmtest_derby */
/*jslint
    bitwise: true,
    browser: true,
    maxerr: 8,
    maxlen: 96,
    node: true,
    nomen: true,
    regexp: true,
    stupid: true
*/
(function () {
    'use strict';
    var local;
&nbsp;
&nbsp;
&nbsp;
    // run shared js-env code - pre-init
    (function () {
        // init local
        local = {};
        // init modeJs
        local.modeJs = (function () {
            try {
                return typeof navigator.userAgent === 'string' &amp;&amp;
                    typeof document.querySelector('body') === 'object' &amp;&amp;
                    typeof XMLHttpRequest.prototype.open === 'function' &amp;&amp;
                    'browser';
            } catch (errorCaughtBrowser) {
                return module.exports &amp;&amp;
                    typeof process.versions.node === 'string' &amp;&amp;
                    typeof require('http').createServer === 'function' &amp;&amp;
                    'node';
            }
        }());
        // init global
        local.global = local.modeJs === 'browser'
            ? window
            : global;
        // init utility2_rollup
        local = local.global.utility2_rollup || (local.modeJs === 'browser'
            ? local.global.utility2_npmtest_derby
            : global.utility2_moduleExports);
        // export local
        local.global.local = local;
    }());
    switch (local.modeJs) {
&nbsp;
&nbsp;
&nbsp;
    // post-init
    // run browser js-env code - post-init
    /* istanbul ignore next */
    case 'browser':
        local.testRunBrowser = function (event) {
            <span class="skip-if-branch" title="else path not taken" >E</span>if (!event || (event &amp;&amp;
                    event.currentTarget &amp;&amp;
                    event.currentTarget.className &amp;&amp;
                    event.currentTarget.className.includes &amp;&amp;
                    event.currentTarget.className.includes('onreset'))) {
                // reset output
                Array.from(
                    document.querySelectorAll('body &gt; .resettable')
                ).forEach(function (element) {
                    switch (element.tagName) {
<span class="branch-0 cbranch-skip" title="branch not covered" >                    case 'INPUT':</span>
                    case 'TEXTAREA':
                        element.value = '';
                        break;
<span class="branch-2 cbranch-skip" title="branch not covered" >                    default:</span>
<span class="cstat-skip" title="statement not covered" >                        element.textContent = '';</span>
                    }
                });
            }
            switch (event &amp;&amp; event.currentTarget &amp;&amp; event.currentTarget.id) {
            case 'testRunButton1':
                // show tests
                <span class="skip-if-branch" title="else path not taken" >E</span>if (document.querySelector('#testReportDiv1').style.display === 'none') {
                    document.querySelector('#testReportDiv1').style.display = 'block';
                    document.querySelector('#testRunButton1').textContent =
                        'hide internal test';
                    local.modeTest = true;
                    local.testRunDefault(local);
                // hide tests
                } else {
<span class="cstat-skip" title="statement not covered" >                    document.querySelector('#testReportDiv1').style.display = 'none';</span>
<span class="cstat-skip" title="statement not covered" >                    document.querySelector('#testRunButton1').textContent = 'run internal test';</span>
                }
                break;
            // custom-case
            default:
                break;
            }
            <span class="skip-if-branch" title="if path not taken" >I</span>if (document.querySelector('#inputTextareaEval1') &amp;&amp; (<span class="branch-1 cbranch-skip" title="branch not covered" >!event </span>|| (<span class="branch-2 cbranch-skip" title="branch not covered" >event </span>&amp;&amp;
<span class="branch-3 cbranch-skip" title="branch not covered" >                    event.currentTarget </span>&amp;&amp;
<span class="branch-4 cbranch-skip" title="branch not covered" >                    event.currentTarget.className </span>&amp;&amp;
<span class="branch-5 cbranch-skip" title="branch not covered" >                    event.currentTarget.className.includes </span>&amp;&amp;
<span class="branch-6 cbranch-skip" title="branch not covered" >                    event.currentTarget.className.includes('oneval'))</span>)) {
                // try to eval input-code
<span class="cstat-skip" title="statement not covered" >                try {</span>
                    /*jslint evil: true*/
<span class="cstat-skip" title="statement not covered" >                    eval(document.querySelector('#inputTextareaEval1').value);</span>
                } catch (errorCaught) {
<span class="cstat-skip" title="statement not covered" >                    console.error(errorCaught);</span>
                }
            }
        };
        // log stderr and stdout to #outputTextareaStdout1
        ['error', 'log'].forEach(function (key) {
            console[key + '_original'] = console[key];
            console[key] = function () {
                var element;
                console[key + '_original'].apply(console, arguments);
                element = document.querySelector('#outputTextareaStdout1');
                <span class="skip-if-branch" title="if path not taken" >I</span>if (!element) {
<span class="cstat-skip" title="statement not covered" >                    return;</span>
                }
                // append text to #outputTextareaStdout1
                element.value += Array.from(arguments).map(function (arg) {
                    return typeof arg === 'string'
                        ? arg
                        : <span class="branch-1 cbranch-skip" title="branch not covered" >JSON.stringify(arg, null, 4);</span>
                }).join(' ') + '\n';
                // scroll textarea to bottom
                element.scrollTop = element.scrollHeight;
            };
        });
        // init event-handling
        ['change', 'click', 'keyup'].forEach(function (event) {
            Array.from(document.querySelectorAll('.on' + event)).forEach(function (element) {
                element.addEventListener(event, local.testRunBrowser);
            });
        });
        // run tests
        local.testRunBrowser();
        break;
&nbsp;
&nbsp;
&nbsp;
    // run node js-env code - post-init
    /* istanbul ignore next */
    case 'node':
        // export local
        module.exports = local;
        // require modules
        local.fs = require('fs');
        local.http = require('http');
        local.url = require('url');
        // init assets
        local.assetsDict = local.assetsDict || {};
        /* jslint-ignore-begin */
        local.assetsDict['/assets.index.template.html'] = '\
&lt;!doctype html&gt;\n\
&lt;html lang="en"&gt;\n\
&lt;head&gt;\n\
&lt;meta charset="UTF-8"&gt;\n\
&lt;meta name="viewport" content="width=device-width, initial-scale=1"&gt;\n\
&lt;title&gt;{{env.npm_package_name}} (v{{env.npm_package_version}})&lt;/title&gt;\n\
&lt;style&gt;\n\
/*csslint\n\
    box-sizing: false,\n\
    universal-selector: false\n\
*/\n\
* {\n\
    box-sizing: border-box;\n\
}\n\
body {\n\
    background: #dde;\n\
    font-family: Arial, Helvetica, sans-serif;\n\
    margin: 2rem;\n\
}\n\
body &gt; * {\n\
    margin-bottom: 1rem;\n\
}\n\
.utility2FooterDiv {\n\
    margin-top: 20px;\n\
    text-align: center;\n\
}\n\
&lt;/style&gt;\n\
&lt;style&gt;\n\
/*csslint\n\
*/\n\
textarea {\n\
    font-family: monospace;\n\
    height: 10rem;\n\
    width: 100%;\n\
}\n\
textarea[readonly] {\n\
    background: #ddd;\n\
}\n\
&lt;/style&gt;\n\
&lt;/head&gt;\n\
&lt;body&gt;\n\
&lt;!-- utility2-comment\n\
&lt;div id="ajaxProgressDiv1" style="background: #d00; height: 2px; left: 0; margin: 0; padding: 0; position: fixed; top: 0; transition: background 0.5s, width 1.5s; width: 25%;"&gt;&lt;/div&gt;\n\
utility2-comment --&gt;\n\
&lt;h1&gt;\n\
&lt;!-- utility2-comment\n\
    &lt;a\n\
        {{#if env.npm_package_homepage}}\n\
        href="{{env.npm_package_homepage}}"\n\
        {{/if env.npm_package_homepage}}\n\
        target="_blank"\n\
    &gt;\n\
utility2-comment --&gt;\n\
        {{env.npm_package_name}} (v{{env.npm_package_version}})\n\
&lt;!-- utility2-comment\n\
    &lt;/a&gt;\n\
utility2-comment --&gt;\n\
&lt;/h1&gt;\n\
&lt;h3&gt;{{env.npm_package_description}}&lt;/h3&gt;\n\
&lt;!-- utility2-comment\n\
&lt;h4&gt;&lt;a download href="assets.app.js"&gt;download standalone app&lt;/a&gt;&lt;/h4&gt;\n\
&lt;button class="onclick onreset" id="testRunButton1"&gt;run internal test&lt;/button&gt;&lt;br&gt;\n\
&lt;div id="testReportDiv1" style="display: none;"&gt;&lt;/div&gt;\n\
utility2-comment --&gt;\n\
\n\
\n\
\n\
&lt;label&gt;stderr and stdout&lt;/label&gt;\n\
&lt;textarea class="resettable" id="outputTextareaStdout1" readonly&gt;&lt;/textarea&gt;\n\
&lt;!-- utility2-comment\n\
{{#if isRollup}}\n\
&lt;script src="assets.app.js"&gt;&lt;/script&gt;\n\
{{#unless isRollup}}\n\
utility2-comment --&gt;\n\
&lt;script src="assets.utility2.rollup.js"&gt;&lt;/script&gt;\n\
&lt;script src="jsonp.utility2._stateInit?callback=window.utility2._stateInit"&gt;&lt;/script&gt;\n\
&lt;script src="assets.npmtest_derby.rollup.js"&gt;&lt;/script&gt;\n\
&lt;script src="assets.example.js"&gt;&lt;/script&gt;\n\
&lt;script src="assets.test.js"&gt;&lt;/script&gt;\n\
&lt;!-- utility2-comment\n\
{{/if isRollup}}\n\
utility2-comment --&gt;\n\
&lt;div class="utility2FooterDiv"&gt;\n\
    [ this app was created with\n\
    &lt;a href="https://github.com/kaizhu256/node-utility2" target="_blank"&gt;utility2&lt;/a&gt;\n\
    ]\n\
&lt;/div&gt;\n\
&lt;/body&gt;\n\
&lt;/html&gt;\n\
';
        /* jslint-ignore-end */
        <span class="skip-if-branch" title="if path not taken" >I</span>if (local.templateRender) {
<span class="cstat-skip" title="statement not covered" >            local.assetsDict['/'] = local.templateRender(</span>
                local.assetsDict['/assets.index.template.html'],
                {
                    env: local.objectSetDefault(local.env, {
                        npm_package_description: 'the greatest app in the world!',
                        npm_package_name: 'my-app',
                        npm_package_nameAlias: 'my_app',
                        npm_package_version: '0.0.1'
                    })
                }
            );
        } else {
            local.assetsDict['/'] = local.assetsDict['/assets.index.template.html']
                .replace((/\{\{env\.(\w+?)\}\}/g), function (match0, match1) {
                    // jslint-hack
                    String(match0);
                    switch (match1) {
                    case 'npm_package_description':
                        return 'the greatest app in the world!';
                    case 'npm_package_name':
                        return 'my-app';
<span class="branch-2 cbranch-skip" title="branch not covered" >                    case 'npm_package_nameAlias':</span>
<span class="cstat-skip" title="statement not covered" >                        return 'my_app';</span>
                    case 'npm_package_version':
                        return '0.0.1';
                    }
                });
        }
        // run the cli
        <span class="skip-if-branch" title="else path not taken" >E</span>if (local.global.utility2_rollup || module !== require.main) {
            break;
        }
<span class="cstat-skip" title="statement not covered" >        local.assetsDict['/assets.example.js'] =</span>
            local.assetsDict['/assets.example.js'] ||
            local.fs.readFileSync(__filename, 'utf8');
        // bug-workaround - long $npm_package_buildCustomOrg
        /* jslint-ignore-begin */
<span class="cstat-skip" title="statement not covered" >        local.assetsDict['/assets.npmtest_derby.rollup.js'] =</span>
            local.assetsDict['/assets.npmtest_derby.rollup.js'] ||
            local.fs.readFileSync(
                local.npmtest_derby.__dirname + '/lib.npmtest_derby.js',
                'utf8'
            ).replace((/^#!/), '//');
        /* jslint-ignore-end */
<span class="cstat-skip" title="statement not covered" >        local.assetsDict['/favicon.ico'] = local.assetsDict['/favicon.ico'] || '';</span>
        // if $npm_config_timeout_exit exists,
        // then exit this process after $npm_config_timeout_exit ms
<span class="cstat-skip" title="statement not covered" >        if (Number(process.env.npm_config_timeout_exit)) {</span>
<span class="cstat-skip" title="statement not covered" >            setTimeout(process.exit, Number(process.env.npm_config_timeout_exit));</span>
        }
        // start server
<span class="cstat-skip" title="statement not covered" >        if (local.global.utility2_serverHttp1) {</span>
<span class="cstat-skip" title="statement not covered" >            break;</span>
        }
<span class="cstat-skip" title="statement not covered" >        process.env.PORT = process.env.PORT || '8081';</span>
<span class="cstat-skip" title="statement not covered" >        console.error('server starting on port ' + process.env.PORT);</span>
<span class="cstat-skip" title="statement not covered" >        local.http.createServer(<span class="fstat-skip" title="function not covered" >function (request, response) {</span></span>
<span class="cstat-skip" title="statement not covered" >            request.urlParsed = local.url.parse(request.url);</span>
<span class="cstat-skip" title="statement not covered" >            if (local.assetsDict[request.urlParsed.pathname] !== undefined) {</span>
<span class="cstat-skip" title="statement not covered" >                response.end(local.assetsDict[request.urlParsed.pathname]);</span>
<span class="cstat-skip" title="statement not covered" >                return;</span>
            }
<span class="cstat-skip" title="statement not covered" >            response.statusCode = 404;</span>
<span class="cstat-skip" title="statement not covered" >            response.end();</span>
        }).listen(process.env.PORT);
<span class="cstat-skip" title="statement not covered" >        break;</span>
    }
}());
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Tue Apr 18 2017 23:11:07 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-derby/lib.npmtest_derby.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header high">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-derby">npmtest-derby (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-derby/lib.npmtest_derby.js</span></h1>
    <h2>
        
        Statements: <span class="metric">100% <small>(16 / 16)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">100% <small>(14 / 14)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">100% <small>(3 / 3)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">100% <small>(16 / 16)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../index.html">All files</a> &#187; <a href="index.html">node-npmtest-derby/</a> &#187; lib.npmtest_derby.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/* istanbul instrument in package npmtest_derby */
/*jslint
    bitwise: true,
    browser: true,
    maxerr: 8,
    maxlen: 96,
    node: true,
    nomen: true,
    regexp: true,
    stupid: true
*/
(function () {
    'use strict';
    var local;
&nbsp;
&nbsp;
&nbsp;
    // run shared js-env code - pre-init
    (function () {
        // init local
        local = {};
        // init modeJs
        local.modeJs = (function () {
            try {
                return typeof navigator.userAgent === 'string' &amp;&amp;
                    typeof document.querySelector('body') === 'object' &amp;&amp;
                    typeof XMLHttpRequest.prototype.open === 'function' &amp;&amp;
                    'browser';
            } catch (errorCaughtBrowser) {
                return module.exports &amp;&amp;
                    typeof process.versions.node === 'string' &amp;&amp;
                    typeof require('http').createServer === 'function' &amp;&amp;
                    'node';
            }
        }());
        // init global
        local.global = local.modeJs === 'browser'
            ? window
            : global;
        // init utility2_rollup
        local = local.global.utility2_rollup || local;
        // init lib
        local.local = local.npmtest_derby = local;
        // init exports
        if (local.modeJs === 'browser') {
            local.global.utility2_npmtest_derby = local;
        } else {
            module.exports = local;
            module.exports.__dirname = __dirname;
            module.exports.module = module;
        }
    }());
}());
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Tue Apr 18 2017 23:11:07 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-derby/test.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header high">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-derby">npmtest-derby (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-derby/test.js</span></h1>
    <h2>
        
        Statements: <span class="metric">100% <small>(54 / 54)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">100% <small>(39 / 39)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">100% <small>(13 / 13)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">100% <small>(54 / 54)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../index.html">All files</a> &#187; <a href="index.html">node-npmtest-derby/</a> &#187; test.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/* istanbul instrument in package npmtest_derby */
/*jslint
    bitwise: true,
    browser: true,
    maxerr: 8,
    maxlen: 96,
    node: true,
    nomen: true,
    regexp: true,
    stupid: true
*/
(function () {
    'use strict';
    var local;
&nbsp;
&nbsp;
&nbsp;
    // run shared js-env code - pre-init
    (function () {
        // init local
        local = {};
        // init modeJs
        local.modeJs = (function () {
            try {
                return typeof navigator.userAgent === 'string' &amp;&amp;
                    typeof document.querySelector('body') === 'object' &amp;&amp;
                    typeof XMLHttpRequest.prototype.open === 'function' &amp;&amp;
                    'browser';
            } catch (errorCaughtBrowser) {
                return module.exports &amp;&amp;
                    typeof process.versions.node === 'string' &amp;&amp;
                    typeof require('http').createServer === 'function' &amp;&amp;
                    'node';
            }
        }());
        // init global
        local.global = local.modeJs === 'browser'
            ? window
            : global;
        switch (local.modeJs) {
        // re-init local from window.local
        case 'browser':
            local = local.global.utility2.objectSetDefault(
                local.global.utility2_rollup || local.global.local,
                local.global.utility2
            );
            break;
        // re-init local from example.js
        case 'node':
            local = (local.global.utility2_rollup || require('utility2'))
                .requireExampleJsFromReadme();
            break;
        }
        // export local
        local.global.local = local;
    }());
&nbsp;
&nbsp;
&nbsp;
    // run shared js-env code - function
    (function () {
        return;
    }());
    switch (local.modeJs) {
&nbsp;
&nbsp;
&nbsp;
    // run browser js-env code - function
    case 'browser':
        break;
&nbsp;
&nbsp;
&nbsp;
    // run node js-env code - function
    case 'node':
        break;
    }
&nbsp;
&nbsp;
&nbsp;
    // run shared js-env code - post-init
    (function () {
        return;
    }());
    switch (local.modeJs) {
&nbsp;
&nbsp;
&nbsp;
    // run browser js-env code - post-init
    case 'browser':
        local.testCase_browser_nullCase = local.testCase_browser_nullCase || function (
            options,
            onError
        ) {
        /*
         * this function will test browsers's null-case handling-behavior-behavior
         */
            onError(null, options);
        };
&nbsp;
        // run tests
        local.nop(local.modeTest &amp;&amp;
            document.querySelector('#testRunButton1') &amp;&amp;
            document.querySelector('#testRunButton1').click());
        break;
&nbsp;
&nbsp;
&nbsp;
    // run node js-env code - post-init
    /* istanbul ignore next */
    case 'node':
        local.testCase_buildApidoc_default = local.testCase_buildApidoc_default || function (
            options,
            onError
        ) {
        /*
         * this function will test buildApidoc's default handling-behavior-behavior
         */
            options = { modulePathList: module.paths };
            local.buildApidoc(options, onError);
        };
&nbsp;
        local.testCase_buildApp_default = local.testCase_buildApp_default || function (
            options,
            onError
        ) {
        /*
         * this function will test buildApp's default handling-behavior-behavior
         */
            local.testCase_buildReadme_default(options, local.onErrorThrow);
            local.testCase_buildLib_default(options, local.onErrorThrow);
            local.testCase_buildTest_default(options, local.onErrorThrow);
            local.testCase_buildCustomOrg_default(options, local.onErrorThrow);
            options = [];
            local.buildApp(options, onError);
        };
&nbsp;
        local.testCase_buildCustomOrg_default = local.testCase_buildCustomOrg_default ||
            function (options, onError) {
            /*
             * this function will test buildCustomOrg's default handling-behavior
             */
                options = {};
                local.buildCustomOrg(options, onError);
            };
&nbsp;
        local.testCase_buildLib_default = local.testCase_buildLib_default || function (
            options,
            onError
        ) {
        /*
         * this function will test buildLib's default handling-behavior
         */
            options = {};
            local.buildLib(options, onError);
        };
&nbsp;
        local.testCase_buildReadme_default = local.testCase_buildReadme_default || function (
            options,
            onError
        ) {
        /*
         * this function will test buildReadme's default handling-behavior-behavior
         */
            options = {};
            local.buildReadme(options, onError);
        };
&nbsp;
        local.testCase_buildTest_default = local.testCase_buildTest_default || function (
            options,
            onError
        ) {
        /*
         * this function will test buildTest's default handling-behavior
         */
            options = {};
            local.buildTest(options, onError);
        };
&nbsp;
        local.testCase_webpage_default = local.testCase_webpage_default || function (
            options,
            onError
        ) {
        /*
         * this function will test webpage's default handling-behavior
         */
            options = { modeCoverageMerge: true, url: local.serverLocalHost + '?modeTest=1' };
            local.browserTest(options, onError);
        };
&nbsp;
        // run test-server
        local.testRunServer(local);
        break;
    }
}());
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Tue Apr 18 2017 23:11:07 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-derby/node_modules/derby-parsing/lib/</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-derby">npmtest-derby (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-derby/node_modules/derby-parsing/lib/</span></h1>
    <h2>
        
        Statements: <span class="metric">14.94% <small>(101 / 676)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 368)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">2.7% <small>(2 / 74)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">15.23% <small>(101 / 663)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; node-npmtest-derby/node_modules/derby-parsing/lib/</div>
</div>
<div class="body">
<div class="coverage-summary">
<table>
<thead>
<tr>
   <th data-col="file" data-fmt="html" data-html="true" class="file">File</th>
   <th data-col="pic" data-type="number" data-fmt="html" data-html="true" class="pic"></th>
   <th data-col="statements" data-type="number" data-fmt="pct" class="pct">Statements</th>
   <th data-col="statements_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="branches" data-type="number" data-fmt="pct" class="pct">Branches</th>
   <th data-col="branches_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="functions" data-type="number" data-fmt="pct" class="pct">Functions</th>
   <th data-col="functions_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="lines" data-type="number" data-fmt="pct" class="pct">Lines</th>
   <th data-col="lines_raw" data-type="number" data-fmt="html" class="abs"></th>
</tr>
</thead>
<tbody><tr>
	<td class="file low" data-value="createPathExpression.js"><a href="createPathExpression.js.html">createPathExpression.js</a></td>
	<td data-value="15.15" class="pic low"><span class="cover-fill" style="width: 15px;"></span><span class="cover-empty" style="width:85px;"></span></td>
	<td data-value="15.15" class="pct low">15.15%</td>
	<td data-value="165" class="abs low">(25&nbsp;/&nbsp;165)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="93" class="abs low">(0&nbsp;/&nbsp;93)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="19" class="abs low">(0&nbsp;/&nbsp;19)</td>
	<td data-value="15.24" class="pct low">15.24%</td>
	<td data-value="164" class="abs low">(25&nbsp;/&nbsp;164)</td>
	</tr>

<tr>
	<td class="file low" data-value="index.js"><a href="index.js.html">index.js</a></td>
	<td data-value="12.76" class="pic low"><span class="cover-fill" style="width: 12px;"></span><span class="cover-empty" style="width:88px;"></span></td>
	<td data-value="12.76" class="pct low">12.76%</td>
	<td data-value="478" class="abs low">(61&nbsp;/&nbsp;478)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="259" class="abs low">(0&nbsp;/&nbsp;259)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="49" class="abs low">(0&nbsp;/&nbsp;49)</td>
	<td data-value="13.06" class="pct low">13.06%</td>
	<td data-value="467" class="abs low">(61&nbsp;/&nbsp;467)</td>
	</tr>

<tr>
	<td class="file low" data-value="markup.js"><a href="markup.js.html">markup.js</a></td>
	<td data-value="45.45" class="pic low"><span class="cover-fill" style="width: 45px;"></span><span class="cover-empty" style="width:55px;"></span></td>
	<td data-value="45.45" class="pct low">45.45%</td>
	<td data-value="33" class="abs low">(15&nbsp;/&nbsp;33)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="16" class="abs low">(0&nbsp;/&nbsp;16)</td>
	<td data-value="33.33" class="pct low">33.33%</td>
	<td data-value="6" class="abs low">(2&nbsp;/&nbsp;6)</td>
	<td data-value="46.88" class="pct low">46.88%</td>
	<td data-value="32" class="abs low">(15&nbsp;/&nbsp;32)</td>
	</tr>

</tbody>
</table>
</div></div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Tue Apr 18 2017 23:11:07 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-derby/node_modules/derby-parsing/lib/createPathExpression.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-derby">npmtest-derby (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-derby/node_modules/derby-parsing/lib/createPathExpression.js</span></h1>
    <h2>
        
        Statements: <span class="metric">15.15% <small>(25 / 165)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 93)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 19)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">15.24% <small>(25 / 164)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-derby/node_modules/derby-parsing/lib/</a> &#187; createPathExpression.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257</td><td class="line-coverage"><span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">var derbyTemplates = require('derby-templates');
var expressions = derbyTemplates.expressions;
var operatorFns = derbyTemplates.operatorFns;
var esprima = require('esprima-derby');
var Syntax = esprima.Syntax;
&nbsp;
module.exports = createPathExpression;
&nbsp;
<span class="fstat-no" title="function not covered" >function createPathExpression(source) {</span>
<span class="cstat-no" title="statement not covered" >  var node = esprima.parse(source).expression;</span>
<span class="cstat-no" title="statement not covered" >  return reduce(node);</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function reduce(node) {</span>
<span class="cstat-no" title="statement not covered" >  var type = node.type;</span>
<span class="cstat-no" title="statement not covered" >  if (type === Syntax.MemberExpression) {</span>
<span class="cstat-no" title="statement not covered" >    return reduceMemberExpression(node);</span>
  } else <span class="cstat-no" title="statement not covered" >if (type === Syntax.Identifier) {</span>
<span class="cstat-no" title="statement not covered" >    return reduceIdentifier(node);</span>
  } else <span class="cstat-no" title="statement not covered" >if (type === Syntax.ThisExpression) {</span>
<span class="cstat-no" title="statement not covered" >    return reduceThis(node);</span>
  } else <span class="cstat-no" title="statement not covered" >if (type === Syntax.CallExpression) {</span>
<span class="cstat-no" title="statement not covered" >    return reduceCallExpression(node);</span>
  } else <span class="cstat-no" title="statement not covered" >if (type === Syntax.Literal) {</span>
<span class="cstat-no" title="statement not covered" >    return reduceLiteral(node);</span>
  } else <span class="cstat-no" title="statement not covered" >if (type === Syntax.UnaryExpression) {</span>
<span class="cstat-no" title="statement not covered" >    return reduceUnaryExpression(node);</span>
  } else <span class="cstat-no" title="statement not covered" >if (type === Syntax.BinaryExpression || type === Syntax.LogicalExpression) {</span>
<span class="cstat-no" title="statement not covered" >    return reduceBinaryExpression(node);</span>
  } else <span class="cstat-no" title="statement not covered" >if (type === Syntax.ConditionalExpression) {</span>
<span class="cstat-no" title="statement not covered" >    return reduceConditionalExpression(node);</span>
  } else <span class="cstat-no" title="statement not covered" >if (type === Syntax.ArrayExpression) {</span>
<span class="cstat-no" title="statement not covered" >    return reduceArrayExpression(node);</span>
  } else <span class="cstat-no" title="statement not covered" >if (type === Syntax.ObjectExpression) {</span>
<span class="cstat-no" title="statement not covered" >    return reduceObjectExpression(node);</span>
  } else <span class="cstat-no" title="statement not covered" >if (type === Syntax.SequenceExpression) {</span>
<span class="cstat-no" title="statement not covered" >    return reduceSequenceExpression(node);</span>
  } else <span class="cstat-no" title="statement not covered" >if (type === Syntax.NewExpression) {</span>
<span class="cstat-no" title="statement not covered" >    return reduceNewExpression(node);</span>
  }
<span class="cstat-no" title="statement not covered" >  unexpected(node);</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function reduceMemberExpression(node, afterSegments) {</span>
<span class="cstat-no" title="statement not covered" >  if (node.computed) {</span>
    // Square brackets
<span class="cstat-no" title="statement not covered" >    if (node.property.type === Syntax.Literal) {</span>
<span class="cstat-no" title="statement not covered" >      return reducePath(node, node.property.value, afterSegments);</span>
    }
<span class="cstat-no" title="statement not covered" >    var before = reduce(node.object);</span>
<span class="cstat-no" title="statement not covered" >    var inside = reduce(node.property);</span>
<span class="cstat-no" title="statement not covered" >    return new expressions.BracketsExpression(before, inside, afterSegments);</span>
  }
  // Dot notation
<span class="cstat-no" title="statement not covered" >  if (node.property.type === Syntax.Identifier) {</span>
<span class="cstat-no" title="statement not covered" >    return reducePath(node, node.property.name);</span>
  }
<span class="cstat-no" title="statement not covered" >  unexpected(node);</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function reducePath(node, segment, afterSegments) {</span>
<span class="cstat-no" title="statement not covered" >  var segments = [segment];</span>
<span class="cstat-no" title="statement not covered" >  if (afterSegments) <span class="cstat-no" title="statement not covered" >segments = segments.concat(afterSegments);</span></span>
<span class="cstat-no" title="statement not covered" >  var relative = false;</span>
<span class="cstat-no" title="statement not covered" >  while (node = node.object) {</span>
<span class="cstat-no" title="statement not covered" >    if (node.type === Syntax.MemberExpression) {</span>
<span class="cstat-no" title="statement not covered" >      if (node.computed) {</span>
<span class="cstat-no" title="statement not covered" >        return reduceMemberExpression(node, segments);</span>
      } else <span class="cstat-no" title="statement not covered" >if (node.property.type === Syntax.Identifier) {</span>
<span class="cstat-no" title="statement not covered" >        segments.unshift(node.property.name);</span>
      } else {
<span class="cstat-no" title="statement not covered" >        unexpected(node);</span>
      }
    } else <span class="cstat-no" title="statement not covered" >if (node.type === Syntax.Identifier) {</span>
<span class="cstat-no" title="statement not covered" >      segments.unshift(node.name);</span>
    } else <span class="cstat-no" title="statement not covered" >if (node.type === Syntax.ThisExpression) {</span>
<span class="cstat-no" title="statement not covered" >      relative = true;</span>
    } else <span class="cstat-no" title="statement not covered" >if (node.type === Syntax.CallExpression) {</span>
<span class="cstat-no" title="statement not covered" >      return reduceCallExpression(node, segments);</span>
    } else <span class="cstat-no" title="statement not covered" >if (node.type === Syntax.SequenceExpression) {</span>
<span class="cstat-no" title="statement not covered" >      return reduceSequenceExpression(node, segments);</span>
    } else <span class="cstat-no" title="statement not covered" >if (node.type === Syntax.NewExpression) {</span>
<span class="cstat-no" title="statement not covered" >      return reduceNewExpression(node, segments);</span>
    } else {
<span class="cstat-no" title="statement not covered" >      unexpected(node);</span>
    }
  }
<span class="cstat-no" title="statement not covered" >  return (relative) ?</span>
    new expressions.RelativePathExpression(segments) :
    createSegmentsExpression(segments);
}
&nbsp;
<span class="fstat-no" title="function not covered" >function reduceIdentifier(node) {</span>
<span class="cstat-no" title="statement not covered" >  var segments = [node.name];</span>
<span class="cstat-no" title="statement not covered" >  return createSegmentsExpression(segments);</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function reduceThis(node) {</span>
<span class="cstat-no" title="statement not covered" >  var segments = [];</span>
<span class="cstat-no" title="statement not covered" >  return new expressions.RelativePathExpression(segments);</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function createSegmentsExpression(segments) {</span>
<span class="cstat-no" title="statement not covered" >  var firstSegment = segments[0];</span>
<span class="cstat-no" title="statement not covered" >  var firstChar = firstSegment.charAt &amp;&amp; firstSegment.charAt(0);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (firstChar === '#') {</span>
<span class="cstat-no" title="statement not covered" >    var alias = firstSegment;</span>
<span class="cstat-no" title="statement not covered" >    segments.shift();</span>
<span class="cstat-no" title="statement not covered" >    return new expressions.AliasPathExpression(alias, segments);</span>
&nbsp;
  } else <span class="cstat-no" title="statement not covered" >if (firstChar === '@') {</span>
<span class="cstat-no" title="statement not covered" >    var attribute = firstSegment.slice(1);</span>
<span class="cstat-no" title="statement not covered" >    segments.shift();</span>
<span class="cstat-no" title="statement not covered" >    return new expressions.AttributePathExpression(attribute, segments);</span>
&nbsp;
  } else {
<span class="cstat-no" title="statement not covered" >    return new expressions.PathExpression(segments);</span>
  }
}
&nbsp;
<span class="fstat-no" title="function not covered" >function reduceCallExpression(node, afterSegments) {</span>
<span class="cstat-no" title="statement not covered" >  return reduceFnExpression(node, afterSegments, expressions.FnExpression);</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function reduceNewExpression(node, afterSegments) {</span>
<span class="cstat-no" title="statement not covered" >  return reduceFnExpression(node, afterSegments, expressions.NewExpression);</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function reduceFnExpression(node, afterSegments, Constructor) {</span>
<span class="cstat-no" title="statement not covered" >  var args = node.arguments.map(reduce);</span>
<span class="cstat-no" title="statement not covered" >  var callee = node.callee;</span>
<span class="cstat-no" title="statement not covered" >  if (callee.type === Syntax.Identifier) {</span>
<span class="cstat-no" title="statement not covered" >    if (callee.name === '$at') {</span>
<span class="cstat-no" title="statement not covered" >      return new expressions.ScopedModelExpression(args[0]);</span>
    }
<span class="cstat-no" title="statement not covered" >    var segments = [callee.name];</span>
<span class="cstat-no" title="statement not covered" >    return new Constructor(segments, args, afterSegments);</span>
  } else <span class="cstat-no" title="statement not covered" >if (callee.type === Syntax.MemberExpression) {</span>
<span class="cstat-no" title="statement not covered" >    var segments = reduceMemberExpression(callee).segments;</span>
<span class="cstat-no" title="statement not covered" >    return new Constructor(segments, args, afterSegments);</span>
  } else {
<span class="cstat-no" title="statement not covered" >    unexpected(node);</span>
  }
}
&nbsp;
<span class="fstat-no" title="function not covered" >function reduceLiteral(node) {</span>
<span class="cstat-no" title="statement not covered" >  return new expressions.LiteralExpression(node.value);</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function reduceUnaryExpression(node) {</span>
  // `-` and `+` can be either unary or binary, so all unary operators are
  // postfixed with `U` to differentiate
<span class="cstat-no" title="statement not covered" >  var operator = node.operator + 'U';</span>
<span class="cstat-no" title="statement not covered" >  var expression = reduce(node.argument);</span>
<span class="cstat-no" title="statement not covered" >  if (expression instanceof expressions.LiteralExpression) {</span>
<span class="cstat-no" title="statement not covered" >    var fn = operatorFns.get[operator];</span>
<span class="cstat-no" title="statement not covered" >    expression.value = fn(expression.value);</span>
<span class="cstat-no" title="statement not covered" >    return expression;</span>
  }
<span class="cstat-no" title="statement not covered" >  return new expressions.OperatorExpression(operator, [expression]);</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function reduceBinaryExpression(node) {</span>
<span class="cstat-no" title="statement not covered" >  var operator = node.operator;</span>
<span class="cstat-no" title="statement not covered" >  var left = reduce(node.left);</span>
<span class="cstat-no" title="statement not covered" >  var right = reduce(node.right);</span>
<span class="cstat-no" title="statement not covered" >  if (</span>
    left instanceof expressions.LiteralExpression &amp;&amp;
    right instanceof expressions.LiteralExpression
  ) {
<span class="cstat-no" title="statement not covered" >    var fn = operatorFns.get[operator];</span>
<span class="cstat-no" title="statement not covered" >    var value = fn(left.value, right.value);</span>
<span class="cstat-no" title="statement not covered" >    return new expressions.LiteralExpression(value);</span>
  }
<span class="cstat-no" title="statement not covered" >  return new expressions.OperatorExpression(operator, [left, right]);</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function reduceConditionalExpression(node) {</span>
<span class="cstat-no" title="statement not covered" >  var test = reduce(node.test);</span>
<span class="cstat-no" title="statement not covered" >  var consequent = reduce(node.consequent);</span>
<span class="cstat-no" title="statement not covered" >  var alternate = reduce(node.alternate);</span>
<span class="cstat-no" title="statement not covered" >  if (</span>
    test instanceof expressions.LiteralExpression &amp;&amp;
    consequent instanceof expressions.LiteralExpression &amp;&amp;
    alternate instanceof expressions.LiteralExpression
  ) {
<span class="cstat-no" title="statement not covered" >    var value = (test.value) ? consequent.value : alternate.value;</span>
<span class="cstat-no" title="statement not covered" >    return new expressions.LiteralExpression(value);</span>
  }
<span class="cstat-no" title="statement not covered" >  return new expressions.OperatorExpression('?', [test, consequent, alternate]);</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function reduceArrayExpression(node) {</span>
<span class="cstat-no" title="statement not covered" >  var elements = node.elements;</span>
<span class="cstat-no" title="statement not covered" >  var literal = [];</span>
<span class="cstat-no" title="statement not covered" >  var args = [];</span>
<span class="cstat-no" title="statement not covered" >  var isLiteral = true;</span>
<span class="cstat-no" title="statement not covered" >  for (var i = 0, len = elements.length; i &lt; len; i++) {</span>
<span class="cstat-no" title="statement not covered" >    var expression = reduce(elements[i]);</span>
<span class="cstat-no" title="statement not covered" >    args.push(expression);</span>
<span class="cstat-no" title="statement not covered" >    if (isLiteral &amp;&amp; expression instanceof expressions.LiteralExpression) {</span>
<span class="cstat-no" title="statement not covered" >      literal.push(expression.value);</span>
    } else {
<span class="cstat-no" title="statement not covered" >      isLiteral = false;</span>
    }
  }
<span class="cstat-no" title="statement not covered" >  return (isLiteral) ?</span>
    new expressions.LiteralExpression(literal) :
    new expressions.OperatorExpression('[]', args);
}
&nbsp;
<span class="fstat-no" title="function not covered" >function reduceObjectExpression(node) {</span>
<span class="cstat-no" title="statement not covered" >  var properties = node.properties;</span>
<span class="cstat-no" title="statement not covered" >  var literal = {};</span>
<span class="cstat-no" title="statement not covered" >  var args = [];</span>
<span class="cstat-no" title="statement not covered" >  var isLiteral = true;</span>
<span class="cstat-no" title="statement not covered" >  for (var i = 0, len = properties.length; i &lt; len; i++) {</span>
<span class="cstat-no" title="statement not covered" >    var property = properties[i];</span>
<span class="cstat-no" title="statement not covered" >    var key = getKeyName(property.key);</span>
<span class="cstat-no" title="statement not covered" >    var keyExpression = new expressions.LiteralExpression(key);</span>
<span class="cstat-no" title="statement not covered" >    var expression = reduce(property.value);</span>
<span class="cstat-no" title="statement not covered" >    args.push(keyExpression, expression);</span>
<span class="cstat-no" title="statement not covered" >    if (isLiteral &amp;&amp; expression instanceof expressions.LiteralExpression) {</span>
<span class="cstat-no" title="statement not covered" >      literal[key] = expression.value;</span>
    } else {
<span class="cstat-no" title="statement not covered" >      isLiteral = false;</span>
    }
  }
<span class="cstat-no" title="statement not covered" >  return (isLiteral) ?</span>
    new expressions.LiteralExpression(literal) :
    new expressions.OperatorExpression('{}', args);
}
&nbsp;
<span class="fstat-no" title="function not covered" >function getKeyName(key) {</span>
<span class="cstat-no" title="statement not covered" >  return (key.type === Syntax.Identifier) ? key.name :</span>
    (key.type === Syntax.Literal) ? key.value :
    unexpected(key);
}
&nbsp;
<span class="fstat-no" title="function not covered" >function reduceSequenceExpression(node, afterSegments) {</span>
  // Note that sequence expressions are not reduced to a literal if they only
  // contain literals. There isn't any utility to such an expression, so it
  // isn't worth optimizing.
  //
  // The fact that expressions separated by commas always parse into a sequence
  // is relied upon in parsing template tags that have comma-separated
  // arguments following a keyword
<span class="cstat-no" title="statement not covered" >  var args = node.expressions.map(reduce);</span>
<span class="cstat-no" title="statement not covered" >  return new expressions.SequenceExpression(args, afterSegments);</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function unexpected(node) {</span>
<span class="cstat-no" title="statement not covered" >  throw new Error('Unexpected Esprima node: ' + JSON.stringify(node, null, 2));</span>
}
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Tue Apr 18 2017 23:11:07 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-derby/node_modules/derby-parsing/lib/index.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-derby">npmtest-derby (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-derby/node_modules/derby-parsing/lib/index.js</span></h1>
    <h2>
        
        Statements: <span class="metric">12.76% <small>(61 / 478)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 259)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 49)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">13.06% <small>(61 / 467)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-derby/node_modules/derby-parsing/lib/</a> &#187; index.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501
502
503
504
505
506
507
508
509
510
511
512
513
514
515
516
517
518
519
520
521
522
523
524
525
526
527
528
529
530
531
532
533
534
535
536
537
538
539
540
541
542
543
544
545
546
547
548
549
550
551
552
553
554
555
556
557
558
559
560
561
562
563
564
565
566
567
568
569
570
571
572
573
574
575
576
577
578
579
580
581
582
583
584
585
586
587
588
589
590
591
592
593
594
595
596
597
598
599
600
601
602
603
604
605
606
607
608
609
610
611
612
613
614
615
616
617
618
619
620
621
622
623
624
625
626
627
628
629
630
631
632
633
634
635
636
637
638
639
640
641
642
643
644
645
646
647
648
649
650
651
652
653
654
655
656
657
658
659
660
661
662
663
664
665
666
667
668
669
670
671
672
673
674
675
676
677
678
679
680
681
682
683
684
685
686
687
688
689
690
691
692
693
694
695
696
697
698
699
700
701
702
703
704
705
706
707
708
709
710
711
712
713
714
715
716
717
718
719
720
721
722
723
724
725
726
727
728
729
730
731
732
733
734
735
736
737
738
739
740
741
742
743
744
745
746
747
748
749
750
751
752
753
754
755
756
757
758
759
760
761
762
763
764
765
766
767
768
769</td><td class="line-coverage"><span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">var htmlUtil = require('html-util');
var derbyTemplates = require('derby-templates');
var templates = derbyTemplates.templates;
var expressions = derbyTemplates.expressions;
var createPathExpression = require('./createPathExpression');
var markup = require('./markup');
&nbsp;
exports.createTemplate = createTemplate;
exports.createStringTemplate = createStringTemplate;
exports.createExpression = createExpression;
exports.createPathExpression = createPathExpression;
exports.markup = markup;
&nbsp;
// View.prototype._parse is defined here, so that it doesn't have to
// be included in the client if templates are all parsed server-side
templates.View.prototype._parse = <span class="fstat-no" title="function not covered" >function() {</span>
  // Wrap parsing in a try / catch to add context to message when throwing
<span class="cstat-no" title="statement not covered" >  var template;</span>
<span class="cstat-no" title="statement not covered" >  try {</span>
<span class="cstat-no" title="statement not covered" >    if (this.literal) {</span>
<span class="cstat-no" title="statement not covered" >      var source = (this.unminified) ? this.source :</span>
        // Remove leading and trailing whitespace only lines by default
        this.source.replace(/^\s*\n/, '').replace(/\s*$/, '');
<span class="cstat-no" title="statement not covered" >      template = new templates.Text(source);</span>
    } else <span class="cstat-no" title="statement not covered" >if (this.string) {</span>
<span class="cstat-no" title="statement not covered" >      template = createStringTemplate(this.source, this);</span>
    } else {
<span class="cstat-no" title="statement not covered" >      var source = (this.unminified) ? this.source :</span>
        htmlUtil.minify(this.source).replace(/&amp;sp;/g, ' ');
<span class="cstat-no" title="statement not covered" >      template = createTemplate(source, this);</span>
    }
  } catch (err) {
<span class="cstat-no" title="statement not covered" >    var message = '\n\nWithin template "' + this.name + '":\n' + this.source;</span>
<span class="cstat-no" title="statement not covered" >    throw appendErrorMessage(err, message);</span>
  }
<span class="cstat-no" title="statement not covered" >  this.template = template;</span>
<span class="cstat-no" title="statement not covered" >  return template;</span>
};
&nbsp;
// Modified and shared among the following parse functions. It's OK for this
// to be shared at the module level, since it is only used by synchronous code
var parseNode;
&nbsp;
<span class="fstat-no" title="function not covered" >function createTemplate(source, view) {</span>
<span class="cstat-no" title="statement not covered" >  source = escapeBraced(source);</span>
<span class="cstat-no" title="statement not covered" >  parseNode = new ParseNode(view);</span>
<span class="cstat-no" title="statement not covered" >  htmlUtil.parse(source, {</span>
    start: parseHtmlStart
  , end: parseHtmlEnd
  , text: parseHtmlText
  , comment: parseHtmlComment
  , other: parseHtmlOther
  });
  // Allow for certain elements at the end of a template to not be closed. This
  // is especially important so that &lt;/body&gt; and &lt;/html&gt; tags can be omitted,
  // since Derby sends an additional script tag after the HTML for the page
<span class="cstat-no" title="statement not covered" >  while (parseNode.parent) {</span>
<span class="cstat-no" title="statement not covered" >    parseNode = parseNode.parent;</span>
<span class="cstat-no" title="statement not covered" >    var last = parseNode.last();</span>
<span class="cstat-no" title="statement not covered" >    if (last instanceof templates.Element) {</span>
<span class="cstat-no" title="statement not covered" >      if (last.tagName === 'body' || last.tagName === 'html') {</span>
<span class="cstat-no" title="statement not covered" >        last.notClosed = true;</span>
<span class="cstat-no" title="statement not covered" >        last.endTag = '';</span>
<span class="cstat-no" title="statement not covered" >        continue;</span>
      } else {
<span class="cstat-no" title="statement not covered" >        throw new Error('Missing closing HTML tag: ' + last.endTag);</span>
      }
    }
<span class="cstat-no" title="statement not covered" >    unexpected();</span>
  }
<span class="cstat-no" title="statement not covered" >  return new templates.Template(parseNode.content);</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function createStringTemplate(source, view) {</span>
<span class="cstat-no" title="statement not covered" >  source = escapeBraced(source);</span>
<span class="cstat-no" title="statement not covered" >  parseNode = new ParseNode(view);</span>
<span class="cstat-no" title="statement not covered" >  parseText(source, parseTextLiteral, parseTextExpression, 'string');</span>
<span class="cstat-no" title="statement not covered" >  return new templates.Template(parseNode.content);</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function parseHtmlStart(tag, tagName, attributes, selfClosing) {</span>
<span class="cstat-no" title="statement not covered" >  var lowerTagName = tagName.toLowerCase();</span>
<span class="cstat-no" title="statement not covered" >  var hooks;</span>
<span class="cstat-no" title="statement not covered" >  if (lowerTagName !== 'view' &amp;&amp; !viewForTagName(lowerTagName)) {</span>
<span class="cstat-no" title="statement not covered" >    hooks = elementHooksFromAttributes(attributes);</span>
  }
<span class="cstat-no" title="statement not covered" >  var attributesMap = parseAttributes(attributes);</span>
<span class="cstat-no" title="statement not covered" >  var namespaceUri = (lowerTagName === 'svg') ?</span>
    templates.NAMESPACE_URIS.svg : parseNode.namespaceUri;
<span class="cstat-no" title="statement not covered" >  var Constructor = templates.Element;</span>
<span class="cstat-no" title="statement not covered" >  if (lowerTagName === 'tag') {</span>
<span class="cstat-no" title="statement not covered" >    Constructor = templates.DynamicElement;</span>
<span class="cstat-no" title="statement not covered" >    tagName = attributesMap.is;</span>
<span class="cstat-no" title="statement not covered" >    delete attributesMap.is;</span>
  }
<span class="cstat-no" title="statement not covered" >  if (selfClosing || templates.VOID_ELEMENTS[lowerTagName]) {</span>
<span class="cstat-no" title="statement not covered" >    var element = new Constructor(tagName, attributesMap, null, hooks, selfClosing, null, namespaceUri);</span>
<span class="cstat-no" title="statement not covered" >    parseNode.content.push(element);</span>
<span class="cstat-no" title="statement not covered" >    parseElementClose(lowerTagName);</span>
  } else {
<span class="cstat-no" title="statement not covered" >    parseNode = parseNode.child();</span>
<span class="cstat-no" title="statement not covered" >    parseNode.namespaceUri = namespaceUri;</span>
<span class="cstat-no" title="statement not covered" >    var element = new Constructor(tagName, attributesMap, parseNode.content, hooks, selfClosing, null, namespaceUri);</span>
<span class="cstat-no" title="statement not covered" >    parseNode.parent.content.push(element);</span>
  }
}
&nbsp;
<span class="fstat-no" title="function not covered" >function parseAttributes(attributes) {</span>
<span class="cstat-no" title="statement not covered" >  var attributesMap;</span>
<span class="cstat-no" title="statement not covered" >  for (var key in attributes) {</span>
<span class="cstat-no" title="statement not covered" >    if (!attributesMap) <span class="cstat-no" title="statement not covered" >attributesMap = {};</span></span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    var value = attributes[key];</span>
<span class="cstat-no" title="statement not covered" >    var match = /([^:]+):[^:]/.exec(key);</span>
<span class="cstat-no" title="statement not covered" >    var nsUri = match &amp;&amp; templates.NAMESPACE_URIS[match[1]];</span>
<span class="cstat-no" title="statement not covered" >    if (value === '' || typeof value !== 'string') {</span>
<span class="cstat-no" title="statement not covered" >      attributesMap[key] = new templates.Attribute(value, nsUri);</span>
<span class="cstat-no" title="statement not covered" >      continue;</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    parseNode = parseNode.child();</span>
<span class="cstat-no" title="statement not covered" >    parseText(value, parseTextLiteral, parseTextExpression, 'attribute');</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (parseNode.content.length === 1) {</span>
<span class="cstat-no" title="statement not covered" >      var item = parseNode.content[0];</span>
<span class="cstat-no" title="statement not covered" >      attributesMap[key] =</span>
        (item instanceof templates.Text) ? new templates.Attribute(item.data, nsUri) :
        (item instanceof templates.DynamicText) ?
          (item.expression instanceof expressions.LiteralExpression) ?
            new templates.Attribute(item.expression.value, nsUri) :
            new templates.DynamicAttribute(item.expression, nsUri) :
          new templates.DynamicAttribute(item, nsUri);
&nbsp;
    } else <span class="cstat-no" title="statement not covered" >if (parseNode.content.length &gt; 1) {</span>
<span class="cstat-no" title="statement not covered" >      var template = new templates.Template(parseNode.content, value);</span>
<span class="cstat-no" title="statement not covered" >      attributesMap[key] = new templates.DynamicAttribute(template, nsUri);</span>
&nbsp;
    } else {
<span class="cstat-no" title="statement not covered" >      throw new Error('Error parsing ' + key + ' attribute: ' + value);</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    parseNode = parseNode.parent;</span>
  }
<span class="cstat-no" title="statement not covered" >  return attributesMap;</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function parseHtmlEnd(tag, tagName) {</span>
<span class="cstat-no" title="statement not covered" >  parseNode = parseNode.parent;</span>
<span class="cstat-no" title="statement not covered" >  var last = parseNode.last();</span>
<span class="cstat-no" title="statement not covered" >  if (!(</span>
    (last instanceof templates.DynamicElement &amp;&amp; tagName.toLowerCase() === 'tag') ||
    (last instanceof templates.Element &amp;&amp; last.tagName === tagName)
  )) {
<span class="cstat-no" title="statement not covered" >    throw new Error('Mismatched closing HTML tag: ' + tag);</span>
  }
<span class="cstat-no" title="statement not covered" >  parseElementClose(tagName);</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function parseElementClose(tagName) {</span>
<span class="cstat-no" title="statement not covered" >  if (tagName === 'view') {</span>
<span class="cstat-no" title="statement not covered" >    var element = parseNode.content.pop();</span>
<span class="cstat-no" title="statement not covered" >    parseViewElement(element);</span>
<span class="cstat-no" title="statement not covered" >    return;</span>
  }
<span class="cstat-no" title="statement not covered" >  var view = viewForTagName(tagName);</span>
<span class="cstat-no" title="statement not covered" >  if (view) {</span>
<span class="cstat-no" title="statement not covered" >    var element = parseNode.content.pop();</span>
<span class="cstat-no" title="statement not covered" >    parseNamedViewElement(element, view, view.name);</span>
<span class="cstat-no" title="statement not covered" >    return;</span>
  }
<span class="cstat-no" title="statement not covered" >  var element = parseNode.last();</span>
<span class="cstat-no" title="statement not covered" >  markup.emit('element', element);</span>
<span class="cstat-no" title="statement not covered" >  markup.emit('element:' + tagName, element);</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function viewForTagName(tagName) {</span>
<span class="cstat-no" title="statement not covered" >  return parseNode.view &amp;&amp; parseNode.view.views.tagMap[tagName];</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function parseHtmlText(data, isRawText) {</span>
<span class="cstat-no" title="statement not covered" >  var environment = (isRawText) ? 'string' : 'html';</span>
<span class="cstat-no" title="statement not covered" >  parseText(data, parseTextLiteral, parseTextExpression, environment);</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function parseHtmlComment(tag, data) {</span>
  // Only output comments that start with `&lt;!--[` and end with `]--&gt;`
<span class="cstat-no" title="statement not covered" >  if (!htmlUtil.isConditionalComment(tag)) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >  var comment = new templates.Comment(data);</span>
<span class="cstat-no" title="statement not covered" >  parseNode.content.push(comment);</span>
}
&nbsp;
var doctypeRegExp = /^&lt;!DOCTYPE\s+([^\s]+)(?:\s+(PUBLIC|SYSTEM)\s+"([^"]+)"(?:\s+"([^"]+)")?)?\s*&gt;/i;
&nbsp;
<span class="fstat-no" title="function not covered" >function parseHtmlOther(tag) {</span>
<span class="cstat-no" title="statement not covered" >  var match = doctypeRegExp.exec(tag);</span>
<span class="cstat-no" title="statement not covered" >  if (match) {</span>
<span class="cstat-no" title="statement not covered" >    var name = match[1];</span>
<span class="cstat-no" title="statement not covered" >    var idType = match[2] &amp;&amp; match[2].toLowerCase();</span>
<span class="cstat-no" title="statement not covered" >    var publicId, systemId;</span>
<span class="cstat-no" title="statement not covered" >    if (idType === 'public') {</span>
<span class="cstat-no" title="statement not covered" >      publicId = match[3];</span>
<span class="cstat-no" title="statement not covered" >      systemId = match[4];</span>
    } else <span class="cstat-no" title="statement not covered" >if (idType === 'system') {</span>
<span class="cstat-no" title="statement not covered" >      systemId = match[3];</span>
    }
<span class="cstat-no" title="statement not covered" >    var doctype = new templates.Doctype(name, publicId, systemId);</span>
<span class="cstat-no" title="statement not covered" >    parseNode.content.push(doctype);</span>
  } else {
<span class="cstat-no" title="statement not covered" >    unexpected(tag);</span>
  }
}
&nbsp;
<span class="fstat-no" title="function not covered" >function parseTextLiteral(data) {</span>
<span class="cstat-no" title="statement not covered" >  var text = new templates.Text(data);</span>
<span class="cstat-no" title="statement not covered" >  parseNode.content.push(text);</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function parseTextExpression(source, environment) {</span>
<span class="cstat-no" title="statement not covered" >  var expression = createExpression(source);</span>
<span class="cstat-no" title="statement not covered" >  if (expression.meta.blockType) {</span>
<span class="cstat-no" title="statement not covered" >    parseBlockExpression(expression);</span>
  } else <span class="cstat-no" title="statement not covered" >if (expression.meta.valueType === 'view') {</span>
<span class="cstat-no" title="statement not covered" >    parseViewExpression(expression);</span>
  } else <span class="cstat-no" title="statement not covered" >if (expression.meta.unescaped &amp;&amp; environment === 'html') {</span>
<span class="cstat-no" title="statement not covered" >    var html = new templates.DynamicHtml(expression);</span>
<span class="cstat-no" title="statement not covered" >    parseNode.content.push(html);</span>
  } else {
<span class="cstat-no" title="statement not covered" >    var text = new templates.DynamicText(expression);</span>
<span class="cstat-no" title="statement not covered" >    parseNode.content.push(text);</span>
  }
}
&nbsp;
<span class="fstat-no" title="function not covered" >function parseBlockExpression(expression) {</span>
<span class="cstat-no" title="statement not covered" >  var blockType = expression.meta.blockType;</span>
&nbsp;
  // Block ending
<span class="cstat-no" title="statement not covered" >  if (expression.meta.isEnd) {</span>
<span class="cstat-no" title="statement not covered" >    parseNode = parseNode.parent;</span>
    // Validate that the block ending matches an appropriate block start
<span class="cstat-no" title="statement not covered" >    var last = parseNode.last();</span>
<span class="cstat-no" title="statement not covered" >    var lastExpression = last &amp;&amp; (last.expression || (last.expressions &amp;&amp; last.expressions[0]));</span>
<span class="cstat-no" title="statement not covered" >    if (!(</span>
      lastExpression &amp;&amp;
      (blockType === 'end' &amp;&amp; lastExpression.meta.blockType) ||
      (blockType === lastExpression.meta.blockType)
    )) {
<span class="cstat-no" title="statement not covered" >      throw new Error('Mismatched closing template tag: ' + expression.meta.source);</span>
    }
&nbsp;
  // Continuing block
  } else <span class="cstat-no" title="statement not covered" >if (blockType === 'else' || blockType === 'else if') {</span>
<span class="cstat-no" title="statement not covered" >    parseNode = parseNode.parent;</span>
<span class="cstat-no" title="statement not covered" >    var last = parseNode.last();</span>
<span class="cstat-no" title="statement not covered" >    parseNode = parseNode.child();</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (last instanceof templates.ConditionalBlock) {</span>
<span class="cstat-no" title="statement not covered" >      last.expressions.push(expression);</span>
<span class="cstat-no" title="statement not covered" >      last.contents.push(parseNode.content);</span>
    } else <span class="cstat-no" title="statement not covered" >if (last instanceof templates.EachBlock) {</span>
<span class="cstat-no" title="statement not covered" >      if (blockType !== 'else') <span class="cstat-no" title="statement not covered" >unexpected(expression.meta.source);</span></span>
<span class="cstat-no" title="statement not covered" >      last.elseContent = parseNode.content;</span>
    } else {
<span class="cstat-no" title="statement not covered" >      unexpected(expression.meta.source);</span>
    }
&nbsp;
  // Block start
  } else {
<span class="cstat-no" title="statement not covered" >    var nextNode = parseNode.child();</span>
<span class="cstat-no" title="statement not covered" >    var block;</span>
<span class="cstat-no" title="statement not covered" >    if (blockType === 'if' || blockType === 'unless') {</span>
<span class="cstat-no" title="statement not covered" >      block = new templates.ConditionalBlock([expression], [nextNode.content]);</span>
    } else <span class="cstat-no" title="statement not covered" >if (blockType === 'each') {</span>
<span class="cstat-no" title="statement not covered" >      block = new templates.EachBlock(expression, nextNode.content);</span>
    } else {
<span class="cstat-no" title="statement not covered" >      block = new templates.Block(expression, nextNode.content);</span>
    }
<span class="cstat-no" title="statement not covered" >    parseNode.content.push(block);</span>
<span class="cstat-no" title="statement not covered" >    parseNode = nextNode;</span>
  }
}
&nbsp;
<span class="fstat-no" title="function not covered" >function parseViewElement(element) {</span>
  // TODO: "name" is deprecated in lieu of "is". Remove "name" in Derby 0.6.0
<span class="cstat-no" title="statement not covered" >  var nameAttribute = element.attributes.is || element.attributes.name;</span>
<span class="cstat-no" title="statement not covered" >  if (!nameAttribute) {</span>
<span class="cstat-no" title="statement not covered" >    throw new Error('The &lt;view&gt; element requires an "is" attribute');</span>
  }
<span class="cstat-no" title="statement not covered" >  delete element.attributes.is;</span>
<span class="cstat-no" title="statement not covered" >  delete element.attributes.name;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (nameAttribute.expression) {</span>
<span class="cstat-no" title="statement not covered" >    var viewAttributes = viewAttributesFromElement(element);</span>
<span class="cstat-no" title="statement not covered" >    var componentHooks = componentHooksFromAttributes(viewAttributes);</span>
<span class="cstat-no" title="statement not covered" >    var remaining = element.content || [];</span>
<span class="cstat-no" title="statement not covered" >    var viewInstance = createDynamicViewInstance(nameAttribute.expression, viewAttributes, componentHooks.hooks, componentHooks.initHooks);</span>
<span class="cstat-no" title="statement not covered" >    finishParseViewElement(viewAttributes, remaining, viewInstance);</span>
  } else {
<span class="cstat-no" title="statement not covered" >    var name = nameAttribute.data;</span>
<span class="cstat-no" title="statement not covered" >    var view = findView(name);</span>
<span class="cstat-no" title="statement not covered" >    parseNamedViewElement(element, view, name);</span>
  }
}
&nbsp;
<span class="fstat-no" title="function not covered" >function findView(name) {</span>
<span class="cstat-no" title="statement not covered" >  var view = parseNode.view.views.find(name, parseNode.view.namespace);</span>
<span class="cstat-no" title="statement not covered" >  if (!view) {</span>
<span class="cstat-no" title="statement not covered" >    var message = parseNode.view.views.findErrorMessage(name);</span>
<span class="cstat-no" title="statement not covered" >    throw new Error(message);</span>
  }
<span class="cstat-no" title="statement not covered" >  return view;</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function parseNamedViewElement(element, view, name) {</span>
<span class="cstat-no" title="statement not covered" >  var viewAttributes = viewAttributesFromElement(element);</span>
<span class="cstat-no" title="statement not covered" >  var componentHooks = componentHooksFromAttributes(viewAttributes);</span>
<span class="cstat-no" title="statement not covered" >  var remaining = parseContentAttributes(element.content, view, viewAttributes);</span>
<span class="cstat-no" title="statement not covered" >  var viewInstance = new templates.ViewInstance(view.registeredName, viewAttributes, componentHooks.hooks, componentHooks.initHooks);</span>
<span class="cstat-no" title="statement not covered" >  finishParseViewElement(viewAttributes, remaining, viewInstance);</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function createDynamicViewInstance(expression, attributes, hooks, initHooks) {</span>
<span class="cstat-no" title="statement not covered" >  var viewInstance = new templates.DynamicViewInstance(expression, attributes, hooks, initHooks);</span>
  // Wrap the viewInstance in a block with the same expression, so that it is
  // re-rendered when any of its dependencies change
<span class="cstat-no" title="statement not covered" >  return new templates.Block(expression, [viewInstance]);</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function finishParseViewElement(viewAttributes, remaining, viewInstance) {</span>
<span class="cstat-no" title="statement not covered" >  if (!viewAttributes.hasOwnProperty('content') &amp;&amp; remaining.length) {</span>
<span class="cstat-no" title="statement not covered" >    var template = new templates.Template(remaining);</span>
<span class="cstat-no" title="statement not covered" >    viewAttributes.content = (viewAttributes.within) ? template :</span>
      new templates.ParentWrapper(template);
  }
<span class="cstat-no" title="statement not covered" >  parseNode.content.push(viewInstance);</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function viewAttributesFromElement(element) {</span>
<span class="cstat-no" title="statement not covered" >  var viewAttributes = {};</span>
<span class="cstat-no" title="statement not covered" >  for (var key in element.attributes) {</span>
<span class="cstat-no" title="statement not covered" >    var attribute = element.attributes[key];</span>
<span class="cstat-no" title="statement not covered" >    var camelCased = dashToCamelCase(key);</span>
<span class="cstat-no" title="statement not covered" >    viewAttributes[camelCased] =</span>
      (attribute.expression instanceof templates.Template) ?
        new templates.ParentWrapper(attribute.expression) :
      (attribute.expression instanceof expressions.Expression) ?
        new templates.ParentWrapper(new templates.DynamicText(attribute.expression), attribute.expression) :
      attribute.data;
  }
<span class="cstat-no" title="statement not covered" >  return viewAttributes;</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function parseAsAttribute(key, value) {</span>
<span class="cstat-no" title="statement not covered" >  var expression = createPathExpression(value);</span>
<span class="cstat-no" title="statement not covered" >  if (!(expression instanceof expressions.PathExpression)) {</span>
<span class="cstat-no" title="statement not covered" >    throw new Error(key + ' attribute must be a path: ' + key + '="' + value + '"');</span>
  }
<span class="cstat-no" title="statement not covered" >  return expression.segments;</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function parseAsObjectAttribute(key, value) {</span>
<span class="cstat-no" title="statement not covered" >  var expression = createPathExpression(value);</span>
<span class="cstat-no" title="statement not covered" >  if (!(</span>
    expression instanceof expressions.SequenceExpression &amp;&amp;
    expression.args.length === 2 &amp;&amp;
    expression.args[0] instanceof expressions.PathExpression
  )) {
<span class="cstat-no" title="statement not covered" >    throw new Error(key + ' attribute requires a path and a key argument: ' + key + '="' + value + '"');</span>
  }
<span class="cstat-no" title="statement not covered" >  var segments = expression.args[0].segments;</span>
<span class="cstat-no" title="statement not covered" >  var expression = expression.args[1];</span>
<span class="cstat-no" title="statement not covered" >  return {segments: segments, expression: expression};</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function parseOnAttribute(key, value) {</span>
  // TODO: Argument checking
<span class="cstat-no" title="statement not covered" >  return createPathExpression(value);</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function elementHooksFromAttributes(attributes, type) {</span>
<span class="cstat-no" title="statement not covered" >  if (!attributes) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >  var hooks = [];</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  for (var key in attributes) {</span>
<span class="cstat-no" title="statement not covered" >    var value = attributes[key];</span>
&nbsp;
    // Parse `as` assignments
<span class="cstat-no" title="statement not covered" >    if (key === 'as') {</span>
<span class="cstat-no" title="statement not covered" >      var segments = parseAsAttribute(key, value);</span>
<span class="cstat-no" title="statement not covered" >      hooks.push(new templates.AsProperty(segments));</span>
<span class="cstat-no" title="statement not covered" >      delete attributes[key];</span>
<span class="cstat-no" title="statement not covered" >      continue;</span>
    }
<span class="cstat-no" title="statement not covered" >    if (key === 'as-array') {</span>
<span class="cstat-no" title="statement not covered" >      var segments = parseAsAttribute(key, value);</span>
<span class="cstat-no" title="statement not covered" >      hooks.push(new templates.AsArray(segments));</span>
<span class="cstat-no" title="statement not covered" >      delete attributes[key];</span>
<span class="cstat-no" title="statement not covered" >      continue;</span>
    }
<span class="cstat-no" title="statement not covered" >    if (key === 'as-object') {</span>
<span class="cstat-no" title="statement not covered" >      var parsed = parseAsObjectAttribute(key, value);</span>
<span class="cstat-no" title="statement not covered" >      hooks.push(new templates.AsObject(parsed.segments, parsed.expression));</span>
<span class="cstat-no" title="statement not covered" >      delete attributes[key];</span>
<span class="cstat-no" title="statement not covered" >      continue;</span>
    }
&nbsp;
    // Parse event listeners
<span class="cstat-no" title="statement not covered" >    var match = /^on-(.+)/.exec(key);</span>
<span class="cstat-no" title="statement not covered" >    var eventName = match &amp;&amp; match[1];</span>
<span class="cstat-no" title="statement not covered" >    if (eventName) {</span>
<span class="cstat-no" title="statement not covered" >      var expression = parseOnAttribute(key, value);</span>
<span class="cstat-no" title="statement not covered" >      hooks.push(new templates.ElementOn(eventName, expression));</span>
<span class="cstat-no" title="statement not covered" >      delete attributes[key];</span>
    }
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (hooks.length) <span class="cstat-no" title="statement not covered" >return hooks;</span></span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function componentHooksFromAttributes(attributes) {</span>
<span class="cstat-no" title="statement not covered" >  if (!attributes) <span class="cstat-no" title="statement not covered" >return {};</span></span>
<span class="cstat-no" title="statement not covered" >  var hooks = [];</span>
<span class="cstat-no" title="statement not covered" >  var initHooks = [];</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  for (var key in attributes) {</span>
<span class="cstat-no" title="statement not covered" >    var value = attributes[key];</span>
&nbsp;
    // Parse `as` assignments
<span class="cstat-no" title="statement not covered" >    if (key === 'as') {</span>
<span class="cstat-no" title="statement not covered" >      var segments = parseAsAttribute(key, value);</span>
<span class="cstat-no" title="statement not covered" >      hooks.push(new templates.AsProperty(segments));</span>
<span class="cstat-no" title="statement not covered" >      delete attributes[key];</span>
<span class="cstat-no" title="statement not covered" >      continue;</span>
    }
<span class="cstat-no" title="statement not covered" >    if (key === 'asArray') {</span>
<span class="cstat-no" title="statement not covered" >      var segments = parseAsAttribute('as-array', value);</span>
<span class="cstat-no" title="statement not covered" >      hooks.push(new templates.AsArrayComponent(segments));</span>
<span class="cstat-no" title="statement not covered" >      delete attributes[key];</span>
<span class="cstat-no" title="statement not covered" >      continue;</span>
    }
<span class="cstat-no" title="statement not covered" >    if (key === 'asObject') {</span>
<span class="cstat-no" title="statement not covered" >      var parsed = parseAsObjectAttribute('as-object', value);</span>
<span class="cstat-no" title="statement not covered" >      hooks.push(new templates.AsObjectComponent(parsed.segments, parsed.expression));</span>
<span class="cstat-no" title="statement not covered" >      delete attributes[key];</span>
<span class="cstat-no" title="statement not covered" >      continue;</span>
    }
&nbsp;
    // Parse event listeners
<span class="cstat-no" title="statement not covered" >    var match = /^on([A-Z_].*)/.exec(key);</span>
<span class="cstat-no" title="statement not covered" >    var eventName = match &amp;&amp; match[1].charAt(0).toLowerCase() + match[1].slice(1);</span>
<span class="cstat-no" title="statement not covered" >    if (eventName) {</span>
<span class="cstat-no" title="statement not covered" >      var expression = parseOnAttribute(key, value);</span>
<span class="cstat-no" title="statement not covered" >      initHooks.push(new templates.ComponentOn(eventName, expression));</span>
<span class="cstat-no" title="statement not covered" >      delete attributes[key];</span>
    }
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  return {</span>
    hooks: (hooks.length) ? hooks : null,
    initHooks: (initHooks.length) ? initHooks : null
  };
}
&nbsp;
<span class="fstat-no" title="function not covered" >function dashToCamelCase(string) {</span>
<span class="cstat-no" title="statement not covered" >  return string.replace(/-./g, <span class="fstat-no" title="function not covered" >function(match) {</span></span>
<span class="cstat-no" title="statement not covered" >    return match.charAt(1).toUpperCase();</span>
  });
}
&nbsp;
<span class="fstat-no" title="function not covered" >function parseContentAttributes(content, view, viewAttributes) {</span>
<span class="cstat-no" title="statement not covered" >  var remaining = [];</span>
<span class="cstat-no" title="statement not covered" >  if (!content) <span class="cstat-no" title="statement not covered" >return remaining;</span></span>
<span class="cstat-no" title="statement not covered" >  for (var i = 0, len = content.length; i &lt; len; i++) {</span>
<span class="cstat-no" title="statement not covered" >    var item = content[i];</span>
<span class="cstat-no" title="statement not covered" >    var name = (item instanceof templates.Element) &amp;&amp; item.tagName;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (name === 'attribute') {</span>
<span class="cstat-no" title="statement not covered" >      var name = parseNameAttribute(item);</span>
<span class="cstat-no" title="statement not covered" >      parseAttributeElement(item, name, viewAttributes);</span>
&nbsp;
    } else <span class="cstat-no" title="statement not covered" >if (view.attributesMap &amp;&amp; view.attributesMap[name]) {</span>
<span class="cstat-no" title="statement not covered" >      parseAttributeElement(item, name, viewAttributes);</span>
&nbsp;
    } else <span class="cstat-no" title="statement not covered" >if (name === 'array') {</span>
<span class="cstat-no" title="statement not covered" >      var name = parseNameAttribute(item);</span>
<span class="cstat-no" title="statement not covered" >      parseArrayElement(item, name, viewAttributes);</span>
&nbsp;
    } else <span class="cstat-no" title="statement not covered" >if (view.arraysMap &amp;&amp; view.arraysMap[name]) {</span>
<span class="cstat-no" title="statement not covered" >      parseArrayElement(item, view.arraysMap[name], viewAttributes);</span>
&nbsp;
    } else {
<span class="cstat-no" title="statement not covered" >      remaining.push(item);</span>
    }
  }
<span class="cstat-no" title="statement not covered" >  return remaining;</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function parseNameAttribute(element) {</span>
  // TODO: "name" is deprecated in lieu of "is". Remove "name" in Derby 0.6.0
<span class="cstat-no" title="statement not covered" >  var nameAttribute = element.attributes.is || element.attributes.name;</span>
<span class="cstat-no" title="statement not covered" >  var name = nameAttribute.data;</span>
<span class="cstat-no" title="statement not covered" >  if (!name) {</span>
<span class="cstat-no" title="statement not covered" >    throw new Error('The &lt;' + element.tagName + '&gt; element requires a literal "is" attribute');</span>
  }
<span class="cstat-no" title="statement not covered" >  delete element.attributes.is;</span>
<span class="cstat-no" title="statement not covered" >  delete element.attributes.name;</span>
<span class="cstat-no" title="statement not covered" >  return name;</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function parseAttributeElement(element, name, viewAttributes) {</span>
<span class="cstat-no" title="statement not covered" >  var camelName = dashToCamelCase(name);</span>
<span class="cstat-no" title="statement not covered" >  var content = new templates.Template(element.content);</span>
<span class="cstat-no" title="statement not covered" >  viewAttributes[camelName] = (element.attributes &amp;&amp; element.attributes.within) ?</span>
    content : new templates.ParentWrapper(content);
}
&nbsp;
<span class="fstat-no" title="function not covered" >function parseArrayElement(element, name, viewAttributes) {</span>
<span class="cstat-no" title="statement not covered" >  var item = viewAttributesFromElement(element);</span>
<span class="cstat-no" title="statement not covered" >  if (!item.hasOwnProperty('content') &amp;&amp; element.content.length) {</span>
<span class="cstat-no" title="statement not covered" >    item.content = new templates.ParentWrapper(</span>
      new templates.Template(element.content)
    );
  }
<span class="cstat-no" title="statement not covered" >  var camelName = dashToCamelCase(name);</span>
<span class="cstat-no" title="statement not covered" >  var viewAttribute = viewAttributes[camelName] ||</span>
    (viewAttributes[camelName] = []);
<span class="cstat-no" title="statement not covered" >  viewAttribute.push(item);</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function parseViewExpression(expression) {</span>
  // If there are multiple arguments separated by commas, they will get parsed
  // as a SequenceExpression
<span class="cstat-no" title="statement not covered" >  var nameExpression, attributesExpression;</span>
<span class="cstat-no" title="statement not covered" >  if (expression instanceof expressions.SequenceExpression) {</span>
<span class="cstat-no" title="statement not covered" >    nameExpression = expression.args[0];</span>
<span class="cstat-no" title="statement not covered" >    attributesExpression = expression.args[1];</span>
  } else {
<span class="cstat-no" title="statement not covered" >    nameExpression = expression;</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  var viewAttributes = viewAttributesFromExpression(attributesExpression);</span>
<span class="cstat-no" title="statement not covered" >  var componentHooks = componentHooksFromAttributes(viewAttributes);</span>
&nbsp;
  // A ViewInstance has a static name, and a DynamicViewInstance gets its name
  // at render time
<span class="cstat-no" title="statement not covered" >  var viewInstance;</span>
<span class="cstat-no" title="statement not covered" >  if (nameExpression instanceof expressions.LiteralExpression) {</span>
<span class="cstat-no" title="statement not covered" >    var name = nameExpression.get();</span>
    // Will throw if the view can't be found immediately
<span class="cstat-no" title="statement not covered" >    findView(name);</span>
<span class="cstat-no" title="statement not covered" >    viewInstance = new templates.ViewInstance(name, viewAttributes, componentHooks.hooks, componentHooks.initHooks);</span>
  } else {
<span class="cstat-no" title="statement not covered" >    viewInstance = createDynamicViewInstance(nameExpression, viewAttributes, componentHooks.hooks, componentHooks.initHooks);</span>
  }
<span class="cstat-no" title="statement not covered" >  parseNode.content.push(viewInstance);</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function viewAttributesFromExpression(expression) {</span>
<span class="cstat-no" title="statement not covered" >  if (!expression) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >  var object = objectFromObjectExpression(expression);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  var viewAttributes = {};</span>
<span class="cstat-no" title="statement not covered" >  for (var key in object) {</span>
<span class="cstat-no" title="statement not covered" >    var value = object[key];</span>
<span class="cstat-no" title="statement not covered" >    viewAttributes[key] =</span>
      (value instanceof expressions.LiteralExpression) ? value.value :
      (value instanceof expressions.Expression) ?
        new templates.ParentWrapper(new templates.DynamicText(value), value) :
      value;
  }
<span class="cstat-no" title="statement not covered" >  return viewAttributes;</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function objectFromObjectExpression(expression) {</span>
<span class="cstat-no" title="statement not covered" >  if (expression instanceof expressions.LiteralExpression) {</span>
<span class="cstat-no" title="statement not covered" >    var object = expression.value;</span>
<span class="cstat-no" title="statement not covered" >    if (typeof object !== 'object') <span class="cstat-no" title="statement not covered" >unexpected();</span></span>
<span class="cstat-no" title="statement not covered" >    return object;</span>
&nbsp;
  // Get the expressions and keys from a OperatorExpression that would have been
  // created for an object literal with non-literal properties
  } else <span class="cstat-no" title="statement not covered" >if (expression instanceof expressions.OperatorExpression &amp;&amp; expression.name === '{}') {</span>
<span class="cstat-no" title="statement not covered" >    var object = {};</span>
<span class="cstat-no" title="statement not covered" >    var args = expression.args;</span>
<span class="cstat-no" title="statement not covered" >    for (var i = 0, len = args.length; i &lt; len; i += 2) {</span>
<span class="cstat-no" title="statement not covered" >      var key = args[i].value;</span>
<span class="cstat-no" title="statement not covered" >      var value = args[i + 1];</span>
<span class="cstat-no" title="statement not covered" >      object[key] = value;</span>
    }
<span class="cstat-no" title="statement not covered" >    return object;</span>
&nbsp;
  } else {
<span class="cstat-no" title="statement not covered" >    unexpected();</span>
  }
}
&nbsp;
<span class="fstat-no" title="function not covered" >function ParseNode(view, parent) {</span>
<span class="cstat-no" title="statement not covered" >  this.view = view;</span>
<span class="cstat-no" title="statement not covered" >  this.parent = parent;</span>
<span class="cstat-no" title="statement not covered" >  this.content = [];</span>
<span class="cstat-no" title="statement not covered" >  this.namespaceUri = parent &amp;&amp; parent.namespaceUri;</span>
}
ParseNode.prototype.child = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  return new ParseNode(this.view, this);</span>
};
ParseNode.prototype.last = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  return this.content[this.content.length - 1];</span>
};
&nbsp;
<span class="fstat-no" title="function not covered" >function escapeBraced(source) {</span>
<span class="cstat-no" title="statement not covered" >  var out = '';</span>
<span class="cstat-no" title="statement not covered" >  parseText(source, onLiteral, onExpression, 'string');</span>
<span class="fstat-no" title="function not covered" >  function onLiteral(text) {</span>
<span class="cstat-no" title="statement not covered" >    out += text;</span>
  }
<span class="fstat-no" title="function not covered" >  function onExpression(text) {</span>
<span class="cstat-no" title="statement not covered" >    var escaped = text.replace(/[&amp;&lt;]/g, <span class="fstat-no" title="function not covered" >function(match) {</span></span>
<span class="cstat-no" title="statement not covered" >      return (match === '&amp;') ? '&amp;amp;' : '&amp;lt;';</span>
    });
<span class="cstat-no" title="statement not covered" >    out += '{{' + escaped + '}}';</span>
  }
<span class="cstat-no" title="statement not covered" >  return out;</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function unescapeBraced(source) {</span>
<span class="cstat-no" title="statement not covered" >  return source.replace(/(?:&amp;amp;|&amp;lt;)/g, <span class="fstat-no" title="function not covered" >function(match) {</span></span>
<span class="cstat-no" title="statement not covered" >    return (match === '&amp;amp;') ? '&amp;' : '&lt;';</span>
  });
}
&nbsp;
<span class="fstat-no" title="function not covered" >function unescapeTextLiteral(text, environment) {</span>
<span class="cstat-no" title="statement not covered" >  return (environment === 'html' || environment === 'attribute') ?</span>
    htmlUtil.unescapeEntities(text) :
    text;
}
&nbsp;
<span class="fstat-no" title="function not covered" >function parseText(data, onLiteral, onExpression, environment) {</span>
<span class="cstat-no" title="statement not covered" >  var current = data;</span>
<span class="cstat-no" title="statement not covered" >  var last;</span>
<span class="cstat-no" title="statement not covered" >  while (current) {</span>
<span class="cstat-no" title="statement not covered" >    if (current === last) <span class="cstat-no" title="statement not covered" >throw new Error('Error parsing template text: ' + data);</span></span>
<span class="cstat-no" title="statement not covered" >    last = current;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    var start = current.indexOf('{{');</span>
<span class="cstat-no" title="statement not covered" >    if (start === -1) {</span>
<span class="cstat-no" title="statement not covered" >      var unescapedCurrent = unescapeTextLiteral(current, environment);</span>
<span class="cstat-no" title="statement not covered" >      onLiteral(unescapedCurrent);</span>
<span class="cstat-no" title="statement not covered" >      return;</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    var end = matchBraces(current, 2, start, '{', '}');</span>
<span class="cstat-no" title="statement not covered" >    if (end === -1) <span class="cstat-no" title="statement not covered" >throw new Error('Mismatched braces in: ' + data);</span></span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (start &gt; 0) {</span>
<span class="cstat-no" title="statement not covered" >      var before = current.slice(0, start);</span>
<span class="cstat-no" title="statement not covered" >      var unescapedBefore = unescapeTextLiteral(before, environment);</span>
<span class="cstat-no" title="statement not covered" >      onLiteral(unescapedBefore);</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    var inside = current.slice(start + 2, end - 2);</span>
<span class="cstat-no" title="statement not covered" >    if (inside) {</span>
<span class="cstat-no" title="statement not covered" >      var unescapedInside = unescapeBraced(inside);</span>
<span class="cstat-no" title="statement not covered" >      unescapedInside = unescapeTextLiteral(unescapedInside, environment);</span>
<span class="cstat-no" title="statement not covered" >      onExpression(unescapedInside, environment);</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    current = current.slice(end);</span>
  }
}
&nbsp;
<span class="fstat-no" title="function not covered" >function matchBraces(text, num, i, openChar, closeChar) {</span>
<span class="cstat-no" title="statement not covered" >  i += num;</span>
<span class="cstat-no" title="statement not covered" >  while (num) {</span>
<span class="cstat-no" title="statement not covered" >    var close = text.indexOf(closeChar, i);</span>
<span class="cstat-no" title="statement not covered" >    var open = text.indexOf(openChar, i);</span>
<span class="cstat-no" title="statement not covered" >    var hasClose = close !== -1;</span>
<span class="cstat-no" title="statement not covered" >    var hasOpen = open !== -1;</span>
<span class="cstat-no" title="statement not covered" >    if (hasClose &amp;&amp; (!hasOpen || (close &lt; open))) {</span>
<span class="cstat-no" title="statement not covered" >      i = close + 1;</span>
<span class="cstat-no" title="statement not covered" >      num--;</span>
<span class="cstat-no" title="statement not covered" >      continue;</span>
    } else <span class="cstat-no" title="statement not covered" >if (hasOpen) {</span>
<span class="cstat-no" title="statement not covered" >      i = open + 1;</span>
<span class="cstat-no" title="statement not covered" >      num++;</span>
<span class="cstat-no" title="statement not covered" >      continue;</span>
    } else {
<span class="cstat-no" title="statement not covered" >      return -1;</span>
    }
  }
<span class="cstat-no" title="statement not covered" >  return i;</span>
}
&nbsp;
var blockRegExp = /^(if|unless|else if|each|with|on)\s+([\s\S]+?)(?:\s+as\s+([^,\s]+)\s*(?:,\s*(\S+))?)?$/;
var valueRegExp = /^(?:(view|unbound|bound|unescaped)\s+)?([\s\S]*)/;
&nbsp;
<span class="fstat-no" title="function not covered" >function createExpression(source) {</span>
<span class="cstat-no" title="statement not covered" >  source = source.trim();</span>
<span class="cstat-no" title="statement not covered" >  var meta = new expressions.ExpressionMeta(source);</span>
&nbsp;
  // Parse block expression //
&nbsp;
  // The block expressions `if`, `unless`, `else if`, `each`, `with`, and `on`
  // must have a single blockType keyword and a path. They may have an optional
  // alias assignment
<span class="cstat-no" title="statement not covered" >  var match = blockRegExp.exec(source);</span>
<span class="cstat-no" title="statement not covered" >  var path;</span>
<span class="cstat-no" title="statement not covered" >  if (match) {</span>
<span class="cstat-no" title="statement not covered" >    meta.blockType = match[1];</span>
<span class="cstat-no" title="statement not covered" >    path = match[2];</span>
<span class="cstat-no" title="statement not covered" >    meta.as = match[3];</span>
<span class="cstat-no" title="statement not covered" >    meta.keyAs = match[4];</span>
&nbsp;
  // The blocks `else`, `unbound`, and `bound` may not have a path or alias
  } else <span class="cstat-no" title="statement not covered" >if (source === 'else' || source === 'unbound' || source === 'bound') {</span>
<span class="cstat-no" title="statement not covered" >    meta.blockType = source;</span>
&nbsp;
  // Any source that starts with a `/` is treated as an end block. Either a
  // `{{/}}` with no following characters or a `{{/if}}` style ending is valid
  } else <span class="cstat-no" title="statement not covered" >if (source.charAt(0) === '/') {</span>
<span class="cstat-no" title="statement not covered" >    meta.isEnd = true;</span>
<span class="cstat-no" title="statement not covered" >    meta.blockType = source.slice(1).trim() || 'end';</span>
&nbsp;
&nbsp;
  // Parse value expression //
&nbsp;
  // A value expression has zero or many keywords and an expression
  } else {
<span class="cstat-no" title="statement not covered" >    path = source;</span>
<span class="cstat-no" title="statement not covered" >    var keyword;</span>
<span class="cstat-no" title="statement not covered" >    do {</span>
<span class="cstat-no" title="statement not covered" >      match = valueRegExp.exec(path);</span>
<span class="cstat-no" title="statement not covered" >      keyword = match[1];</span>
<span class="cstat-no" title="statement not covered" >      path = match[2];</span>
<span class="cstat-no" title="statement not covered" >      if (keyword === 'unescaped') {</span>
<span class="cstat-no" title="statement not covered" >        meta.unescaped = true;</span>
      } else <span class="cstat-no" title="statement not covered" >if (keyword === 'unbound' || keyword === 'bound') {</span>
<span class="cstat-no" title="statement not covered" >        meta.bindType = keyword;</span>
      } else <span class="cstat-no" title="statement not covered" >if (keyword) {</span>
<span class="cstat-no" title="statement not covered" >        meta.valueType = keyword;</span>
      }
    } while (keyword);
  }
&nbsp;
  // Wrap parsing in a try / catch to add context to message when throwing
<span class="cstat-no" title="statement not covered" >  var expression;</span>
<span class="cstat-no" title="statement not covered" >  try {</span>
<span class="cstat-no" title="statement not covered" >    expression = (path) ?</span>
      createPathExpression(path) :
      new expressions.Expression();
  } catch (err) {
<span class="cstat-no" title="statement not covered" >    var message = '\n\nWithin expression: ' + source;</span>
<span class="cstat-no" title="statement not covered" >    throw appendErrorMessage(err, message);</span>
  }
<span class="cstat-no" title="statement not covered" >  expression.meta = meta;</span>
<span class="cstat-no" title="statement not covered" >  return expression;</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function unexpected(source) {</span>
<span class="cstat-no" title="statement not covered" >  throw new Error('Error parsing template: ' + source);</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function appendErrorMessage(err, message) {</span>
<span class="cstat-no" title="statement not covered" >  if (err instanceof Error) {</span>
<span class="cstat-no" title="statement not covered" >    err.message += message;</span>
<span class="cstat-no" title="statement not covered" >    return err;</span>
  }
<span class="cstat-no" title="statement not covered" >  return new Error(err + message);</span>
}
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Tue Apr 18 2017 23:11:07 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-derby/node_modules/derby-parsing/lib/markup.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-derby">npmtest-derby (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-derby/node_modules/derby-parsing/lib/markup.js</span></h1>
    <h2>
        
        Statements: <span class="metric">45.45% <small>(15 / 33)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 16)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">33.33% <small>(2 / 6)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">46.88% <small>(15 / 32)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-derby/node_modules/derby-parsing/lib/</a> &#187; markup.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55</td><td class="line-coverage"><span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">16</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">var EventEmitter = require('events').EventEmitter;
var templates = require('derby-templates').templates;
var createPathExpression = require('./createPathExpression');
&nbsp;
// TODO: Should be its own module
&nbsp;
var markup = module.exports = new MarkupParser();
&nbsp;
function MarkupParser() {
  EventEmitter.call(this);
}
mergeInto(MarkupParser.prototype, EventEmitter.prototype);
&nbsp;
markup.on('element:a', <span class="fstat-no" title="function not covered" >function(template) {</span>
<span class="cstat-no" title="statement not covered" >  if (hasListenerFor(template, 'click')) {</span>
<span class="cstat-no" title="statement not covered" >    var attributes = template.attributes || (template.attributes = {});</span>
<span class="cstat-no" title="statement not covered" >    if (!attributes.href) {</span>
<span class="cstat-no" title="statement not covered" >      attributes.href = new templates.Attribute('#');</span>
<span class="cstat-no" title="statement not covered" >      addListener(template, 'click', '$preventDefault($event)');</span>
    }
  }
});
&nbsp;
markup.on('element:form', <span class="fstat-no" title="function not covered" >function(template) {</span>
<span class="cstat-no" title="statement not covered" >  if (hasListenerFor(template, 'submit')) {</span>
<span class="cstat-no" title="statement not covered" >    addListener(template, 'submit', '$preventDefault($event)');</span>
  }
});
&nbsp;
<span class="fstat-no" title="function not covered" >function hasListenerFor(template, eventName) {</span>
<span class="cstat-no" title="statement not covered" >  var hooks = template.hooks;</span>
<span class="cstat-no" title="statement not covered" >  if (!hooks) <span class="cstat-no" title="statement not covered" >return false;</span></span>
<span class="cstat-no" title="statement not covered" >  for (var i = 0, len = hooks.length; i &lt; len; i++) {</span>
<span class="cstat-no" title="statement not covered" >    var hook = hooks[i];</span>
<span class="cstat-no" title="statement not covered" >    if (hook instanceof templates.ElementOn &amp;&amp; hook.name === eventName) {</span>
<span class="cstat-no" title="statement not covered" >      return true;</span>
    }
  }
<span class="cstat-no" title="statement not covered" >  return false;</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function addListener(template, eventName, source) {</span>
<span class="cstat-no" title="statement not covered" >  var hooks = template.hooks || (template.hooks = []);</span>
<span class="cstat-no" title="statement not covered" >  var expression = createPathExpression(source);</span>
<span class="cstat-no" title="statement not covered" >  hooks.push(new templates.ElementOn(eventName, expression));</span>
}
&nbsp;
function mergeInto(to, from) {
  for (var key in from) {
    to[key] = from[key];
  }
  return to;
}
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Tue Apr 18 2017 23:11:07 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-derby/node_modules/derby-templates/</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header high">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-derby">npmtest-derby (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-derby/node_modules/derby-templates/</span></h1>
    <h2>
        
        Statements: <span class="metric">100% <small>(4 / 4)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">100% <small>(0 / 0)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">100% <small>(0 / 0)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">100% <small>(4 / 4)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../index.html">All files</a> &#187; node-npmtest-derby/node_modules/derby-templates/</div>
</div>
<div class="body">
<div class="coverage-summary">
<table>
<thead>
<tr>
   <th data-col="file" data-fmt="html" data-html="true" class="file">File</th>
   <th data-col="pic" data-type="number" data-fmt="html" data-html="true" class="pic"></th>
   <th data-col="statements" data-type="number" data-fmt="pct" class="pct">Statements</th>
   <th data-col="statements_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="branches" data-type="number" data-fmt="pct" class="pct">Branches</th>
   <th data-col="branches_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="functions" data-type="number" data-fmt="pct" class="pct">Functions</th>
   <th data-col="functions_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="lines" data-type="number" data-fmt="pct" class="pct">Lines</th>
   <th data-col="lines_raw" data-type="number" data-fmt="html" class="abs"></th>
</tr>
</thead>
<tbody><tr>
	<td class="file high" data-value="index.js"><a href="index.js.html">index.js</a></td>
	<td data-value="100" class="pic high"><span class="cover-fill cover-full" style="width: 100px;"></span><span class="cover-empty" style="width:0px;"></span></td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="4" class="abs high">(4&nbsp;/&nbsp;4)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="0" class="abs high">(0&nbsp;/&nbsp;0)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="0" class="abs high">(0&nbsp;/&nbsp;0)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="4" class="abs high">(4&nbsp;/&nbsp;4)</td>
	</tr>

</tbody>
</table>
</div></div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Tue Apr 18 2017 23:11:07 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-derby/node_modules/derby-templates/index.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header high">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-derby">npmtest-derby (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-derby/node_modules/derby-templates/index.js</span></h1>
    <h2>
        
        Statements: <span class="metric">100% <small>(4 / 4)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">100% <small>(0 / 0)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">100% <small>(0 / 0)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">100% <small>(4 / 4)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-derby/node_modules/derby-templates/</a> &#187; index.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6</td><td class="line-coverage"><span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">exports.contexts = require('./lib/contexts');
exports.expressions = require('./lib/expressions');
exports.operatorFns = require('./lib/operatorFns');
exports.templates = require('./lib/templates');
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Tue Apr 18 2017 23:11:07 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-derby/node_modules/derby-templates/lib/</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-derby">npmtest-derby (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-derby/node_modules/derby-templates/lib/</span></h1>
    <h2>
        
        Statements: <span class="metric">29.56% <small>(303 / 1025)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">1.06% <small>(4 / 376)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">1.68% <small>(4 / 238)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">31.6% <small>(303 / 959)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; node-npmtest-derby/node_modules/derby-templates/lib/</div>
</div>
<div class="body">
<div class="coverage-summary">
<table>
<thead>
<tr>
   <th data-col="file" data-fmt="html" data-html="true" class="file">File</th>
   <th data-col="pic" data-type="number" data-fmt="html" data-html="true" class="pic"></th>
   <th data-col="statements" data-type="number" data-fmt="pct" class="pct">Statements</th>
   <th data-col="statements_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="branches" data-type="number" data-fmt="pct" class="pct">Branches</th>
   <th data-col="branches_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="functions" data-type="number" data-fmt="pct" class="pct">Functions</th>
   <th data-col="functions_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="lines" data-type="number" data-fmt="pct" class="pct">Lines</th>
   <th data-col="lines_raw" data-type="number" data-fmt="html" class="abs"></th>
</tr>
</thead>
<tbody><tr>
	<td class="file low" data-value="contexts.js"><a href="contexts.js.html">contexts.js</a></td>
	<td data-value="21.1" class="pic low"><span class="cover-fill" style="width: 21px;"></span><span class="cover-empty" style="width:79px;"></span></td>
	<td data-value="21.1" class="pct low">21.1%</td>
	<td data-value="109" class="abs low">(23&nbsp;/&nbsp;109)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="50" class="abs low">(0&nbsp;/&nbsp;50)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="21" class="abs low">(0&nbsp;/&nbsp;21)</td>
	<td data-value="23.47" class="pct low">23.47%</td>
	<td data-value="98" class="abs low">(23&nbsp;/&nbsp;98)</td>
	</tr>

<tr>
	<td class="file low" data-value="expressions.js"><a href="expressions.js.html">expressions.js</a></td>
	<td data-value="32.06" class="pic low"><span class="cover-fill" style="width: 32px;"></span><span class="cover-empty" style="width:68px;"></span></td>
	<td data-value="32.06" class="pct low">32.06%</td>
	<td data-value="446" class="abs low">(143&nbsp;/&nbsp;446)</td>
	<td data-value="2.22" class="pct low">2.22%</td>
	<td data-value="180" class="abs low">(4&nbsp;/&nbsp;180)</td>
	<td data-value="3.75" class="pct low">3.75%</td>
	<td data-value="80" class="abs low">(3&nbsp;/&nbsp;80)</td>
	<td data-value="34.79" class="pct low">34.79%</td>
	<td data-value="411" class="abs low">(143&nbsp;/&nbsp;411)</td>
	</tr>

<tr>
	<td class="file low" data-value="operatorFns.js"><a href="operatorFns.js.html">operatorFns.js</a></td>
	<td data-value="4" class="pic low"><span class="cover-fill" style="width: 4px;"></span><span class="cover-empty" style="width:96px;"></span></td>
	<td data-value="4" class="pct low">4%</td>
	<td data-value="50" class="abs low">(2&nbsp;/&nbsp;50)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="10" class="abs low">(0&nbsp;/&nbsp;10)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="41" class="abs low">(0&nbsp;/&nbsp;41)</td>
	<td data-value="4.17" class="pct low">4.17%</td>
	<td data-value="48" class="abs low">(2&nbsp;/&nbsp;48)</td>
	</tr>

<tr>
	<td class="file low" data-value="templates.js"><a href="templates.js.html">templates.js</a></td>
	<td data-value="32.14" class="pic low"><span class="cover-fill" style="width: 32px;"></span><span class="cover-empty" style="width:68px;"></span></td>
	<td data-value="32.14" class="pct low">32.14%</td>
	<td data-value="420" class="abs low">(135&nbsp;/&nbsp;420)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="136" class="abs low">(0&nbsp;/&nbsp;136)</td>
	<td data-value="1.04" class="pct low">1.04%</td>
	<td data-value="96" class="abs low">(1&nbsp;/&nbsp;96)</td>
	<td data-value="33.58" class="pct low">33.58%</td>
	<td data-value="402" class="abs low">(135&nbsp;/&nbsp;402)</td>
	</tr>

</tbody>
</table>
</div></div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Tue Apr 18 2017 23:11:07 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-derby/node_modules/derby-templates/lib/contexts.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-derby">npmtest-derby (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-derby/node_modules/derby-templates/lib/contexts.js</span></h1>
    <h2>
        
        Statements: <span class="metric">21.1% <small>(23 / 109)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 50)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 21)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">23.47% <small>(23 / 98)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-derby/node_modules/derby-templates/lib/</a> &#187; contexts.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187</td><td class="line-coverage"><span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">exports.ContextMeta = ContextMeta;
exports.Context = Context;
&nbsp;
<span class="fstat-no" title="function not covered" >function noop() {</span>}
&nbsp;
// TODO:
// Implement removeItemContext
&nbsp;
<span class="fstat-no" title="function not covered" >function ContextMeta() {</span>
<span class="cstat-no" title="statement not covered" >  this.addBinding = noop;</span>
<span class="cstat-no" title="statement not covered" >  this.removeBinding = noop;</span>
<span class="cstat-no" title="statement not covered" >  this.removeNode = noop;</span>
<span class="cstat-no" title="statement not covered" >  this.addItemContext = noop;</span>
<span class="cstat-no" title="statement not covered" >  this.removeItemContext = noop;</span>
<span class="cstat-no" title="statement not covered" >  this.views = null;</span>
<span class="cstat-no" title="statement not covered" >  this.idNamespace = '';</span>
<span class="cstat-no" title="statement not covered" >  this.idCount = 0;</span>
<span class="cstat-no" title="statement not covered" >  this.pending = [];</span>
<span class="cstat-no" title="statement not covered" >  this.pauseCount = 0;</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function Context(meta, controller, parent, unbound, expression, item, view, attributes, hooks, initHooks) {</span>
  // Required properties //
&nbsp;
  // Properties which are globally inherited for the entire page
<span class="cstat-no" title="statement not covered" >  this.meta = meta;</span>
  // The page or component. Must have a `model` property with a `data` property
<span class="cstat-no" title="statement not covered" >  this.controller = controller;</span>
&nbsp;
  // Optional properties //
&nbsp;
  // Containing context
<span class="cstat-no" title="statement not covered" >  this.parent = parent;</span>
  // Boolean set to true when bindings should be ignored
<span class="cstat-no" title="statement not covered" >  this.unbound = unbound;</span>
  // The expression for a block
<span class="cstat-no" title="statement not covered" >  this.expression = expression;</span>
  // Alias name for the given expression
<span class="cstat-no" title="statement not covered" >  this.alias = expression &amp;&amp; expression.meta &amp;&amp; expression.meta.as;</span>
  // Alias name for the index or iterated key
<span class="cstat-no" title="statement not covered" >  this.keyAlias = expression &amp;&amp; expression.meta &amp;&amp; expression.meta.keyAs;</span>
&nbsp;
  // For Context::eachChild
  // The index of the each at render time
<span class="cstat-no" title="statement not covered" >  this.item = item;</span>
&nbsp;
  // For Context::viewChild
  // Reference to the current view
<span class="cstat-no" title="statement not covered" >  this.view = view;</span>
  // Attribute values passed to the view instance
<span class="cstat-no" title="statement not covered" >  this.attributes = attributes;</span>
  // MarkupHooks to be called after insert into DOM of component
<span class="cstat-no" title="statement not covered" >  this.hooks = hooks;</span>
  // MarkupHooks to be called immediately before init of component
<span class="cstat-no" title="statement not covered" >  this.initHooks = initHooks;</span>
&nbsp;
  // Used in EventModel
<span class="cstat-no" title="statement not covered" >  this._id = null;</span>
}
&nbsp;
Context.prototype.id = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  var count = ++this.meta.idCount;</span>
<span class="cstat-no" title="statement not covered" >  return this.meta.idNamespace + '_' + count.toString(36);</span>
};
&nbsp;
Context.prototype.addBinding = <span class="fstat-no" title="function not covered" >function(binding) {</span>
  // Don't add bindings that wrap list items. Only their outer range is needed
<span class="cstat-no" title="statement not covered" >  if (binding.itemFor) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >  var expression = binding.template.expression;</span>
  // Don't rerender in unbound sections
<span class="cstat-no" title="statement not covered" >  if (expression ? expression.isUnbound(this) : this.unbound) <span class="cstat-no" title="statement not covered" >return;</span></span>
  // Don't rerender to changes in a with expression
<span class="cstat-no" title="statement not covered" >  if (expression &amp;&amp; expression.meta &amp;&amp; expression.meta.blockType === 'with') <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >  this.meta.addBinding(binding);</span>
};
Context.prototype.removeBinding = <span class="fstat-no" title="function not covered" >function(binding) {</span>
<span class="cstat-no" title="statement not covered" >  this.meta.removeBinding(binding);</span>
};
Context.prototype.removeNode = <span class="fstat-no" title="function not covered" >function(node) {</span>
<span class="cstat-no" title="statement not covered" >  this.meta.removeNode(node);</span>
};
&nbsp;
Context.prototype.child = <span class="fstat-no" title="function not covered" >function(expression) {</span>
  // Set or inherit the binding mode
<span class="cstat-no" title="statement not covered" >  var blockType = expression.meta &amp;&amp; expression.meta.blockType;</span>
<span class="cstat-no" title="statement not covered" >  var unbound = (blockType === 'unbound') ? true :</span>
    (blockType === 'bound') ? false :
    this.unbound;
<span class="cstat-no" title="statement not covered" >  return new Context(this.meta, this.controller, this, unbound, expression);</span>
};
&nbsp;
Context.prototype.componentChild = <span class="fstat-no" title="function not covered" >function(component) {</span>
<span class="cstat-no" title="statement not covered" >  return new Context(this.meta, component, this, this.unbound);</span>
};
&nbsp;
// Make a context for an item in an each block
Context.prototype.eachChild = <span class="fstat-no" title="function not covered" >function(expression, index) {</span>
<span class="cstat-no" title="statement not covered" >  var context = new Context(this.meta, this.controller, this, this.unbound, expression, index);</span>
<span class="cstat-no" title="statement not covered" >  this.meta.addItemContext(context);</span>
<span class="cstat-no" title="statement not covered" >  return context;</span>
};
&nbsp;
Context.prototype.viewChild = <span class="fstat-no" title="function not covered" >function(view, attributes, hooks, initHooks) {</span>
<span class="cstat-no" title="statement not covered" >  return new Context(this.meta, this.controller, this, this.unbound, null, null, view, attributes, hooks, initHooks);</span>
};
&nbsp;
Context.prototype.forRelative = <span class="fstat-no" title="function not covered" >function(expression) {</span>
<span class="cstat-no" title="statement not covered" >  var context = this;</span>
<span class="cstat-no" title="statement not covered" >  while (context &amp;&amp; context.expression === expression || context.view) {</span>
<span class="cstat-no" title="statement not covered" >    context = context.parent;</span>
  }
<span class="cstat-no" title="statement not covered" >  return context;</span>
};
&nbsp;
// Returns the closest context which defined the named alias
Context.prototype.forAlias = <span class="fstat-no" title="function not covered" >function(alias) {</span>
<span class="cstat-no" title="statement not covered" >  var context = this;</span>
<span class="cstat-no" title="statement not covered" >  while (context) {</span>
<span class="cstat-no" title="statement not covered" >    if (context.alias === alias || context.keyAlias === alias) <span class="cstat-no" title="statement not covered" >return context;</span></span>
<span class="cstat-no" title="statement not covered" >    context = context.parent;</span>
  }
};
&nbsp;
// Returns the closest containing context for a view attribute name or nothing
Context.prototype.forAttribute = <span class="fstat-no" title="function not covered" >function(attribute) {</span>
<span class="cstat-no" title="statement not covered" >  var context = this;</span>
<span class="cstat-no" title="statement not covered" >  while (context) {</span>
    // Find the closest context associated with a view
<span class="cstat-no" title="statement not covered" >    if (context.view) {</span>
<span class="cstat-no" title="statement not covered" >      var attributes = context.attributes;</span>
<span class="cstat-no" title="statement not covered" >      if (!attributes) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >      if (attributes.hasOwnProperty(attribute)) <span class="cstat-no" title="statement not covered" >return context;</span></span>
      // If the attribute isn't found, but the attributes inherit, continue
      // looking in the next closest view context
<span class="cstat-no" title="statement not covered" >      if (!attributes.inherit &amp;&amp; !attributes.extend) <span class="cstat-no" title="statement not covered" >return;</span></span>
    }
<span class="cstat-no" title="statement not covered" >    context = context.parent;</span>
  }
};
&nbsp;
Context.prototype.forViewParent = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  var context = this;</span>
<span class="cstat-no" title="statement not covered" >  while (context) {</span>
    // Find the closest view
<span class="cstat-no" title="statement not covered" >    if (context.view) <span class="cstat-no" title="statement not covered" >return context.parent;</span></span>
<span class="cstat-no" title="statement not covered" >    context = context.parent;</span>
  }
};
&nbsp;
Context.prototype.getView = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  var context = this;</span>
<span class="cstat-no" title="statement not covered" >  while (context) {</span>
    // Find the closest view
<span class="cstat-no" title="statement not covered" >    if (context.view) <span class="cstat-no" title="statement not covered" >return context.view;</span></span>
<span class="cstat-no" title="statement not covered" >    context = context.parent;</span>
  }
};
&nbsp;
// Returns the `this` value for a context
Context.prototype.get = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  return (this.expression) ? this.expression.get(this) : this.controller.model.data;</span>
};
&nbsp;
Context.prototype.pause = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  this.meta.pauseCount++;</span>
};
&nbsp;
Context.prototype.unpause = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  if (--this.meta.pauseCount) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >  this.flush();</span>
};
&nbsp;
Context.prototype.flush = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  var pending = this.meta.pending;</span>
<span class="cstat-no" title="statement not covered" >  var len = pending.length;</span>
<span class="cstat-no" title="statement not covered" >  if (!len) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >  this.meta.pending = [];</span>
<span class="cstat-no" title="statement not covered" >  for (var i = 0; i &lt; len; i++) {</span>
<span class="cstat-no" title="statement not covered" >    pending[i]();</span>
  }
};
&nbsp;
Context.prototype.queue = <span class="fstat-no" title="function not covered" >function(cb) {</span>
<span class="cstat-no" title="statement not covered" >  this.meta.pending.push(cb);</span>
};
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Tue Apr 18 2017 23:11:07 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-derby/node_modules/derby-templates/lib/expressions.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-derby">npmtest-derby (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-derby/node_modules/derby-templates/lib/expressions.js</span></h1>
    <h2>
        
        Statements: <span class="metric">32.06% <small>(143 / 446)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">2.22% <small>(4 / 180)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">3.75% <small>(3 / 80)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">34.79% <small>(143 / 411)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-derby/node_modules/derby-templates/lib/</a> &#187; expressions.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501
502
503
504
505
506
507
508
509
510
511
512
513
514
515
516
517
518
519
520
521
522
523
524
525
526
527
528
529
530
531
532
533
534
535
536
537
538
539
540
541
542
543
544
545
546
547
548
549
550
551
552
553
554
555
556
557
558
559
560
561
562
563
564
565
566
567
568
569
570
571
572
573
574
575
576
577
578
579
580
581
582
583
584
585
586
587
588
589
590
591
592
593
594
595
596</td><td class="line-coverage"><span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">8</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">var serializeObject = require('serialize-object');
var operatorFns = require('./operatorFns');
var templates = require('./templates');
&nbsp;
exports.lookup = lookup;
exports.templateTruthy = templateTruthy;
exports.pathSegments = pathSegments;
exports.renderValue = renderValue;
exports._outerDependency = outerDependency;
exports.ExpressionMeta = ExpressionMeta;
&nbsp;
exports.Expression = Expression;
exports.LiteralExpression = LiteralExpression;
exports.PathExpression = PathExpression;
exports.RelativePathExpression = RelativePathExpression;
exports.AliasPathExpression = AliasPathExpression;
exports.AttributePathExpression = AttributePathExpression;
exports.BracketsExpression = BracketsExpression;
exports.FnExpression = FnExpression;
exports.OperatorExpression = OperatorExpression;
exports.NewExpression = NewExpression;
exports.SequenceExpression = SequenceExpression;
exports.ScopedModelExpression = ScopedModelExpression;
&nbsp;
<span class="fstat-no" title="function not covered" >function lookup(segments, value) {</span>
<span class="cstat-no" title="statement not covered" >  if (!segments) <span class="cstat-no" title="statement not covered" >return value;</span></span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  for (var i = 0, len = segments.length; i &lt; len; i++) {</span>
<span class="cstat-no" title="statement not covered" >    if (value == null) <span class="cstat-no" title="statement not covered" >return value;</span></span>
<span class="cstat-no" title="statement not covered" >    value = value[segments[i]];</span>
  }
<span class="cstat-no" title="statement not covered" >  return value;</span>
}
&nbsp;
// Unlike JS, `[]` is falsey. Otherwise, truthiness is the same as JS
<span class="fstat-no" title="function not covered" >function templateTruthy(value) {</span>
<span class="cstat-no" title="statement not covered" >  return (Array.isArray(value)) ? value.length &gt; 0 : !!value;</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function pathSegments(segments) {</span>
<span class="cstat-no" title="statement not covered" >  var result = [];</span>
<span class="cstat-no" title="statement not covered" >  for (var i = 0; i &lt; segments.length; i++) {</span>
<span class="cstat-no" title="statement not covered" >    var segment = segments[i];</span>
<span class="cstat-no" title="statement not covered" >    result[i] = (typeof segment === 'object') ? segment.item : segment;</span>
  }
<span class="cstat-no" title="statement not covered" >  return result;</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function renderValue(value, context) {</span>
<span class="cstat-no" title="statement not covered" >  return (typeof value !== 'object') ? value :</span>
    (value instanceof templates.Template) ? renderTemplate(value, context) :
    (Array.isArray(value)) ? renderArray(value, context) :
    renderObject(value, context);
}
<span class="fstat-no" title="function not covered" >function renderTemplate(value, context) {</span>
<span class="cstat-no" title="statement not covered" >  var i = 1000;</span>
<span class="cstat-no" title="statement not covered" >  while (value instanceof templates.Template) {</span>
<span class="cstat-no" title="statement not covered" >    if (--i &lt; 0) <span class="cstat-no" title="statement not covered" >throw new Error('Maximum template render passes exceeded');</span></span>
<span class="cstat-no" title="statement not covered" >    value = value.get(context, true);</span>
  }
<span class="cstat-no" title="statement not covered" >  return value;</span>
}
<span class="fstat-no" title="function not covered" >function renderArray(array, context) {</span>
<span class="cstat-no" title="statement not covered" >  for (var i = 0, len = array.length; i &lt; len; i++) {</span>
<span class="cstat-no" title="statement not covered" >    if (hasTemplateProperty(array[i])) {</span>
<span class="cstat-no" title="statement not covered" >      return renderArrayProperties(array, context);</span>
    }
  }
<span class="cstat-no" title="statement not covered" >  return array;</span>
}
<span class="fstat-no" title="function not covered" >function renderObject(object, context) {</span>
<span class="cstat-no" title="statement not covered" >  return (hasTemplateProperty(object)) ?</span>
    renderObjectProperties(object, context) : object;
}
<span class="fstat-no" title="function not covered" >function hasTemplateProperty(object) {</span>
<span class="cstat-no" title="statement not covered" >  if (!object) <span class="cstat-no" title="statement not covered" >return false;</span></span>
<span class="cstat-no" title="statement not covered" >  if (global.Node &amp;&amp; object instanceof global.Node) <span class="cstat-no" title="statement not covered" >return false;</span></span>
<span class="cstat-no" title="statement not covered" >  for (var key in object) {</span>
<span class="cstat-no" title="statement not covered" >    if (object[key] instanceof templates.Template) <span class="cstat-no" title="statement not covered" >return true;</span></span>
  }
<span class="cstat-no" title="statement not covered" >  return false;</span>
}
<span class="fstat-no" title="function not covered" >function renderArrayProperties(array, context) {</span>
<span class="cstat-no" title="statement not covered" >  var out = [];</span>
<span class="cstat-no" title="statement not covered" >  for (var i = 0, len = array.length; i &lt; len; i++) {</span>
<span class="cstat-no" title="statement not covered" >    var item = renderObject(array[i], context);</span>
<span class="cstat-no" title="statement not covered" >    out.push(item);</span>
  }
<span class="cstat-no" title="statement not covered" >  return out;</span>
}
<span class="fstat-no" title="function not covered" >function renderObjectProperties(object, context) {</span>
<span class="cstat-no" title="statement not covered" >  var out = {};</span>
<span class="cstat-no" title="statement not covered" >  for (var key in object) {</span>
<span class="cstat-no" title="statement not covered" >    var value = object[key];</span>
<span class="cstat-no" title="statement not covered" >    out[key] = renderTemplate(value, context);</span>
  }
<span class="cstat-no" title="statement not covered" >  return out;</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function ExpressionMeta(source, blockType, isEnd, as, keyAs, unescaped, bindType, valueType) {</span>
<span class="cstat-no" title="statement not covered" >  this.source = source;</span>
<span class="cstat-no" title="statement not covered" >  this.blockType = blockType;</span>
<span class="cstat-no" title="statement not covered" >  this.isEnd = isEnd;</span>
<span class="cstat-no" title="statement not covered" >  this.as = as;</span>
<span class="cstat-no" title="statement not covered" >  this.keyAs = keyAs;</span>
<span class="cstat-no" title="statement not covered" >  this.unescaped = unescaped;</span>
<span class="cstat-no" title="statement not covered" >  this.bindType = bindType;</span>
<span class="cstat-no" title="statement not covered" >  this.valueType = valueType;</span>
}
ExpressionMeta.prototype.module = 'expressions';
ExpressionMeta.prototype.type = 'ExpressionMeta';
ExpressionMeta.prototype.serialize = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  return serializeObject.instance(</span>
    this
  , this.source
  , this.blockType
  , this.isEnd
  , this.as
  , this.keyAs
  , this.unescaped
  , this.bindType
  , this.valueType
  );
};
&nbsp;
function Expression(meta) {
  this.meta = meta;
}
Expression.prototype.module = 'expressions';
Expression.prototype.type = 'Expression';
Expression.prototype.serialize = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  return serializeObject.instance(this, this.meta);</span>
};
Expression.prototype.toString = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  return this.meta &amp;&amp; this.meta.source;</span>
};
Expression.prototype.truthy = <span class="fstat-no" title="function not covered" >function(context) {</span>
<span class="cstat-no" title="statement not covered" >  var blockType = this.meta.blockType;</span>
<span class="cstat-no" title="statement not covered" >  if (blockType === 'else') <span class="cstat-no" title="statement not covered" >return true;</span></span>
<span class="cstat-no" title="statement not covered" >  var value = this.get(context, true);</span>
<span class="cstat-no" title="statement not covered" >  var truthy = templateTruthy(value);</span>
<span class="cstat-no" title="statement not covered" >  return (blockType === 'unless') ? !truthy : truthy;</span>
};
Expression.prototype.get = <span class="fstat-no" title="function not covered" >function() {</span>};
// Return the expression's segment list with context objects
Expression.prototype.resolve = <span class="fstat-no" title="function not covered" >function() {</span>};
// Return a list of segment lists or null
Expression.prototype.dependencies = <span class="fstat-no" title="function not covered" >function() {</span>};
// Return the pathSegments that the expression currently resolves to or null
Expression.prototype.pathSegments = <span class="fstat-no" title="function not covered" >function(context) {</span>
<span class="cstat-no" title="statement not covered" >  var segments = this.resolve(context);</span>
<span class="cstat-no" title="statement not covered" >  return segments &amp;&amp; pathSegments(segments);</span>
};
Expression.prototype.set = <span class="fstat-no" title="function not covered" >function(context, value) {</span>
<span class="cstat-no" title="statement not covered" >  var segments = this.pathSegments(context);</span>
<span class="cstat-no" title="statement not covered" >  if (!segments) <span class="cstat-no" title="statement not covered" >throw new Error('Expression does not support setting');</span></span>
<span class="cstat-no" title="statement not covered" >  context.controller.model._set(segments, value);</span>
};
Expression.prototype._getPatch = <span class="fstat-no" title="function not covered" >function(context, value) {</span>
<span class="cstat-no" title="statement not covered" >  if (this.meta &amp;&amp; this.meta.blockType) {</span>
<span class="cstat-no" title="statement not covered" >    value = renderTemplate(value, context);</span>
  }
<span class="cstat-no" title="statement not covered" >  return (context &amp;&amp; context.expression === this &amp;&amp; context.item != null) ?</span>
    value &amp;&amp; value[context.item] : value;
};
Expression.prototype._resolvePatch = <span class="fstat-no" title="function not covered" >function(context, segments) {</span>
<span class="cstat-no" title="statement not covered" >  return (context &amp;&amp; context.expression === this &amp;&amp; context.item != null) ?</span>
    segments.concat(context) : segments;
};
Expression.prototype.isUnbound = <span class="fstat-no" title="function not covered" >function(context) {</span>
  // If the template being rendered has an explicit bindType keyword, such as:
  // {{unbound #item.text}}
<span class="cstat-no" title="statement not covered" >  var bindType = this.meta &amp;&amp; this.meta.bindType;</span>
<span class="cstat-no" title="statement not covered" >  if (bindType === 'unbound') <span class="cstat-no" title="statement not covered" >return true;</span></span>
<span class="cstat-no" title="statement not covered" >  if (bindType === 'bound') <span class="cstat-no" title="statement not covered" >return false;</span></span>
  // Otherwise, inherit from the context
<span class="cstat-no" title="statement not covered" >  return context.unbound;</span>
};
&nbsp;
&nbsp;
<span class="fstat-no" title="function not covered" >function LiteralExpression(value, meta) {</span>
<span class="cstat-no" title="statement not covered" >  this.value = value;</span>
<span class="cstat-no" title="statement not covered" >  this.meta = meta;</span>
}
LiteralExpression.prototype = new Expression();
LiteralExpression.prototype.type = 'LiteralExpression';
LiteralExpression.prototype.serialize = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  return serializeObject.instance(this, this.value, this.meta);</span>
};
LiteralExpression.prototype.get = <span class="fstat-no" title="function not covered" >function(context) {</span>
<span class="cstat-no" title="statement not covered" >  return this._getPatch(context, this.value);</span>
};
&nbsp;
<span class="fstat-no" title="function not covered" >function PathExpression(segments, meta) {</span>
<span class="cstat-no" title="statement not covered" >  this.segments = segments;</span>
<span class="cstat-no" title="statement not covered" >  this.meta = meta;</span>
}
PathExpression.prototype = new Expression();
PathExpression.prototype.type = 'PathExpression';
PathExpression.prototype.serialize = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  return serializeObject.instance(this, this.segments, this.meta);</span>
};
PathExpression.prototype.get = <span class="fstat-no" title="function not covered" >function(context) {</span>
<span class="cstat-no" title="statement not covered" >  var value = lookup(this.segments, context.controller.model.data);</span>
<span class="cstat-no" title="statement not covered" >  return this._getPatch(context, value);</span>
};
PathExpression.prototype.resolve = <span class="fstat-no" title="function not covered" >function(context) {</span>
<span class="cstat-no" title="statement not covered" >  var segments = concat(context.controller._scope, this.segments);</span>
<span class="cstat-no" title="statement not covered" >  return this._resolvePatch(context, segments);</span>
};
PathExpression.prototype.dependencies = <span class="fstat-no" title="function not covered" >function(context, forInnerPath) {</span>
<span class="cstat-no" title="statement not covered" >  return outerDependency(this, context, forInnerPath);</span>
};
&nbsp;
<span class="fstat-no" title="function not covered" >function RelativePathExpression(segments, meta) {</span>
<span class="cstat-no" title="statement not covered" >  this.segments = segments;</span>
<span class="cstat-no" title="statement not covered" >  this.meta = meta;</span>
}
RelativePathExpression.prototype = new Expression();
RelativePathExpression.prototype.type = 'RelativePathExpression';
RelativePathExpression.prototype.serialize = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  return serializeObject.instance(this, this.segments, this.meta);</span>
};
RelativePathExpression.prototype.get = <span class="fstat-no" title="function not covered" >function(context) {</span>
<span class="cstat-no" title="statement not covered" >  var relativeContext = context.forRelative(this);</span>
<span class="cstat-no" title="statement not covered" >  var value = relativeContext.get();</span>
<span class="cstat-no" title="statement not covered" >  if (this.segments.length) {</span>
<span class="cstat-no" title="statement not covered" >    value = renderTemplate(value, relativeContext);</span>
<span class="cstat-no" title="statement not covered" >    value = lookup(this.segments, value);</span>
  }
<span class="cstat-no" title="statement not covered" >  return this._getPatch(context, value);</span>
};
RelativePathExpression.prototype.resolve = <span class="fstat-no" title="function not covered" >function(context) {</span>
<span class="cstat-no" title="statement not covered" >  var relativeContext = context.forRelative(this);</span>
<span class="cstat-no" title="statement not covered" >  var base = (relativeContext.expression) ?</span>
    relativeContext.expression.resolve(relativeContext) :
    [];
<span class="cstat-no" title="statement not covered" >  if (!base) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >  var segments = base.concat(this.segments);</span>
<span class="cstat-no" title="statement not covered" >  return this._resolvePatch(context, segments);</span>
};
RelativePathExpression.prototype.dependencies = <span class="fstat-no" title="function not covered" >function(context, forInnerPath) {</span>
  // Return inner dependencies from our ancestor
  // (e.g., {{ with foo[bar] }} ... {{ this.x }} has 'bar' as a dependency.)
<span class="cstat-no" title="statement not covered" >  var relativeContext = context.forRelative(this);</span>
<span class="cstat-no" title="statement not covered" >  var inner = relativeContext.expression &amp;&amp;</span>
    relativeContext.expression.dependencies(relativeContext, true);
<span class="cstat-no" title="statement not covered" >  var outer = outerDependency(this, context, forInnerPath);</span>
<span class="cstat-no" title="statement not covered" >  return concat(outer, inner);</span>
};
&nbsp;
<span class="fstat-no" title="function not covered" >function AliasPathExpression(alias, segments, meta) {</span>
<span class="cstat-no" title="statement not covered" >  this.alias = alias;</span>
<span class="cstat-no" title="statement not covered" >  this.segments = segments;</span>
<span class="cstat-no" title="statement not covered" >  this.meta = meta;</span>
}
AliasPathExpression.prototype = new Expression();
AliasPathExpression.prototype.type = 'AliasPathExpression';
AliasPathExpression.prototype.serialize = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  return serializeObject.instance(this, this.alias, this.segments, this.meta);</span>
};
AliasPathExpression.prototype.get = <span class="fstat-no" title="function not covered" >function(context) {</span>
<span class="cstat-no" title="statement not covered" >  var aliasContext = context.forAlias(this.alias);</span>
<span class="cstat-no" title="statement not covered" >  if (!aliasContext) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >  if (aliasContext.keyAlias === this.alias) {</span>
<span class="cstat-no" title="statement not covered" >    return aliasContext.item;</span>
  }
<span class="cstat-no" title="statement not covered" >  var value = aliasContext.get();</span>
<span class="cstat-no" title="statement not covered" >  if (this.segments.length) {</span>
<span class="cstat-no" title="statement not covered" >    value = renderTemplate(value, aliasContext);</span>
<span class="cstat-no" title="statement not covered" >    value = lookup(this.segments, value);</span>
  }
<span class="cstat-no" title="statement not covered" >  return this._getPatch(context, value);</span>
};
AliasPathExpression.prototype.resolve = <span class="fstat-no" title="function not covered" >function(context) {</span>
<span class="cstat-no" title="statement not covered" >  var aliasContext = context.forAlias(this.alias);</span>
<span class="cstat-no" title="statement not covered" >  if (!aliasContext) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >  if (aliasContext.keyAlias === this.alias) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >  var base = aliasContext.expression.resolve(aliasContext);</span>
<span class="cstat-no" title="statement not covered" >  if (!base) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >  var segments = base.concat(this.segments);</span>
<span class="cstat-no" title="statement not covered" >  return this._resolvePatch(context, segments);</span>
};
AliasPathExpression.prototype.dependencies = <span class="fstat-no" title="function not covered" >function(context, forInnerPath) {</span>
<span class="cstat-no" title="statement not covered" >  var aliasContext = context.forAlias(this.alias);</span>
<span class="cstat-no" title="statement not covered" >  if (!aliasContext) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >  if (aliasContext.keyAlias === this.alias) {</span>
    // For keyAliases, use a dependency of the entire list, so that it will
    // always update when the list changes in any way. This is over-binding,
    // but would otherwise be much more complex
<span class="cstat-no" title="statement not covered" >    var base = aliasContext.expression.resolve(aliasContext.parent);</span>
<span class="cstat-no" title="statement not covered" >    return [base];</span>
  }
<span class="cstat-no" title="statement not covered" >  var inner = aliasContext.expression.dependencies(aliasContext, true);</span>
<span class="cstat-no" title="statement not covered" >  var outer = outerDependency(this, context, forInnerPath);</span>
<span class="cstat-no" title="statement not covered" >  return concat(outer, inner);</span>
};
&nbsp;
<span class="fstat-no" title="function not covered" >function AttributePathExpression(attribute, segments, meta) {</span>
<span class="cstat-no" title="statement not covered" >  this.attribute = attribute;</span>
<span class="cstat-no" title="statement not covered" >  this.segments = segments;</span>
<span class="cstat-no" title="statement not covered" >  this.meta = meta;</span>
}
AttributePathExpression.prototype = new Expression();
AttributePathExpression.prototype.type = 'AttributePathExpression';
AttributePathExpression.prototype.serialize = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  return serializeObject.instance(this, this.attribute, this.segments, this.meta);</span>
};
AttributePathExpression.prototype.get = <span class="fstat-no" title="function not covered" >function(context) {</span>
<span class="cstat-no" title="statement not covered" >  var attributeContext = context.forAttribute(this.attribute);</span>
<span class="cstat-no" title="statement not covered" >  if (!attributeContext) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >  var value = attributeContext.attributes[this.attribute];</span>
<span class="cstat-no" title="statement not covered" >  if (this.segments.length) {</span>
<span class="cstat-no" title="statement not covered" >    value = renderTemplate(value, attributeContext);</span>
<span class="cstat-no" title="statement not covered" >    value = lookup(this.segments, value);</span>
  }
<span class="cstat-no" title="statement not covered" >  return this._getPatch(context, value);</span>
};
AttributePathExpression.prototype.resolve = <span class="fstat-no" title="function not covered" >function(context) {</span>
<span class="cstat-no" title="statement not covered" >  var attributeContext = context.forAttribute(this.attribute);</span>
  // Attributes are either a ParentWrapper or a literal value
<span class="cstat-no" title="statement not covered" >  var value = attributeContext &amp;&amp; attributeContext.attributes[this.attribute];</span>
<span class="cstat-no" title="statement not covered" >  var base = value &amp;&amp; (typeof value.resolve === 'function') &amp;&amp;</span>
    value.resolve(attributeContext);
<span class="cstat-no" title="statement not covered" >  if (!base) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >  var segments = base.concat(this.segments);</span>
<span class="cstat-no" title="statement not covered" >  return this._resolvePatch(context, segments);</span>
};
AttributePathExpression.prototype.dependencies = <span class="fstat-no" title="function not covered" >function(context, forInnerPath) {</span>
<span class="cstat-no" title="statement not covered" >  var attributeContext = context.forAttribute(this.attribute);</span>
  // Attributes are either a ParentWrapper or a literal value
<span class="cstat-no" title="statement not covered" >  var value = attributeContext &amp;&amp; attributeContext.attributes[this.attribute];</span>
<span class="cstat-no" title="statement not covered" >  var inner = value &amp;&amp; (typeof value.dependencies === 'function') &amp;&amp;</span>
    value.dependencies(attributeContext, true);
<span class="cstat-no" title="statement not covered" >  var outer = outerDependency(this, context, forInnerPath);</span>
<span class="cstat-no" title="statement not covered" >  return concat(outer, inner);</span>
};
&nbsp;
<span class="fstat-no" title="function not covered" >function BracketsExpression(before, inside, afterSegments, meta) {</span>
<span class="cstat-no" title="statement not covered" >  this.before = before;</span>
<span class="cstat-no" title="statement not covered" >  this.inside = inside;</span>
<span class="cstat-no" title="statement not covered" >  this.afterSegments = afterSegments;</span>
<span class="cstat-no" title="statement not covered" >  this.meta = meta;</span>
}
BracketsExpression.prototype = new Expression();
BracketsExpression.prototype.type = 'BracketsExpression';
BracketsExpression.prototype.serialize = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  return serializeObject.instance(this, this.before, this.inside, this.afterSegments, this.meta);</span>
};
BracketsExpression.prototype.get = <span class="fstat-no" title="function not covered" >function(context) {</span>
<span class="cstat-no" title="statement not covered" >  var inside = this.inside.get(context);</span>
<span class="cstat-no" title="statement not covered" >  if (inside == null) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >  var before = this.before.get(context);</span>
<span class="cstat-no" title="statement not covered" >  if (!before) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >  var base = before[inside];</span>
<span class="cstat-no" title="statement not covered" >  var value = (this.afterSegments) ? lookup(this.afterSegments, base) : base;</span>
<span class="cstat-no" title="statement not covered" >  return this._getPatch(context, value);</span>
};
BracketsExpression.prototype.resolve = <span class="fstat-no" title="function not covered" >function(context) {</span>
  // Get and split the current value of the expression inside the brackets
<span class="cstat-no" title="statement not covered" >  var inside = this.inside.get(context);</span>
<span class="cstat-no" title="statement not covered" >  if (inside == null) <span class="cstat-no" title="statement not covered" >return;</span></span>
&nbsp;
  // Concat the before, inside, and optional after segments
<span class="cstat-no" title="statement not covered" >  var base = this.before.resolve(context);</span>
<span class="cstat-no" title="statement not covered" >  if (!base) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >  var segments = (this.afterSegments) ?</span>
    base.concat(inside, this.afterSegments) :
    base.concat(inside);
<span class="cstat-no" title="statement not covered" >  return this._resolvePatch(context, segments);</span>
};
BracketsExpression.prototype.dependencies = <span class="fstat-no" title="function not covered" >function(context, forInnerPath) {</span>
<span class="cstat-no" title="statement not covered" >  var before = this.before.dependencies(context, true);</span>
<span class="cstat-no" title="statement not covered" >  var inner = this.inside.dependencies(context);</span>
<span class="cstat-no" title="statement not covered" >  var outer = outerDependency(this, context, forInnerPath);</span>
<span class="cstat-no" title="statement not covered" >  return concat(concat(outer, inner), before);</span>
};
&nbsp;
function FnExpression(segments, args, afterSegments, meta) {
  this.segments = segments;
  this.args = args;
  this.afterSegments = afterSegments;
  this.meta = meta;
  var parentSegments = segments &amp;&amp; <span class="branch-1 cbranch-no" title="branch not covered" >segments.slice();</span>
  this.lastSegment = parentSegments &amp;&amp; <span class="branch-1 cbranch-no" title="branch not covered" >parentSegments.pop();</span>
  this.parentSegments = (parentSegments &amp;&amp; <span class="branch-1 cbranch-no" title="branch not covered" >parentSegments.length)</span> ? <span class="branch-0 cbranch-no" title="branch not covered" >parentSegments </span>: null;
}
FnExpression.prototype = new Expression();
FnExpression.prototype.type = 'FnExpression';
FnExpression.prototype.serialize = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  return serializeObject.instance(this, this.segments, this.args, this.afterSegments, this.meta);</span>
};
FnExpression.prototype.get = <span class="fstat-no" title="function not covered" >function(context) {</span>
<span class="cstat-no" title="statement not covered" >  var value = this.apply(context);</span>
  // Lookup property underneath computed value if needed
<span class="cstat-no" title="statement not covered" >  if (this.afterSegments) {</span>
<span class="cstat-no" title="statement not covered" >    value = lookup(this.afterSegments, value);</span>
  }
<span class="cstat-no" title="statement not covered" >  return this._getPatch(context, value);</span>
};
FnExpression.prototype.apply = <span class="fstat-no" title="function not covered" >function(context, extraInputs) {</span>
<span class="cstat-no" title="statement not covered" >  var parent = this._lookupParent(context);</span>
<span class="cstat-no" title="statement not covered" >  var fn = parent[this.lastSegment];</span>
<span class="cstat-no" title="statement not covered" >  var getFn = fn.get || fn;</span>
<span class="cstat-no" title="statement not covered" >  var out = this._applyFn(getFn, context, extraInputs, parent);</span>
<span class="cstat-no" title="statement not covered" >  return out;</span>
};
FnExpression.prototype._lookupParent = <span class="fstat-no" title="function not covered" >function(context) {</span>
  // Lookup function on current controller
<span class="cstat-no" title="statement not covered" >  var controller = context.controller;</span>
<span class="cstat-no" title="statement not covered" >  var segments = this.parentSegments;</span>
<span class="cstat-no" title="statement not covered" >  var parent = (segments) ? lookup(segments, controller) : controller;</span>
<span class="cstat-no" title="statement not covered" >  if (parent &amp;&amp; parent[this.lastSegment]) <span class="cstat-no" title="statement not covered" >return parent;</span></span>
  // Otherwise lookup function on page
<span class="cstat-no" title="statement not covered" >  var page = controller.page;</span>
<span class="cstat-no" title="statement not covered" >  if (controller !== page) {</span>
<span class="cstat-no" title="statement not covered" >    parent = (segments) ? lookup(segments, page) : page;</span>
<span class="cstat-no" title="statement not covered" >    if (parent &amp;&amp; parent[this.lastSegment]) <span class="cstat-no" title="statement not covered" >return parent;</span></span>
  }
  // Otherwise lookup function on global
<span class="cstat-no" title="statement not covered" >  parent = (segments) ? lookup(segments, global) : global;</span>
<span class="cstat-no" title="statement not covered" >  if (parent &amp;&amp; parent[this.lastSegment]) <span class="cstat-no" title="statement not covered" >return parent;</span></span>
  // Throw if not found
<span class="cstat-no" title="statement not covered" >  throw new Error('Function not found for: ' + this.segments.join('.'));</span>
};
FnExpression.prototype._getInputs = <span class="fstat-no" title="function not covered" >function(context) {</span>
<span class="cstat-no" title="statement not covered" >  var inputs = [];</span>
<span class="cstat-no" title="statement not covered" >  for (var i = 0, len = this.args.length; i &lt; len; i++) {</span>
<span class="cstat-no" title="statement not covered" >    var value = this.args[i].get(context);</span>
<span class="cstat-no" title="statement not covered" >    inputs.push(renderValue(value, context));</span>
  }
<span class="cstat-no" title="statement not covered" >  return inputs;</span>
};
FnExpression.prototype._applyFn = <span class="fstat-no" title="function not covered" >function(fn, context, extraInputs, thisArg) {</span>
  // Apply if there are no path inputs
<span class="cstat-no" title="statement not covered" >  if (!this.args) {</span>
<span class="cstat-no" title="statement not covered" >    return (extraInputs) ?</span>
      fn.apply(thisArg, extraInputs) :
      fn.call(thisArg);
  }
  // Otherwise, get the current value for path inputs and apply
<span class="cstat-no" title="statement not covered" >  var inputs = this._getInputs(context);</span>
<span class="cstat-no" title="statement not covered" >  if (extraInputs) {</span>
<span class="cstat-no" title="statement not covered" >    for (var i = 0, len = extraInputs.length; i &lt; len; i++) {</span>
<span class="cstat-no" title="statement not covered" >      inputs.push(extraInputs[i]);</span>
    }
  }
<span class="cstat-no" title="statement not covered" >  return fn.apply(thisArg, inputs);</span>
};
FnExpression.prototype.dependencies = <span class="fstat-no" title="function not covered" >function(context) {</span>
<span class="cstat-no" title="statement not covered" >  var dependencies = [];</span>
<span class="cstat-no" title="statement not covered" >  if (!this.args) <span class="cstat-no" title="statement not covered" >return dependencies;</span></span>
<span class="cstat-no" title="statement not covered" >  for (var i = 0, len = this.args.length; i &lt; len; i++) {</span>
<span class="cstat-no" title="statement not covered" >    var argDependencies = this.args[i].dependencies(context);</span>
<span class="cstat-no" title="statement not covered" >    var firstDependency = argDependencies &amp;&amp; argDependencies[0];</span>
<span class="cstat-no" title="statement not covered" >    if (!firstDependency) <span class="cstat-no" title="statement not covered" >continue;</span></span>
<span class="cstat-no" title="statement not covered" >    if (firstDependency[firstDependency.length - 1] !== '*') {</span>
<span class="cstat-no" title="statement not covered" >      argDependencies[0] = argDependencies[0].concat('*');</span>
    }
<span class="cstat-no" title="statement not covered" >    for (var j = 0, jLen = argDependencies.length; j &lt; jLen; j++) {</span>
<span class="cstat-no" title="statement not covered" >      dependencies.push(argDependencies[j]);</span>
    }
  }
<span class="cstat-no" title="statement not covered" >  return dependencies;</span>
};
FnExpression.prototype.set = <span class="fstat-no" title="function not covered" >function(context, value) {</span>
<span class="cstat-no" title="statement not covered" >  var controller = context.controller;</span>
<span class="cstat-no" title="statement not covered" >  var fn, parent;</span>
<span class="cstat-no" title="statement not covered" >  while (controller) {</span>
<span class="cstat-no" title="statement not covered" >    parent = (this.parentSegments) ?</span>
      lookup(this.parentSegments, controller) :
      controller;
<span class="cstat-no" title="statement not covered" >    fn = parent &amp;&amp; parent[this.lastSegment];</span>
<span class="cstat-no" title="statement not covered" >    if (fn) <span class="cstat-no" title="statement not covered" >break;</span></span>
<span class="cstat-no" title="statement not covered" >    controller = controller.parent;</span>
  }
<span class="cstat-no" title="statement not covered" >  var setFn = fn &amp;&amp; fn.set;</span>
<span class="cstat-no" title="statement not covered" >  if (!setFn) <span class="cstat-no" title="statement not covered" >throw new Error('No setter function for: ' + this.segments.join('.'));</span></span>
<span class="cstat-no" title="statement not covered" >  var inputs = this._getInputs(context);</span>
<span class="cstat-no" title="statement not covered" >  inputs.unshift(value);</span>
<span class="cstat-no" title="statement not covered" >  var out = setFn.apply(parent, inputs);</span>
<span class="cstat-no" title="statement not covered" >  for (var i in out) {</span>
<span class="cstat-no" title="statement not covered" >    this.args[i].set(context, out[i]);</span>
  }
};
&nbsp;
<span class="fstat-no" title="function not covered" >function NewExpression(segments, args, afterSegments, meta) {</span>
<span class="cstat-no" title="statement not covered" >  FnExpression.call(this, segments, args, afterSegments, meta);</span>
}
NewExpression.prototype = new FnExpression();
NewExpression.prototype.type = 'NewExpression';
NewExpression.prototype._applyFn = <span class="fstat-no" title="function not covered" >function(Fn, context) {</span>
  // Apply if there are no path inputs
<span class="cstat-no" title="statement not covered" >  if (!this.args) <span class="cstat-no" title="statement not covered" >return new Fn();</span></span>
  // Otherwise, get the current value for path inputs and apply
<span class="cstat-no" title="statement not covered" >  var inputs = this._getInputs(context);</span>
<span class="cstat-no" title="statement not covered" >  inputs.unshift(null);</span>
<span class="cstat-no" title="statement not covered" >  return new (Fn.bind.apply(Fn, inputs))();</span>
};
&nbsp;
function OperatorExpression(name, args, afterSegments, meta) {
  this.name = name;
  this.args = args;
  this.afterSegments = afterSegments;
  this.meta = meta;
  this.getFn = operatorFns.get[name];
  this.setFn = operatorFns.set[name];
}
OperatorExpression.prototype = new FnExpression();
OperatorExpression.prototype.type = 'OperatorExpression';
OperatorExpression.prototype.serialize = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  return serializeObject.instance(this, this.name, this.args, this.afterSegments, this.meta);</span>
};
OperatorExpression.prototype.apply = <span class="fstat-no" title="function not covered" >function(context) {</span>
<span class="cstat-no" title="statement not covered" >  var inputs = this._getInputs(context);</span>
<span class="cstat-no" title="statement not covered" >  return this.getFn.apply(null, inputs);</span>
};
OperatorExpression.prototype.set = <span class="fstat-no" title="function not covered" >function(context, value) {</span>
<span class="cstat-no" title="statement not covered" >  var inputs = this._getInputs(context);</span>
<span class="cstat-no" title="statement not covered" >  inputs.unshift(value);</span>
<span class="cstat-no" title="statement not covered" >  var out = this.setFn.apply(null, inputs);</span>
<span class="cstat-no" title="statement not covered" >  for (var i in out) {</span>
<span class="cstat-no" title="statement not covered" >    this.args[i].set(context, out[i]);</span>
  }
};
&nbsp;
<span class="fstat-no" title="function not covered" >function SequenceExpression(args, afterSegments, meta) {</span>
<span class="cstat-no" title="statement not covered" >  this.args = args;</span>
<span class="cstat-no" title="statement not covered" >  this.afterSegments = afterSegments;</span>
<span class="cstat-no" title="statement not covered" >  this.meta = meta;</span>
}
SequenceExpression.prototype = new OperatorExpression();
SequenceExpression.prototype.type = 'SequenceExpression';
SequenceExpression.prototype.serialize = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  return serializeObject.instance(this, this.args, this.afterSegments, this.meta);</span>
};
SequenceExpression.prototype.name = ',';
SequenceExpression.prototype.getFn = operatorFns.get[','];
SequenceExpression.prototype.resolve = <span class="fstat-no" title="function not covered" >function(context) {</span>
<span class="cstat-no" title="statement not covered" >  var last = this.args[this.args.length - 1];</span>
<span class="cstat-no" title="statement not covered" >  return last.resolve(context);</span>
};
SequenceExpression.prototype.dependencies = <span class="fstat-no" title="function not covered" >function(context, forInnerPath) {</span>
<span class="cstat-no" title="statement not covered" >  var dependencies = [];</span>
<span class="cstat-no" title="statement not covered" >  for (var i = 0, len = this.args.length; i &lt; len; i++) {</span>
<span class="cstat-no" title="statement not covered" >    var argDependencies = this.args[i].dependencies(context, forInnerPath);</span>
<span class="cstat-no" title="statement not covered" >    for (var j = 0, jLen = argDependencies.length; j &lt; jLen; j++) {</span>
<span class="cstat-no" title="statement not covered" >      dependencies.push(argDependencies[j]);</span>
    }
  }
<span class="cstat-no" title="statement not covered" >  return dependencies;</span>
};
&nbsp;
<span class="fstat-no" title="function not covered" >function ScopedModelExpression(expression, meta) {</span>
<span class="cstat-no" title="statement not covered" >  this.expression = expression;</span>
<span class="cstat-no" title="statement not covered" >  this.meta = meta;</span>
}
ScopedModelExpression.prototype = new Expression();
ScopedModelExpression.prototype.type = 'ScopedModelExpression';
ScopedModelExpression.prototype.serialize = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  return serializeObject.instance(this, this.expression, this.meta);</span>
};
// Return a scoped model instead of the value
ScopedModelExpression.prototype.get = <span class="fstat-no" title="function not covered" >function(context) {</span>
<span class="cstat-no" title="statement not covered" >  var segments = this.pathSegments(context);</span>
<span class="cstat-no" title="statement not covered" >  if (!segments) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >  return context.controller.model.scope(segments.join('.'));</span>
};
// Delegate other methods to the inner expression
ScopedModelExpression.prototype.resolve = <span class="fstat-no" title="function not covered" >function(context) {</span>
<span class="cstat-no" title="statement not covered" >  return this.expression.resolve(context);</span>
};
ScopedModelExpression.prototype.dependencies = <span class="fstat-no" title="function not covered" >function(context, forInnerPath) {</span>
<span class="cstat-no" title="statement not covered" >  return this.expression.dependencies(context, forInnerPath);</span>
};
ScopedModelExpression.prototype.pathSegments = <span class="fstat-no" title="function not covered" >function(context) {</span>
<span class="cstat-no" title="statement not covered" >  return this.expression.pathSegments(context);</span>
};
ScopedModelExpression.prototype.set = <span class="fstat-no" title="function not covered" >function(context, value) {</span>
<span class="cstat-no" title="statement not covered" >  return this.expression.set(context, value);</span>
};
&nbsp;
<span class="fstat-no" title="function not covered" >function outerDependency(expression, context, forInnerPath) {</span>
<span class="cstat-no" title="statement not covered" >  if (forInnerPath) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >  var val = expression.resolve(context);</span>
<span class="cstat-no" title="statement not covered" >  if (typeof val === 'undefined') <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >  return [val];</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function concat(a, b) {</span>
<span class="cstat-no" title="statement not covered" >  if (!a) <span class="cstat-no" title="statement not covered" >return b;</span></span>
<span class="cstat-no" title="statement not covered" >  if (!b) <span class="cstat-no" title="statement not covered" >return a;</span></span>
<span class="cstat-no" title="statement not covered" >  return a.concat(b);</span>
}
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Tue Apr 18 2017 23:11:07 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-derby/node_modules/derby-templates/lib/operatorFns.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-derby">npmtest-derby (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-derby/node_modules/derby-templates/lib/operatorFns.js</span></h1>
    <h2>
        
        Statements: <span class="metric">4% <small>(2 / 50)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 10)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 41)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">4.17% <small>(2 / 48)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-derby/node_modules/derby-templates/lib/</a> &#187; operatorFns.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">// `-` and `+` can be either unary or binary, so all unary operators are
// postfixed with `U` to differentiate
&nbsp;
exports.get = {
  // Unary operators
  '!U': <span class="fstat-no" title="function not covered" >function(value) {</span>
<span class="cstat-no" title="statement not covered" >    return !value;</span>
  }
, '-U': <span class="fstat-no" title="function not covered" >function(value) {</span>
<span class="cstat-no" title="statement not covered" >    return -value;</span>
  }
, '+U': <span class="fstat-no" title="function not covered" >function(value) {</span>
<span class="cstat-no" title="statement not covered" >    return +value;</span>
  }
, '~U': <span class="fstat-no" title="function not covered" >function(value) {</span>
<span class="cstat-no" title="statement not covered" >    return ~value;</span>
  }
, 'typeofU': <span class="fstat-no" title="function not covered" >function(value) {</span>
<span class="cstat-no" title="statement not covered" >    return typeof value;</span>
  }
  // Binary operators
, '||': <span class="fstat-no" title="function not covered" >function(left, right) {</span>
<span class="cstat-no" title="statement not covered" >    return left || right;</span>
  }
, '&amp;&amp;': <span class="fstat-no" title="function not covered" >function(left, right) {</span>
<span class="cstat-no" title="statement not covered" >    return left &amp;&amp; right;</span>
  }
, '|': <span class="fstat-no" title="function not covered" >function(left, right) {</span>
<span class="cstat-no" title="statement not covered" >    return left | right;</span>
  }
, '^': <span class="fstat-no" title="function not covered" >function(left, right) {</span>
<span class="cstat-no" title="statement not covered" >    return left ^ right;</span>
  }
, '&amp;': <span class="fstat-no" title="function not covered" >function(left, right) {</span>
<span class="cstat-no" title="statement not covered" >    return left &amp; right;</span>
  }
, '==': <span class="fstat-no" title="function not covered" >function(left, right) {</span>
<span class="cstat-no" title="statement not covered" >    return left == right; </span>// jshint ignore:line
  }
, '!=': <span class="fstat-no" title="function not covered" >function(left, right) {</span>
<span class="cstat-no" title="statement not covered" >    return left != right; </span>// jshint ignore:line
  }
, '===': <span class="fstat-no" title="function not covered" >function(left, right) {</span>
<span class="cstat-no" title="statement not covered" >    return left === right;</span>
  }
, '!==': <span class="fstat-no" title="function not covered" >function(left, right) {</span>
<span class="cstat-no" title="statement not covered" >    return left !== right;</span>
  }
, '&lt;': <span class="fstat-no" title="function not covered" >function(left, right) {</span>
<span class="cstat-no" title="statement not covered" >    return left &lt; right;</span>
  }
, '&gt;': <span class="fstat-no" title="function not covered" >function(left, right) {</span>
<span class="cstat-no" title="statement not covered" >    return left &gt; right;</span>
  }
, '&lt;=': <span class="fstat-no" title="function not covered" >function(left, right) {</span>
<span class="cstat-no" title="statement not covered" >    return left &lt;= right;</span>
  }
, '&gt;=': <span class="fstat-no" title="function not covered" >function(left, right) {</span>
<span class="cstat-no" title="statement not covered" >    return left &gt;= right;</span>
  }
, 'instanceof': <span class="fstat-no" title="function not covered" >function(left, right) {</span>
<span class="cstat-no" title="statement not covered" >    return left instanceof right;</span>
  }
, 'in': <span class="fstat-no" title="function not covered" >function(left, right) {</span>
<span class="cstat-no" title="statement not covered" >    return left in right;</span>
  }
, '&lt;&lt;': <span class="fstat-no" title="function not covered" >function(left, right) {</span>
<span class="cstat-no" title="statement not covered" >    return left &lt;&lt; right;</span>
  }
, '&gt;&gt;': <span class="fstat-no" title="function not covered" >function(left, right) {</span>
<span class="cstat-no" title="statement not covered" >    return left &gt;&gt; right;</span>
  }
, '&gt;&gt;&gt;': <span class="fstat-no" title="function not covered" >function(left, right) {</span>
<span class="cstat-no" title="statement not covered" >    return left &gt;&gt;&gt; right;</span>
  }
, '+': <span class="fstat-no" title="function not covered" >function(left, right) {</span>
<span class="cstat-no" title="statement not covered" >    return left + right;</span>
  }
, '-': <span class="fstat-no" title="function not covered" >function(left, right) {</span>
<span class="cstat-no" title="statement not covered" >    return left - right;</span>
  }
, '*': <span class="fstat-no" title="function not covered" >function(left, right) {</span>
<span class="cstat-no" title="statement not covered" >    return left * right;</span>
  }
, '/': <span class="fstat-no" title="function not covered" >function(left, right) {</span>
<span class="cstat-no" title="statement not covered" >    return left / right;</span>
  }
, '%': <span class="fstat-no" title="function not covered" >function(left, right) {</span>
<span class="cstat-no" title="statement not covered" >    return left % right;</span>
  }
  // Conditional operator
, '?': <span class="fstat-no" title="function not covered" >function(test, consequent, alternate) {</span>
<span class="cstat-no" title="statement not covered" >    return (test) ? consequent : alternate;</span>
  }
, // Sequence
  ',': <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >    return arguments[arguments.length - 1];</span>
  }
  // Array literal
, '[]': <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >    return Array.prototype.slice.call(arguments);</span>
  }
  // Object literal
, '{}': <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >    var value = {};</span>
<span class="cstat-no" title="statement not covered" >    for (var i = 0, len = arguments.length; i &lt; len; i += 2) {</span>
<span class="cstat-no" title="statement not covered" >      var key = arguments[i];</span>
<span class="cstat-no" title="statement not covered" >      value[key] = arguments[i + 1];</span>
    }
<span class="cstat-no" title="statement not covered" >    return value;</span>
  }
};
&nbsp;
exports.set = {
  // Unary operators
  '!U': <span class="fstat-no" title="function not covered" >function(value) {</span>
<span class="cstat-no" title="statement not covered" >    return [!value];</span>
  }
, '-U': <span class="fstat-no" title="function not covered" >function(value) {</span>
<span class="cstat-no" title="statement not covered" >    return [-value];</span>
  }
  // Binary operators
, '==': <span class="fstat-no" title="function not covered" >function(value, left, right) {</span>
<span class="cstat-no" title="statement not covered" >    if (value) <span class="cstat-no" title="statement not covered" >return [right];</span></span>
  }
, '===': <span class="fstat-no" title="function not covered" >function(value, left, right) {</span>
<span class="cstat-no" title="statement not covered" >    if (value) <span class="cstat-no" title="statement not covered" >return [right];</span></span>
  }
, 'in': <span class="fstat-no" title="function not covered" >function(value, left, right) {</span>
<span class="cstat-no" title="statement not covered" >    right[left] = true;</span>
<span class="cstat-no" title="statement not covered" >    return {1: right};</span>
  }
, '+': <span class="fstat-no" title="function not covered" >function(value, left, right) {</span>
<span class="cstat-no" title="statement not covered" >    return [value - right];</span>
  }
, '-': <span class="fstat-no" title="function not covered" >function(value, left, right) {</span>
<span class="cstat-no" title="statement not covered" >    return [value + right];</span>
  }
, '*': <span class="fstat-no" title="function not covered" >function(value, left, right) {</span>
<span class="cstat-no" title="statement not covered" >    return [value / right];</span>
  }
, '/': <span class="fstat-no" title="function not covered" >function(value, left, right) {</span>
<span class="cstat-no" title="statement not covered" >    return [value * right];</span>
  }
};
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Tue Apr 18 2017 23:11:07 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-derby/node_modules/derby-templates/lib/templates.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-derby">npmtest-derby (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-derby/node_modules/derby-templates/lib/templates.js</span></h1>
    <h2>
        
        Statements: <span class="metric">32.14% <small>(135 / 420)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 136)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">1.04% <small>(1 / 96)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">33.58% <small>(135 / 402)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-derby/node_modules/derby-templates/lib/</a> &#187; templates.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501
502
503
504
505
506
507
508
509
510
511
512
513
514
515
516
517
518
519
520
521
522
523
524
525
526
527
528
529
530
531
532
533
534
535
536
537
538
539
540
541
542
543
544
545
546
547
548
549
550
551
552
553
554
555
556
557
558
559
560
561
562
563
564
565
566
567
568
569
570
571
572
573
574
575
576
577
578
579
580
581
582
583
584
585
586
587
588
589
590
591
592</td><td class="line-coverage"><span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">23</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">var saddle = require('saddle');
var serializeObject = require('serialize-object');
&nbsp;
(function() {
  for (var key in saddle) {
    exports[key] = saddle[key];
  }
})();
&nbsp;
exports.Marker = Marker;
exports.View = View;
exports.ViewInstance = ViewInstance;
exports.DynamicViewInstance = DynamicViewInstance;
exports.ParentWrapper = ParentWrapper;
&nbsp;
exports.Views = Views;
&nbsp;
exports.MarkupHook = MarkupHook;
exports.ElementOn = ElementOn;
exports.ComponentOn = ComponentOn;
exports.AsProperty = AsProperty;
exports.AsObject = AsObject;
exports.AsObjectComponent = AsObjectComponent;
exports.AsArray = AsArray;
exports.AsArrayComponent = AsArrayComponent;
&nbsp;
exports.emptyTemplate = new saddle.Template([]);
&nbsp;
// Add ::isUnbound to Template &amp;&amp; Binding
saddle.Template.prototype.isUnbound = <span class="fstat-no" title="function not covered" >function(context) {</span>
<span class="cstat-no" title="statement not covered" >  return context.unbound;</span>
};
saddle.Binding.prototype.isUnbound = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  return this.template.expression.isUnbound(this.context);</span>
};
&nbsp;
// Add Template::resolve
saddle.Template.prototype.resolve = <span class="fstat-no" title="function not covered" >function() {</span>};
&nbsp;
// The Template::dependencies method is specific to how Derby bindings work,
// so extend all of the Saddle Template types here
saddle.Template.prototype.dependencies = <span class="fstat-no" title="function not covered" >function(context) {</span>
<span class="cstat-no" title="statement not covered" >  return getArrayDependencies(this.content, context);</span>
};
saddle.Doctype.prototype.dependencies = <span class="fstat-no" title="function not covered" >function() {</span>};
saddle.Text.prototype.dependencies = <span class="fstat-no" title="function not covered" >function() {</span>};
saddle.DynamicText.prototype.dependencies = <span class="fstat-no" title="function not covered" >function(context) {</span>
<span class="cstat-no" title="statement not covered" >  return getDependencies(this.expression, context);</span>
};
saddle.Comment.prototype.dependencies = <span class="fstat-no" title="function not covered" >function() {</span>};
saddle.DynamicComment.prototype.dependencies = <span class="fstat-no" title="function not covered" >function(context) {</span>
<span class="cstat-no" title="statement not covered" >  return getDependencies(this.expression, context);</span>
};
saddle.Element.prototype.dependencies = <span class="fstat-no" title="function not covered" >function(context) {</span>
<span class="cstat-no" title="statement not covered" >  var items = getMapDependencies(this.attributes, context);</span>
<span class="cstat-no" title="statement not covered" >  return getArrayDependencies(this.content, context, items);</span>
};
saddle.Block.prototype.dependencies = <span class="fstat-no" title="function not covered" >function(context) {</span>
<span class="cstat-no" title="statement not covered" >  var items = getDependencies(this.expression, context);</span>
<span class="cstat-no" title="statement not covered" >  return getArrayDependencies(this.content, context, items);</span>
};
saddle.ConditionalBlock.prototype.dependencies = <span class="fstat-no" title="function not covered" >function(context) {</span>
<span class="cstat-no" title="statement not covered" >  var items = getArrayDependencies(this.expressions, context);</span>
<span class="cstat-no" title="statement not covered" >  return getArrayOfArrayDependencies(this.contents, context, items);</span>
};
saddle.EachBlock.prototype.dependencies = <span class="fstat-no" title="function not covered" >function(context) {</span>
<span class="cstat-no" title="statement not covered" >  var items = getDependencies(this.expression, context);</span>
<span class="cstat-no" title="statement not covered" >  items = getArrayDependencies(this.content, context, items);</span>
<span class="cstat-no" title="statement not covered" >  return getArrayDependencies(this.elseContent, context, items);</span>
};
saddle.Attribute.prototype.dependencies = <span class="fstat-no" title="function not covered" >function() {</span>};
saddle.DynamicAttribute.prototype.dependencies = <span class="fstat-no" title="function not covered" >function(context) {</span>
<span class="cstat-no" title="statement not covered" >  return getDependencies(this.expression, context);</span>
};
&nbsp;
<span class="fstat-no" title="function not covered" >function getArrayOfArrayDependencies(expressions, context, items) {</span>
<span class="cstat-no" title="statement not covered" >  if (!expressions) <span class="cstat-no" title="statement not covered" >return items;</span></span>
<span class="cstat-no" title="statement not covered" >  for (var i = 0, len = expressions.length; i &lt; len; i++) {</span>
<span class="cstat-no" title="statement not covered" >    items = getArrayDependencies(expressions[i], context, items);</span>
  }
<span class="cstat-no" title="statement not covered" >  return items;</span>
}
<span class="fstat-no" title="function not covered" >function getArrayDependencies(expressions, context, items) {</span>
<span class="cstat-no" title="statement not covered" >  if (!expressions) <span class="cstat-no" title="statement not covered" >return items;</span></span>
<span class="cstat-no" title="statement not covered" >  for (var i = 0, len = expressions.length; i &lt; len; i++) {</span>
<span class="cstat-no" title="statement not covered" >    items = getDependencies(expressions[i], context, items);</span>
  }
<span class="cstat-no" title="statement not covered" >  return items;</span>
}
<span class="fstat-no" title="function not covered" >function getMapDependencies(expressions, context, items) {</span>
<span class="cstat-no" title="statement not covered" >  if (!expressions) <span class="cstat-no" title="statement not covered" >return items;</span></span>
<span class="cstat-no" title="statement not covered" >  for (var key in expressions) {</span>
<span class="cstat-no" title="statement not covered" >    items = getDependencies(expressions[key], context, items);</span>
  }
<span class="cstat-no" title="statement not covered" >  return items;</span>
}
<span class="fstat-no" title="function not covered" >function getDependencies(expression, context, items) {</span>
<span class="cstat-no" title="statement not covered" >  var dependencies = expression &amp;&amp; expression.dependencies(context);</span>
<span class="cstat-no" title="statement not covered" >  if (!dependencies) <span class="cstat-no" title="statement not covered" >return items;</span></span>
<span class="cstat-no" title="statement not covered" >  for (var i = 0, len = dependencies.length; i &lt; len; i++) {</span>
<span class="cstat-no" title="statement not covered" >    items || (items = []);</span>
<span class="cstat-no" title="statement not covered" >    items.push(dependencies[i]);</span>
  }
<span class="cstat-no" title="statement not covered" >  return items;</span>
}
&nbsp;
var markerHooks = [{
  emit: <span class="fstat-no" title="function not covered" >function(context, node) {</span>
<span class="cstat-no" title="statement not covered" >    node.$component = context.controller;</span>
<span class="cstat-no" title="statement not covered" >    context.controller.markerNode = node;</span>
  }
}];
<span class="fstat-no" title="function not covered" >function Marker(data) {</span>
<span class="cstat-no" title="statement not covered" >  saddle.Comment.call(this, data, markerHooks);</span>
}
Marker.prototype = Object.create(saddle.Comment.prototype);
Marker.prototype.type = 'Marker';
Marker.prototype.serialize = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  return serializeObject.instance(this, this.data);</span>
};
Marker.prototype.get = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  return '';</span>
};
&nbsp;
<span class="fstat-no" title="function not covered" >function ViewAttributesMap(source) {</span>
<span class="cstat-no" title="statement not covered" >  var items = source.split(/\s+/);</span>
<span class="cstat-no" title="statement not covered" >  for (var i = 0, len = items.length; i &lt; len; i++) {</span>
<span class="cstat-no" title="statement not covered" >    this[items[i]] = true;</span>
  }
}
<span class="fstat-no" title="function not covered" >function ViewArraysMap(source) {</span>
<span class="cstat-no" title="statement not covered" >  var items = source.split(/\s+/);</span>
<span class="cstat-no" title="statement not covered" >  for (var i = 0, len = items.length; i &lt; len; i++) {</span>
<span class="cstat-no" title="statement not covered" >    var item = items[i].split('/');</span>
<span class="cstat-no" title="statement not covered" >    this[item[0]] = item[1] || item[0];</span>
  }
}
<span class="fstat-no" title="function not covered" >function View(views, name, source, options) {</span>
<span class="cstat-no" title="statement not covered" >  this.views = views;</span>
<span class="cstat-no" title="statement not covered" >  this.name = name;</span>
<span class="cstat-no" title="statement not covered" >  this.source = source;</span>
<span class="cstat-no" title="statement not covered" >  this.options = options;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  var nameSegments = (this.name || '').split(':');</span>
<span class="cstat-no" title="statement not covered" >  var lastSegment = nameSegments.pop();</span>
<span class="cstat-no" title="statement not covered" >  this.namespace = nameSegments.join(':');</span>
<span class="cstat-no" title="statement not covered" >  this.registeredName = (lastSegment === 'index') ? this.namespace : this.name;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  this.attributesMap = options &amp;&amp; options.attributes &amp;&amp;</span>
    new ViewAttributesMap(options.attributes);
<span class="cstat-no" title="statement not covered" >  this.arraysMap = options &amp;&amp; options.arrays &amp;&amp;</span>
    new ViewArraysMap(options.arrays);
  // The empty string is considered true for easier HTML attribute parsing
<span class="cstat-no" title="statement not covered" >  this.unminified = options &amp;&amp; (options.unminified || options.unminified === '');</span>
<span class="cstat-no" title="statement not covered" >  this.string = options &amp;&amp; (options.string || options.string === '');</span>
<span class="cstat-no" title="statement not covered" >  this.literal = options &amp;&amp; (options.literal || options.literal === '');</span>
<span class="cstat-no" title="statement not covered" >  this.template = null;</span>
<span class="cstat-no" title="statement not covered" >  this.componentFactory = null;</span>
}
View.prototype = Object.create(saddle.Template.prototype);
View.prototype.type = 'View';
View.prototype.serialize = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  return null;</span>
};
View.prototype._isComponent = <span class="fstat-no" title="function not covered" >function(context) {</span>
<span class="cstat-no" title="statement not covered" >  if (!this.componentFactory) <span class="cstat-no" title="statement not covered" >return false;</span></span>
<span class="cstat-no" title="statement not covered" >  if (context.attributes &amp;&amp; context.attributes.extend) <span class="cstat-no" title="statement not covered" >return false;</span></span>
<span class="cstat-no" title="statement not covered" >  return true;</span>
};
View.prototype._initComponent = <span class="fstat-no" title="function not covered" >function(context) {</span>
<span class="cstat-no" title="statement not covered" >  return (this._isComponent(context)) ?</span>
    this.componentFactory.init(context) : context;
};
View.prototype._queueCreate = <span class="fstat-no" title="function not covered" >function(context, viewContext) {</span>
<span class="cstat-no" title="statement not covered" >  if (this._isComponent(context)) {</span>
<span class="cstat-no" title="statement not covered" >    var componentFactory = this.componentFactory;</span>
<span class="cstat-no" title="statement not covered" >    context.queue(<span class="fstat-no" title="function not covered" >function queuedCreate() {</span></span>
<span class="cstat-no" title="statement not covered" >      componentFactory.create(viewContext);</span>
    });
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (!context.hooks) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >    context.queue(<span class="fstat-no" title="function not covered" >function queuedComponentHooks() {</span></span>
      // Kick off hooks if view instance specified `on` or `as` attributes
<span class="cstat-no" title="statement not covered" >      for (var i = 0, len = context.hooks.length; i &lt; len; i++) {</span>
<span class="cstat-no" title="statement not covered" >        context.hooks[i].emit(context, viewContext.controller);</span>
      }
    });
  }
};
View.prototype.get = <span class="fstat-no" title="function not covered" >function(context, unescaped) {</span>
<span class="cstat-no" title="statement not covered" >  var viewContext = this._initComponent(context);</span>
<span class="cstat-no" title="statement not covered" >  var template = this.template || this.parse();</span>
<span class="cstat-no" title="statement not covered" >  return template.get(viewContext, unescaped);</span>
};
View.prototype.getFragment = <span class="fstat-no" title="function not covered" >function(context, binding) {</span>
<span class="cstat-no" title="statement not covered" >  var viewContext = this._initComponent(context);</span>
<span class="cstat-no" title="statement not covered" >  var template = this.template || this.parse();</span>
<span class="cstat-no" title="statement not covered" >  var fragment = template.getFragment(viewContext, binding);</span>
<span class="cstat-no" title="statement not covered" >  this._queueCreate(context, viewContext);</span>
<span class="cstat-no" title="statement not covered" >  return fragment;</span>
};
View.prototype.appendTo = <span class="fstat-no" title="function not covered" >function(parent, context) {</span>
<span class="cstat-no" title="statement not covered" >  var viewContext = this._initComponent(context);</span>
<span class="cstat-no" title="statement not covered" >  var template = this.template || this.parse();</span>
<span class="cstat-no" title="statement not covered" >  template.appendTo(parent, viewContext);</span>
<span class="cstat-no" title="statement not covered" >  this._queueCreate(context, viewContext);</span>
};
View.prototype.attachTo = <span class="fstat-no" title="function not covered" >function(parent, node, context) {</span>
<span class="cstat-no" title="statement not covered" >  var viewContext = this._initComponent(context);</span>
<span class="cstat-no" title="statement not covered" >  var template = this.template || this.parse();</span>
<span class="cstat-no" title="statement not covered" >  var node = template.attachTo(parent, node, viewContext);</span>
<span class="cstat-no" title="statement not covered" >  this._queueCreate(context, viewContext);</span>
<span class="cstat-no" title="statement not covered" >  return node;</span>
};
View.prototype.dependencies = <span class="fstat-no" title="function not covered" >function(context) {</span>
<span class="cstat-no" title="statement not covered" >  var template = this.template || this.parse();</span>
<span class="cstat-no" title="statement not covered" >  return template.dependencies(context);</span>
};
View.prototype.parse = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  this._parse();</span>
<span class="cstat-no" title="statement not covered" >  if (this.componentFactory) {</span>
<span class="cstat-no" title="statement not covered" >    var marker = new Marker(this.name);</span>
<span class="cstat-no" title="statement not covered" >    this.template.content.unshift(marker);</span>
  }
<span class="cstat-no" title="statement not covered" >  return this.template;</span>
};
// View.prototype._parse is defined in parsing.js, so that it doesn't have to
// be included in the client if templates are all parsed server-side
View.prototype._parse = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  throw new Error('View parsing not available');</span>
};
&nbsp;
<span class="fstat-no" title="function not covered" >function ViewInstance(name, attributes, hooks, initHooks) {</span>
<span class="cstat-no" title="statement not covered" >  this.name = name;</span>
<span class="cstat-no" title="statement not covered" >  this.attributes = attributes;</span>
<span class="cstat-no" title="statement not covered" >  this.hooks = hooks;</span>
<span class="cstat-no" title="statement not covered" >  this.initHooks = initHooks;</span>
<span class="cstat-no" title="statement not covered" >  this.view = null;</span>
}
ViewInstance.prototype = Object.create(saddle.Template.prototype);
ViewInstance.prototype.type = 'ViewInstance';
ViewInstance.prototype.serialize = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  return serializeObject.instance(this, this.name, this.attributes, this.hooks, this.initHooks);</span>
};
ViewInstance.prototype.get = <span class="fstat-no" title="function not covered" >function(context, unescaped) {</span>
<span class="cstat-no" title="statement not covered" >  var view = this._find(context);</span>
<span class="cstat-no" title="statement not covered" >  var viewContext = context.viewChild(view, this.attributes, this.hooks, this.initHooks);</span>
<span class="cstat-no" title="statement not covered" >  return view.get(viewContext, unescaped);</span>
};
ViewInstance.prototype.getFragment = <span class="fstat-no" title="function not covered" >function(context, binding) {</span>
<span class="cstat-no" title="statement not covered" >  var view = this._find(context);</span>
<span class="cstat-no" title="statement not covered" >  var viewContext = context.viewChild(view, this.attributes, this.hooks, this.initHooks);</span>
<span class="cstat-no" title="statement not covered" >  return view.getFragment(viewContext, binding);</span>
};
ViewInstance.prototype.appendTo = <span class="fstat-no" title="function not covered" >function(parent, context) {</span>
<span class="cstat-no" title="statement not covered" >  var view = this._find(context);</span>
<span class="cstat-no" title="statement not covered" >  var viewContext = context.viewChild(view, this.attributes, this.hooks, this.initHooks);</span>
<span class="cstat-no" title="statement not covered" >  view.appendTo(parent, viewContext);</span>
};
ViewInstance.prototype.attachTo = <span class="fstat-no" title="function not covered" >function(parent, node, context) {</span>
<span class="cstat-no" title="statement not covered" >  var view = this._find(context);</span>
<span class="cstat-no" title="statement not covered" >  var viewContext = context.viewChild(view, this.attributes, this.hooks, this.initHooks);</span>
<span class="cstat-no" title="statement not covered" >  return view.attachTo(parent, node, viewContext);</span>
};
ViewInstance.prototype.dependencies = <span class="fstat-no" title="function not covered" >function(context) {</span>
<span class="cstat-no" title="statement not covered" >  var view = this._find(context);</span>
<span class="cstat-no" title="statement not covered" >  var viewContext = context.viewChild(view, this.attributes, this.hooks, this.initHooks);</span>
<span class="cstat-no" title="statement not covered" >  return view.dependencies(viewContext);</span>
};
ViewInstance.prototype._find = <span class="fstat-no" title="function not covered" >function(context) {</span>
<span class="cstat-no" title="statement not covered" >  if (this.view) <span class="cstat-no" title="statement not covered" >return this.view;</span></span>
<span class="cstat-no" title="statement not covered" >  var contextView = context.getView();</span>
<span class="cstat-no" title="statement not covered" >  var namespace = contextView &amp;&amp; contextView.namespace;</span>
<span class="cstat-no" title="statement not covered" >  this.view = context.meta.views.find(this.name, namespace);</span>
<span class="cstat-no" title="statement not covered" >  if (!this.view) {</span>
<span class="cstat-no" title="statement not covered" >    var message = context.meta.views.findErrorMessage(this.name, contextView);</span>
<span class="cstat-no" title="statement not covered" >    throw new Error(message);</span>
  }
<span class="cstat-no" title="statement not covered" >  return this.view;</span>
};
&nbsp;
<span class="fstat-no" title="function not covered" >function DynamicViewInstance(nameExpression, attributes, hooks, initHooks) {</span>
<span class="cstat-no" title="statement not covered" >  this.nameExpression = nameExpression;</span>
<span class="cstat-no" title="statement not covered" >  this.attributes = attributes;</span>
<span class="cstat-no" title="statement not covered" >  this.hooks = hooks;</span>
<span class="cstat-no" title="statement not covered" >  this.initHooks = initHooks;</span>
}
DynamicViewInstance.prototype = Object.create(ViewInstance.prototype);
DynamicViewInstance.prototype.type = 'DynamicViewInstance';
DynamicViewInstance.prototype.serialize = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  return serializeObject.instance(this, this.nameExpression, this.attributes, this.hooks, this.initHooks);</span>
};
DynamicViewInstance.prototype._find = <span class="fstat-no" title="function not covered" >function(context) {</span>
<span class="cstat-no" title="statement not covered" >  var name = this.nameExpression.get(context);</span>
<span class="cstat-no" title="statement not covered" >  var contextView = context.getView();</span>
<span class="cstat-no" title="statement not covered" >  var namespace = contextView &amp;&amp; contextView.namespace;</span>
<span class="cstat-no" title="statement not covered" >  var view = name &amp;&amp; context.meta.views.find(name, namespace);</span>
<span class="cstat-no" title="statement not covered" >  return view || exports.emptyTemplate;</span>
};
&nbsp;
<span class="fstat-no" title="function not covered" >function ParentWrapper(template, expression) {</span>
<span class="cstat-no" title="statement not covered" >  this.template = template;</span>
<span class="cstat-no" title="statement not covered" >  this.expression = expression;</span>
}
ParentWrapper.prototype = Object.create(saddle.Template.prototype);
ParentWrapper.prototype.type = 'ParentWrapper';
ParentWrapper.prototype.serialize = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  return serializeObject.instance(this, this.template, this.expression);</span>
};
ParentWrapper.prototype.get = <span class="fstat-no" title="function not covered" >function(context, unescaped) {</span>
<span class="cstat-no" title="statement not covered" >  return (this.expression || this.template).get(context.forViewParent(), unescaped);</span>
};
ParentWrapper.prototype.getFragment = <span class="fstat-no" title="function not covered" >function(context, binding) {</span>
<span class="cstat-no" title="statement not covered" >  return this.template.getFragment(context.forViewParent(), binding);</span>
};
ParentWrapper.prototype.appendTo = <span class="fstat-no" title="function not covered" >function(parent, context) {</span>
<span class="cstat-no" title="statement not covered" >  this.template.appendTo(parent, context.forViewParent());</span>
};
ParentWrapper.prototype.attachTo = <span class="fstat-no" title="function not covered" >function(parent, node, context) {</span>
<span class="cstat-no" title="statement not covered" >  return this.template.attachTo(parent, node, context.forViewParent());</span>
};
ParentWrapper.prototype.resolve = <span class="fstat-no" title="function not covered" >function(context) {</span>
<span class="cstat-no" title="statement not covered" >  return this.expression &amp;&amp; this.expression.resolve(context.forViewParent());</span>
};
ParentWrapper.prototype.dependencies = <span class="fstat-no" title="function not covered" >function(context, forInnerPath) {</span>
<span class="cstat-no" title="statement not covered" >  return (this.expression || this.template).dependencies(context.forViewParent(), forInnerPath);</span>
};
&nbsp;
<span class="fstat-no" title="function not covered" >function ViewsMap() {</span>}
<span class="fstat-no" title="function not covered" >function Views() {</span>
<span class="cstat-no" title="statement not covered" >  this.nameMap = new ViewsMap();</span>
<span class="cstat-no" title="statement not covered" >  this.tagMap = new ViewsMap();</span>
  // TODO: elementMap is deprecated and should be removed with Derby 0.6.0
<span class="cstat-no" title="statement not covered" >  this.elementMap = this.tagMap;</span>
}
Views.prototype.find = <span class="fstat-no" title="function not covered" >function(name, namespace) {</span>
<span class="cstat-no" title="statement not covered" >  var map = this.nameMap;</span>
&nbsp;
  // Exact match lookup
<span class="cstat-no" title="statement not covered" >  var exactName = (namespace) ? namespace + ':' + name : name;</span>
<span class="cstat-no" title="statement not covered" >  var match = map[exactName];</span>
<span class="cstat-no" title="statement not covered" >  if (match) <span class="cstat-no" title="statement not covered" >return match;</span></span>
&nbsp;
  // Relative lookup
<span class="cstat-no" title="statement not covered" >  var segments = name.split(':');</span>
<span class="cstat-no" title="statement not covered" >  var segmentsDepth = segments.length;</span>
<span class="cstat-no" title="statement not covered" >  if (namespace) <span class="cstat-no" title="statement not covered" >segments = namespace.split(':').concat(segments);</span></span>
  // Iterate through segments, leaving the `segmentsDepth` segments and
  // removing the second to `segmentsDepth` segment to traverse up the
  // namespaces. Decrease `segmentsDepth` if not found and repeat again.
<span class="cstat-no" title="statement not covered" >  while (segmentsDepth &gt; 0) {</span>
<span class="cstat-no" title="statement not covered" >    var testSegments = segments.slice();</span>
<span class="cstat-no" title="statement not covered" >    while (testSegments.length &gt; segmentsDepth) {</span>
<span class="cstat-no" title="statement not covered" >      testSegments.splice(-1 - segmentsDepth, 1);</span>
<span class="cstat-no" title="statement not covered" >      var testName = testSegments.join(':');</span>
<span class="cstat-no" title="statement not covered" >      var match = map[testName];</span>
<span class="cstat-no" title="statement not covered" >      if (match) <span class="cstat-no" title="statement not covered" >return match;</span></span>
    }
<span class="cstat-no" title="statement not covered" >    segmentsDepth--;</span>
  }
};
Views.prototype.register = <span class="fstat-no" title="function not covered" >function(name, source, options) {</span>
<span class="cstat-no" title="statement not covered" >  var mapName = name.replace(/:index$/, '');</span>
<span class="cstat-no" title="statement not covered" >  var view = this.nameMap[mapName];</span>
<span class="cstat-no" title="statement not covered" >  if (view) {</span>
    // Recreate the view if it already exists. We re-apply the constructor
    // instead of creating a new view object so that references to object
    // can be cached after finding the first time
<span class="cstat-no" title="statement not covered" >    var componentFactory = view.componentFactory;</span>
<span class="cstat-no" title="statement not covered" >    View.call(view, this, name, source, options);</span>
<span class="cstat-no" title="statement not covered" >    view.componentFactory = componentFactory;</span>
  } else {
<span class="cstat-no" title="statement not covered" >    view = new View(this, name, source, options);</span>
  }
<span class="cstat-no" title="statement not covered" >  this.nameMap[mapName] = view;</span>
  // TODO: element is deprecated and should be removed with Derby 0.6.0
<span class="cstat-no" title="statement not covered" >  var tagName = options &amp;&amp; (options.tag || options.element);</span>
<span class="cstat-no" title="statement not covered" >  if (tagName) <span class="cstat-no" title="statement not covered" >this.tagMap[tagName] = view;</span></span>
<span class="cstat-no" title="statement not covered" >  return view;</span>
};
Views.prototype.serialize = <span class="fstat-no" title="function not covered" >function(options) {</span>
<span class="cstat-no" title="statement not covered" >  var out = 'function(derbyTemplates, views) {' +</span>
    'var expressions = derbyTemplates.expressions;' +
    'var templates = derbyTemplates.templates;';
<span class="cstat-no" title="statement not covered" >  var forServer = options &amp;&amp; options.server;</span>
<span class="cstat-no" title="statement not covered" >  var minify = options &amp;&amp; options.minify;</span>
<span class="cstat-no" title="statement not covered" >  for (var name in this.nameMap) {</span>
<span class="cstat-no" title="statement not covered" >    var view = this.nameMap[name];</span>
<span class="cstat-no" title="statement not covered" >    var template = view.template || view.parse();</span>
<span class="cstat-no" title="statement not covered" >    if (!forServer &amp;&amp; view.options) {</span>
      // Do not serialize views with the `serverOnly` option, except when
      // serializing for a server script
<span class="cstat-no" title="statement not covered" >      if (view.options.serverOnly) <span class="cstat-no" title="statement not covered" >continue;</span></span>
      // For views with the `server` option, serialize them with a blank
      // template body. This allows them to be used from other views on the
      // browser, but they will output nothing on the browser
<span class="cstat-no" title="statement not covered" >      if (view.options.server) <span class="cstat-no" title="statement not covered" >template = exports.emptyTemplate;</span></span>
    }
<span class="cstat-no" title="statement not covered" >    out += 'views.register(' + serializeObject.args([</span>
      view.name
    , (minify) ? null : view.source
    , (hasKeys(view.options)) ? view.options : null
    ]) + ').parse = function() {return this.template = ' + template.serialize() + '};';
  }
<span class="cstat-no" title="statement not covered" >  return out + '}';</span>
};
Views.prototype.findErrorMessage = <span class="fstat-no" title="function not covered" >function(name, contextView) {</span>
<span class="cstat-no" title="statement not covered" >  var names = Object.keys(this.nameMap);</span>
<span class="cstat-no" title="statement not covered" >  var message = 'Cannot find view "' + name + '" in' +</span>
    [''].concat(names).join('\n  ') + '\n';
<span class="cstat-no" title="statement not covered" >  if (contextView) {</span>
<span class="cstat-no" title="statement not covered" >    message += '\nWithin template "' + contextView.name + '":\n' + contextView.source;</span>
  }
<span class="cstat-no" title="statement not covered" >  return message;</span>
};
&nbsp;
&nbsp;
<span class="fstat-no" title="function not covered" >function MarkupHook() {</span>}
MarkupHook.prototype.module = saddle.Template.prototype.module;
&nbsp;
<span class="fstat-no" title="function not covered" >function ElementOn(name, expression) {</span>
<span class="cstat-no" title="statement not covered" >  this.name = name;</span>
<span class="cstat-no" title="statement not covered" >  this.expression = expression;</span>
}
ElementOn.prototype = Object.create(MarkupHook.prototype);
ElementOn.prototype.type = 'ElementOn';
ElementOn.prototype.serialize = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  return serializeObject.instance(this, this.name, this.expression);</span>
};
ElementOn.prototype.emit = <span class="fstat-no" title="function not covered" >function(context, element) {</span>
<span class="cstat-no" title="statement not covered" >  var elementOn = this;</span>
<span class="cstat-no" title="statement not covered" >  if (this.name === 'create') {</span>
<span class="cstat-no" title="statement not covered" >    this.apply(context, element);</span>
&nbsp;
  } else <span class="cstat-no" title="statement not covered" >if (this.name === 'destroy') {</span>
<span class="cstat-no" title="statement not covered" >    var destroyListeners = element.$destroyListeners || (element.$destroyListeners = []);</span>
<span class="cstat-no" title="statement not covered" >    destroyListeners.push(<span class="fstat-no" title="function not covered" >function elementOnDestroy() {</span></span>
<span class="cstat-no" title="statement not covered" >      elementOn.apply(context, element);</span>
    });
&nbsp;
  } else {
<span class="cstat-no" title="statement not covered" >    element.addEventListener(this.name, <span class="fstat-no" title="function not covered" >function elementOnListener(event) {</span></span>
<span class="cstat-no" title="statement not covered" >      return elementOn.apply(context, element, event);</span>
    }, false);
  }
};
ElementOn.prototype.apply = <span class="fstat-no" title="function not covered" >function(context, element, event) {</span>
<span class="cstat-no" title="statement not covered" >  var modelData = context.controller.model.data;</span>
<span class="cstat-no" title="statement not covered" >  modelData.$event = event;</span>
<span class="cstat-no" title="statement not covered" >  modelData.$element = element;</span>
<span class="cstat-no" title="statement not covered" >  var out = this.expression.apply(context);</span>
<span class="cstat-no" title="statement not covered" >  delete modelData.$event;</span>
<span class="cstat-no" title="statement not covered" >  delete modelData.$element;</span>
<span class="cstat-no" title="statement not covered" >  return out;</span>
};
&nbsp;
<span class="fstat-no" title="function not covered" >function ComponentOn(name, expression) {</span>
<span class="cstat-no" title="statement not covered" >  this.name = name;</span>
<span class="cstat-no" title="statement not covered" >  this.expression = expression;</span>
}
ComponentOn.prototype = Object.create(MarkupHook.prototype);
ComponentOn.prototype.type = 'ComponentOn';
ComponentOn.prototype.serialize = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  return serializeObject.instance(this, this.name, this.expression);</span>
};
ComponentOn.prototype.emit = <span class="fstat-no" title="function not covered" >function(context, component) {</span>
<span class="cstat-no" title="statement not covered" >  var expression = this.expression;</span>
<span class="cstat-no" title="statement not covered" >  component.on(this.name, <span class="fstat-no" title="function not covered" >function componentOnListener() {</span></span>
<span class="cstat-no" title="statement not covered" >    var args = arguments.length &amp;&amp; Array.prototype.slice.call(arguments);</span>
<span class="cstat-no" title="statement not covered" >    return expression.apply(context, args);</span>
  });
};
&nbsp;
<span class="fstat-no" title="function not covered" >function AsProperty(segments) {</span>
<span class="cstat-no" title="statement not covered" >  this.segments = segments;</span>
<span class="cstat-no" title="statement not covered" >  this.lastSegment = segments.pop();</span>
}
AsProperty.prototype = Object.create(MarkupHook.prototype);
AsProperty.prototype.type = 'AsProperty';
AsProperty.prototype.serialize = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  var segments = this.segments.concat(this.lastSegment);</span>
<span class="cstat-no" title="statement not covered" >  return serializeObject.instance(this, segments);</span>
};
AsProperty.prototype.emit = <span class="fstat-no" title="function not covered" >function(context, target) {</span>
<span class="cstat-no" title="statement not covered" >  var node = traverseAndCreate(context.controller, this.segments);</span>
<span class="cstat-no" title="statement not covered" >  node[this.lastSegment] = target;</span>
};
&nbsp;
<span class="fstat-no" title="function not covered" >function AsObject(segments, keyExpression) {</span>
<span class="cstat-no" title="statement not covered" >  AsProperty.call(this, segments);</span>
<span class="cstat-no" title="statement not covered" >  this.keyExpression = keyExpression;</span>
}
AsObject.prototype = Object.create(AsProperty.prototype);
AsObject.prototype.type = 'AsObject';
AsObject.prototype.serialize = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  var segments = this.segments.concat(this.lastSegment);</span>
<span class="cstat-no" title="statement not covered" >  return serializeObject.instance(this, segments, this.keyExpression);</span>
};
AsObject.prototype.emit = <span class="fstat-no" title="function not covered" >function(context, target) {</span>
<span class="cstat-no" title="statement not covered" >  var node = traverseAndCreate(context.controller, this.segments);</span>
<span class="cstat-no" title="statement not covered" >  var object = node[this.lastSegment] || (node[this.lastSegment] = {});</span>
<span class="cstat-no" title="statement not covered" >  var key = this.keyExpression.get(context);</span>
<span class="cstat-no" title="statement not covered" >  object[key] = target;</span>
<span class="cstat-no" title="statement not covered" >  this.addListeners(target, object, key);</span>
};
AsObject.prototype.addListeners = <span class="fstat-no" title="function not covered" >function(target, object, key) {</span>
<span class="cstat-no" title="statement not covered" >  this.addDestroyListener(target, <span class="fstat-no" title="function not covered" >function asObjectDestroy() {</span></span>
<span class="cstat-no" title="statement not covered" >    delete object[key];</span>
  });
};
AsObject.prototype.addDestroyListener = <span class="fstat-no" title="function not covered" >function(target, listener) {</span>
<span class="cstat-no" title="statement not covered" >  var listeners = target.$destroyListeners || (target.$destroyListeners = []);</span>
<span class="cstat-no" title="statement not covered" >  listeners.push(listener);</span>
};
&nbsp;
<span class="fstat-no" title="function not covered" >function AsObjectComponent(segments, keyExpression) {</span>
<span class="cstat-no" title="statement not covered" >  AsObject.call(this, segments, keyExpression);</span>
}
AsObjectComponent.prototype = Object.create(AsObject.prototype);
AsObjectComponent.prototype.type = 'AsObjectComponent';
AsObjectComponent.prototype.addDestroyListener = <span class="fstat-no" title="function not covered" >function(target, listener) {</span>
<span class="cstat-no" title="statement not covered" >  target.on('destroy', listener);</span>
};
&nbsp;
<span class="fstat-no" title="function not covered" >function AsArray(segments) {</span>
<span class="cstat-no" title="statement not covered" >  AsProperty.call(this, segments);</span>
}
AsArray.prototype = Object.create(AsProperty.prototype);
AsArray.prototype.type = 'AsArray';
AsArray.prototype.emit = <span class="fstat-no" title="function not covered" >function(context, target) {</span>
<span class="cstat-no" title="statement not covered" >  var node = traverseAndCreate(context.controller, this.segments);</span>
<span class="cstat-no" title="statement not covered" >  var array = node[this.lastSegment] || (node[this.lastSegment] = []);</span>
&nbsp;
  // Iterate backwards, since rendering will usually append
<span class="cstat-no" title="statement not covered" >  for (var i = array.length; i--;) {</span>
<span class="cstat-no" title="statement not covered" >    var item = array[i];</span>
    // Don't add an item if already in the array
<span class="cstat-no" title="statement not covered" >    if (item === target) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >    var mask = this.comparePosition(target, item);</span>
    // If the emitted target is after the current item in the document,
    // insert it next in the array
    // Node.DOCUMENT_POSITION_FOLLOWING = 4
<span class="cstat-no" title="statement not covered" >    if (mask &amp; 4) {</span>
<span class="cstat-no" title="statement not covered" >      array.splice(i + 1, 0, target);</span>
<span class="cstat-no" title="statement not covered" >      this.addListeners(target, array);</span>
<span class="cstat-no" title="statement not covered" >      return;</span>
    }
  }
  // Add to the beginning if before all items
<span class="cstat-no" title="statement not covered" >  array.unshift(target);</span>
<span class="cstat-no" title="statement not covered" >  this.addListeners(target, array);</span>
};
AsArray.prototype.addListeners = <span class="fstat-no" title="function not covered" >function(target, array) {</span>
<span class="cstat-no" title="statement not covered" >  this.addDestroyListener(target, <span class="fstat-no" title="function not covered" >function asArrayDestroy() {</span></span>
<span class="cstat-no" title="statement not covered" >    var index = array.indexOf(target);</span>
<span class="cstat-no" title="statement not covered" >    if (index !== -1) <span class="cstat-no" title="statement not covered" >array.splice(index, 1);</span></span>
  });
};
AsArray.prototype.comparePosition = <span class="fstat-no" title="function not covered" >function(target, item) {</span>
<span class="cstat-no" title="statement not covered" >  return item.compareDocumentPosition(target);</span>
};
AsArray.prototype.addDestroyListener = AsObject.prototype.addDestroyListener;
&nbsp;
<span class="fstat-no" title="function not covered" >function AsArrayComponent(segments) {</span>
<span class="cstat-no" title="statement not covered" >  AsArray.call(this, segments);</span>
}
AsArrayComponent.prototype = Object.create(AsArray.prototype);
AsArrayComponent.prototype.type = 'AsArrayComponent';
AsArrayComponent.prototype.comparePosition = <span class="fstat-no" title="function not covered" >function(target, item) {</span>
<span class="cstat-no" title="statement not covered" >  return item.markerNode.compareDocumentPosition(target.markerNode);</span>
};
AsArrayComponent.prototype.addDestroyListener = AsObjectComponent.prototype.addDestroyListener;
&nbsp;
<span class="fstat-no" title="function not covered" >function traverseAndCreate(node, segments) {</span>
<span class="cstat-no" title="statement not covered" >  var len = segments.length;</span>
<span class="cstat-no" title="statement not covered" >  if (!len) <span class="cstat-no" title="statement not covered" >return node;</span></span>
<span class="cstat-no" title="statement not covered" >  for (var i = 0; i &lt; len; i++) {</span>
<span class="cstat-no" title="statement not covered" >    var segment = segments[i];</span>
<span class="cstat-no" title="statement not covered" >    node = node[segment] || (node[segment] = {});</span>
  }
<span class="cstat-no" title="statement not covered" >  return node;</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function hasKeys(value) {</span>
<span class="cstat-no" title="statement not covered" >  if (!value) <span class="cstat-no" title="statement not covered" >return false;</span></span>
<span class="cstat-no" title="statement not covered" >  for (var key in value) {</span>
<span class="cstat-no" title="statement not covered" >    return true;</span>
  }
<span class="cstat-no" title="statement not covered" >  return false;</span>
}
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Tue Apr 18 2017 23:11:07 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-derby/node_modules/derby/</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header high">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-derby">npmtest-derby (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-derby/node_modules/derby/</span></h1>
    <h2>
        
        Statements: <span class="metric">100% <small>(2 / 2)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">100% <small>(0 / 0)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">100% <small>(0 / 0)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">100% <small>(2 / 2)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../index.html">All files</a> &#187; node-npmtest-derby/node_modules/derby/</div>
</div>
<div class="body">
<div class="coverage-summary">
<table>
<thead>
<tr>
   <th data-col="file" data-fmt="html" data-html="true" class="file">File</th>
   <th data-col="pic" data-type="number" data-fmt="html" data-html="true" class="pic"></th>
   <th data-col="statements" data-type="number" data-fmt="pct" class="pct">Statements</th>
   <th data-col="statements_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="branches" data-type="number" data-fmt="pct" class="pct">Branches</th>
   <th data-col="branches_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="functions" data-type="number" data-fmt="pct" class="pct">Functions</th>
   <th data-col="functions_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="lines" data-type="number" data-fmt="pct" class="pct">Lines</th>
   <th data-col="lines_raw" data-type="number" data-fmt="html" class="abs"></th>
</tr>
</thead>
<tbody><tr>
	<td class="file high" data-value="index.js"><a href="index.js.html">index.js</a></td>
	<td data-value="100" class="pic high"><span class="cover-fill cover-full" style="width: 100px;"></span><span class="cover-empty" style="width:0px;"></span></td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="2" class="abs high">(2&nbsp;/&nbsp;2)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="0" class="abs high">(0&nbsp;/&nbsp;0)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="0" class="abs high">(0&nbsp;/&nbsp;0)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="2" class="abs high">(2&nbsp;/&nbsp;2)</td>
	</tr>

</tbody>
</table>
</div></div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Tue Apr 18 2017 23:11:07 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-derby/node_modules/derby/index.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header high">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-derby">npmtest-derby (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-derby/node_modules/derby/index.js</span></h1>
    <h2>
        
        Statements: <span class="metric">100% <small>(2 / 2)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">100% <small>(0 / 0)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">100% <small>(0 / 0)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">100% <small>(2 / 2)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-derby/node_modules/derby/</a> &#187; index.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4</td><td class="line-coverage"><span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">var Derby = require('./lib/Derby');
module.exports = new Derby();
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Tue Apr 18 2017 23:11:07 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-derby/node_modules/derby/lib/</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-derby">npmtest-derby (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-derby/node_modules/derby/lib/</span></h1>
    <h2>
        
        Statements: <span class="metric">20.27% <small>(285 / 1406)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0.19% <small>(1 / 540)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0.92% <small>(2 / 217)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">21.67% <small>(285 / 1315)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; node-npmtest-derby/node_modules/derby/lib/</div>
</div>
<div class="body">
<div class="coverage-summary">
<table>
<thead>
<tr>
   <th data-col="file" data-fmt="html" data-html="true" class="file">File</th>
   <th data-col="pic" data-type="number" data-fmt="html" data-html="true" class="pic"></th>
   <th data-col="statements" data-type="number" data-fmt="pct" class="pct">Statements</th>
   <th data-col="statements_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="branches" data-type="number" data-fmt="pct" class="pct">Branches</th>
   <th data-col="branches_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="functions" data-type="number" data-fmt="pct" class="pct">Functions</th>
   <th data-col="functions_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="lines" data-type="number" data-fmt="pct" class="pct">Lines</th>
   <th data-col="lines_raw" data-type="number" data-fmt="html" class="abs"></th>
</tr>
</thead>
<tbody><tr>
	<td class="file low" data-value="App.js"><a href="App.js.html">App.js</a></td>
	<td data-value="19.05" class="pic low"><span class="cover-fill" style="width: 19px;"></span><span class="cover-empty" style="width:81px;"></span></td>
	<td data-value="19.05" class="pct low">19.05%</td>
	<td data-value="147" class="abs low">(28&nbsp;/&nbsp;147)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="40" class="abs low">(0&nbsp;/&nbsp;40)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="21" class="abs low">(0&nbsp;/&nbsp;21)</td>
	<td data-value="19.86" class="pct low">19.86%</td>
	<td data-value="141" class="abs low">(28&nbsp;/&nbsp;141)</td>
	</tr>

<tr>
	<td class="file low" data-value="App.server.js"><a href="App.server.js.html">App.server.js</a></td>
	<td data-value="14.48" class="pic low"><span class="cover-fill" style="width: 14px;"></span><span class="cover-empty" style="width:86px;"></span></td>
	<td data-value="14.48" class="pct low">14.48%</td>
	<td data-value="221" class="abs low">(32&nbsp;/&nbsp;221)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="77" class="abs low">(0&nbsp;/&nbsp;77)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="34" class="abs low">(0&nbsp;/&nbsp;34)</td>
	<td data-value="15.17" class="pct low">15.17%</td>
	<td data-value="211" class="abs low">(32&nbsp;/&nbsp;211)</td>
	</tr>

<tr>
	<td class="file low" data-value="Controller.js"><a href="Controller.js.html">Controller.js</a></td>
	<td data-value="31.25" class="pic low"><span class="cover-fill" style="width: 31px;"></span><span class="cover-empty" style="width:69px;"></span></td>
	<td data-value="31.25" class="pct low">31.25%</td>
	<td data-value="32" class="abs low">(10&nbsp;/&nbsp;32)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="2" class="abs low">(0&nbsp;/&nbsp;2)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="5" class="abs low">(0&nbsp;/&nbsp;5)</td>
	<td data-value="32.26" class="pct low">32.26%</td>
	<td data-value="31" class="abs low">(10&nbsp;/&nbsp;31)</td>
	</tr>

<tr>
	<td class="file high" data-value="Derby.js"><a href="Derby.js.html">Derby.js</a></td>
	<td data-value="87.5" class="pic high"><span class="cover-fill" style="width: 87px;"></span><span class="cover-empty" style="width:13px;"></span></td>
	<td data-value="87.5" class="pct high">87.5%</td>
	<td data-value="16" class="abs high">(14&nbsp;/&nbsp;16)</td>
	<td data-value="50" class="pct medium">50%</td>
	<td data-value="2" class="abs medium">(1&nbsp;/&nbsp;2)</td>
	<td data-value="50" class="pct medium">50%</td>
	<td data-value="2" class="abs medium">(1&nbsp;/&nbsp;2)</td>
	<td data-value="87.5" class="pct high">87.5%</td>
	<td data-value="16" class="abs high">(14&nbsp;/&nbsp;16)</td>
	</tr>

<tr>
	<td class="file low" data-value="Derby.server.js"><a href="Derby.server.js.html">Derby.server.js</a></td>
	<td data-value="29.17" class="pic low"><span class="cover-fill" style="width: 29px;"></span><span class="cover-empty" style="width:71px;"></span></td>
	<td data-value="29.17" class="pct low">29.17%</td>
	<td data-value="24" class="abs low">(7&nbsp;/&nbsp;24)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="8" class="abs low">(0&nbsp;/&nbsp;8)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="4" class="abs low">(0&nbsp;/&nbsp;4)</td>
	<td data-value="31.82" class="pct low">31.82%</td>
	<td data-value="22" class="abs low">(7&nbsp;/&nbsp;22)</td>
	</tr>

<tr>
	<td class="file low" data-value="DerbyStandalone.js"><a href="DerbyStandalone.js.html">DerbyStandalone.js</a></td>
	<td data-value="42.86" class="pic low"><span class="cover-fill" style="width: 42px;"></span><span class="cover-empty" style="width:58px;"></span></td>
	<td data-value="42.86" class="pct low">42.86%</td>
	<td data-value="21" class="abs low">(9&nbsp;/&nbsp;21)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="0" class="abs high">(0&nbsp;/&nbsp;0)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="3" class="abs low">(0&nbsp;/&nbsp;3)</td>
	<td data-value="42.86" class="pct low">42.86%</td>
	<td data-value="21" class="abs low">(9&nbsp;/&nbsp;21)</td>
	</tr>

<tr>
	<td class="file low" data-value="Dom.js"><a href="Dom.js.html">Dom.js</a></td>
	<td data-value="26.92" class="pic low"><span class="cover-fill" style="width: 26px;"></span><span class="cover-empty" style="width:74px;"></span></td>
	<td data-value="26.92" class="pct low">26.92%</td>
	<td data-value="78" class="abs low">(21&nbsp;/&nbsp;78)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="32" class="abs low">(0&nbsp;/&nbsp;32)</td>
	<td data-value="6.67" class="pct low">6.67%</td>
	<td data-value="15" class="abs low">(1&nbsp;/&nbsp;15)</td>
	<td data-value="28.77" class="pct low">28.77%</td>
	<td data-value="73" class="abs low">(21&nbsp;/&nbsp;73)</td>
	</tr>

<tr>
	<td class="file low" data-value="Page.js"><a href="Page.js.html">Page.js</a></td>
	<td data-value="19.74" class="pic low"><span class="cover-fill" style="width: 19px;"></span><span class="cover-empty" style="width:81px;"></span></td>
	<td data-value="19.74" class="pct low">19.74%</td>
	<td data-value="228" class="abs low">(45&nbsp;/&nbsp;228)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="72" class="abs low">(0&nbsp;/&nbsp;72)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="39" class="abs low">(0&nbsp;/&nbsp;39)</td>
	<td data-value="20.83" class="pct low">20.83%</td>
	<td data-value="216" class="abs low">(45&nbsp;/&nbsp;216)</td>
	</tr>

<tr>
	<td class="file low" data-value="Page.server.js"><a href="Page.server.js.html">Page.server.js</a></td>
	<td data-value="13.11" class="pic low"><span class="cover-fill" style="width: 13px;"></span><span class="cover-empty" style="width:87px;"></span></td>
	<td data-value="13.11" class="pct low">13.11%</td>
	<td data-value="61" class="abs low">(8&nbsp;/&nbsp;61)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="20" class="abs low">(0&nbsp;/&nbsp;20)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="7" class="abs low">(0&nbsp;/&nbsp;7)</td>
	<td data-value="14.55" class="pct low">14.55%</td>
	<td data-value="55" class="abs low">(8&nbsp;/&nbsp;55)</td>
	</tr>

<tr>
	<td class="file high" data-value="_views.js"><a href="_views.js.html">_views.js</a></td>
	<td data-value="100" class="pic high"><span class="cover-fill cover-full" style="width: 100px;"></span><span class="cover-empty" style="width:0px;"></span></td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="0" class="abs high">(0&nbsp;/&nbsp;0)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="0" class="abs high">(0&nbsp;/&nbsp;0)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="0" class="abs high">(0&nbsp;/&nbsp;0)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="0" class="abs high">(0&nbsp;/&nbsp;0)</td>
	</tr>

<tr>
	<td class="file low" data-value="components.js"><a href="components.js.html">components.js</a></td>
	<td data-value="25.6" class="pic low"><span class="cover-fill" style="width: 25px;"></span><span class="cover-empty" style="width:75px;"></span></td>
	<td data-value="25.6" class="pct low">25.6%</td>
	<td data-value="125" class="abs low">(32&nbsp;/&nbsp;125)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="41" class="abs low">(0&nbsp;/&nbsp;41)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="20" class="abs low">(0&nbsp;/&nbsp;20)</td>
	<td data-value="27.35" class="pct low">27.35%</td>
	<td data-value="117" class="abs low">(32&nbsp;/&nbsp;117)</td>
	</tr>

<tr>
	<td class="file low" data-value="documentListeners.js"><a href="documentListeners.js.html">documentListeners.js</a></td>
	<td data-value="18.84" class="pic low"><span class="cover-fill" style="width: 18px;"></span><span class="cover-empty" style="width:82px;"></span></td>
	<td data-value="18.84" class="pct low">18.84%</td>
	<td data-value="69" class="abs low">(13&nbsp;/&nbsp;69)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="53" class="abs low">(0&nbsp;/&nbsp;53)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="12" class="abs low">(0&nbsp;/&nbsp;12)</td>
	<td data-value="19.4" class="pct low">19.4%</td>
	<td data-value="67" class="abs low">(13&nbsp;/&nbsp;67)</td>
	</tr>

<tr>
	<td class="file low" data-value="eventmodel.js"><a href="eventmodel.js.html">eventmodel.js</a></td>
	<td data-value="14.39" class="pic low"><span class="cover-fill" style="width: 14px;"></span><span class="cover-empty" style="width:86px;"></span></td>
	<td data-value="14.39" class="pct low">14.39%</td>
	<td data-value="271" class="abs low">(39&nbsp;/&nbsp;271)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="144" class="abs low">(0&nbsp;/&nbsp;144)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="40" class="abs low">(0&nbsp;/&nbsp;40)</td>
	<td data-value="16.67" class="pct low">16.67%</td>
	<td data-value="234" class="abs low">(39&nbsp;/&nbsp;234)</td>
	</tr>

<tr>
	<td class="file low" data-value="files.js"><a href="files.js.html">files.js</a></td>
	<td data-value="25" class="pic low"><span class="cover-fill" style="width: 25px;"></span><span class="cover-empty" style="width:75px;"></span></td>
	<td data-value="25" class="pct low">25%</td>
	<td data-value="72" class="abs low">(18&nbsp;/&nbsp;72)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="26" class="abs low">(0&nbsp;/&nbsp;26)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="9" class="abs low">(0&nbsp;/&nbsp;9)</td>
	<td data-value="25.35" class="pct low">25.35%</td>
	<td data-value="71" class="abs low">(18&nbsp;/&nbsp;71)</td>
	</tr>

<tr>
	<td class="file low" data-value="textDiff.js"><a href="textDiff.js.html">textDiff.js</a></td>
	<td data-value="21.95" class="pic low"><span class="cover-fill" style="width: 21px;"></span><span class="cover-empty" style="width:79px;"></span></td>
	<td data-value="21.95" class="pct low">21.95%</td>
	<td data-value="41" class="abs low">(9&nbsp;/&nbsp;41)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="23" class="abs low">(0&nbsp;/&nbsp;23)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="6" class="abs low">(0&nbsp;/&nbsp;6)</td>
	<td data-value="22.5" class="pct low">22.5%</td>
	<td data-value="40" class="abs low">(9&nbsp;/&nbsp;40)</td>
	</tr>

</tbody>
</table>
</div></div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Tue Apr 18 2017 23:11:07 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-derby/node_modules/derby/lib/App.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-derby">npmtest-derby (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-derby/node_modules/derby/lib/App.js</span></h1>
    <h2>
        
        Statements: <span class="metric">19.05% <small>(28 / 147)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 40)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 21)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">19.86% <small>(28 / 141)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-derby/node_modules/derby/lib/</a> &#187; App.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/*
 * App.js
 *
 * Provides the glue between views, controllers, and routes for an
 * application's functionality. Apps are responsible for creating pages.
 *
 */
&nbsp;
var EventEmitter = require('events').EventEmitter;
var tracks = require('tracks');
var util = require('racer/lib/util');
var derbyTemplates = require('derby-templates');
var documentListeners = require('./documentListeners');
var Page = require('./Page');
var serializedViews = require('./_views');
&nbsp;
module.exports = App;
&nbsp;
<span class="fstat-no" title="function not covered" >function App(derby, name, filename, options) {</span>
<span class="cstat-no" title="statement not covered" >  EventEmitter.call(this);</span>
<span class="cstat-no" title="statement not covered" >  this.derby = derby;</span>
<span class="cstat-no" title="statement not covered" >  this.name = name;</span>
<span class="cstat-no" title="statement not covered" >  this.filename = filename;</span>
<span class="cstat-no" title="statement not covered" >  this.scriptHash = '{{DERBY_SCRIPT_HASH}}';</span>
<span class="cstat-no" title="statement not covered" >  this.bundledAt = '{{DERBY_BUNDLED_AT}}';</span>
<span class="cstat-no" title="statement not covered" >  this.Page = createAppPage();</span>
<span class="cstat-no" title="statement not covered" >  this.proto = this.Page.prototype;</span>
<span class="cstat-no" title="statement not covered" >  this.views = new derbyTemplates.templates.Views();</span>
<span class="cstat-no" title="statement not covered" >  this.tracksRoutes = tracks.setup(this);</span>
<span class="cstat-no" title="statement not covered" >  this.model = null;</span>
<span class="cstat-no" title="statement not covered" >  this.page = null;</span>
<span class="cstat-no" title="statement not covered" >  this._init(options);</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function createAppPage() {</span>
  // Inherit from Page so that we can add controller functions as prototype
  // methods on this app's pages
<span class="fstat-no" title="function not covered" >  function AppPage() {</span>
<span class="cstat-no" title="statement not covered" >    Page.apply(this, arguments);</span>
  }
<span class="cstat-no" title="statement not covered" >  AppPage.prototype = Object.create(Page.prototype);</span>
<span class="cstat-no" title="statement not covered" >  return AppPage;</span>
}
&nbsp;
util.mergeInto(App.prototype, EventEmitter.prototype);
&nbsp;
// Overriden on server
App.prototype._init = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  this._waitForAttach = true;</span>
<span class="cstat-no" title="statement not covered" >  this._cancelAttach = false;</span>
<span class="cstat-no" title="statement not covered" >  this.model = new this.derby.Model();</span>
<span class="cstat-no" title="statement not covered" >  serializedViews(derbyTemplates, this.views);</span>
  // Must init async so that app.on('model') listeners can be added.
  // Must also wait for content ready so that bundle is fully downloaded.
<span class="cstat-no" title="statement not covered" >  this._contentReady();</span>
};
App.prototype._finishInit = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  var script = this._getScript();</span>
<span class="cstat-no" title="statement not covered" >  var data = JSON.parse(script.nextSibling.innerHTML);</span>
<span class="cstat-no" title="statement not covered" >  this.model.createConnection(data);</span>
<span class="cstat-no" title="statement not covered" >  this.emit('model', this.model);</span>
<span class="cstat-no" title="statement not covered" >  util.isProduction = data.nodeEnv === 'production';</span>
<span class="cstat-no" title="statement not covered" >  if (!util.isProduction) <span class="cstat-no" title="statement not covered" >this._autoRefresh();</span></span>
<span class="cstat-no" title="statement not covered" >  this.model.unbundle(data);</span>
<span class="cstat-no" title="statement not covered" >  var page = this.createPage();</span>
<span class="cstat-no" title="statement not covered" >  page.params = this.model.get('$render.params');</span>
<span class="cstat-no" title="statement not covered" >  this.emit('ready', page);</span>
<span class="cstat-no" title="statement not covered" >  this._waitForAttach = false;</span>
  // Instead of attaching, do a route and render if a link was clicked before
  // the page finished attaching
<span class="cstat-no" title="statement not covered" >  if (this._cancelAttach) {</span>
<span class="cstat-no" title="statement not covered" >    this.history.refresh();</span>
<span class="cstat-no" title="statement not covered" >    return;</span>
  }
  // Since an attachment failure is *fatal* and could happen as a result of a
  // browser extension like AdBlock, an invalid template, or a small bug in
  // Derby or Saddle, re-render from scratch on production failures
<span class="cstat-no" title="statement not covered" >  if (util.isProduction) {</span>
<span class="cstat-no" title="statement not covered" >    try {</span>
<span class="cstat-no" title="statement not covered" >      page.attach();</span>
    } catch (err) {
<span class="cstat-no" title="statement not covered" >      this.history.refresh();</span>
<span class="cstat-no" title="statement not covered" >      console.warn('attachment error', err.stack);</span>
    }
  } else {
<span class="cstat-no" title="statement not covered" >    page.attach();</span>
  }
<span class="cstat-no" title="statement not covered" >  this.emit('load', page);</span>
};
// Modified from: https://github.com/addyosmani/jquery.parts/blob/master/jquery.documentReady.js
App.prototype._contentReady = <span class="fstat-no" title="function not covered" >function() {</span>
  // Is the DOM ready to be used? Set to true once it occurs.
<span class="cstat-no" title="statement not covered" >  var isReady = false;</span>
<span class="cstat-no" title="statement not covered" >  var app = this;</span>
&nbsp;
  // The ready event handler
<span class="fstat-no" title="function not covered" >  function onDOMContentLoaded() {</span>
<span class="cstat-no" title="statement not covered" >    if (document.addEventListener) {</span>
<span class="cstat-no" title="statement not covered" >      document.removeEventListener('DOMContentLoaded', onDOMContentLoaded, false);</span>
    } else {
      // we're here because readyState !== 'loading' in oldIE
      // which is good enough for us to call the dom ready!
<span class="cstat-no" title="statement not covered" >      document.detachEvent('onreadystatechange', onDOMContentLoaded);</span>
    }
<span class="cstat-no" title="statement not covered" >    onDOMReady();</span>
  }
&nbsp;
  // Handle when the DOM is ready
<span class="fstat-no" title="function not covered" >  function onDOMReady() {</span>
    // Make sure that the DOM is not already loaded
<span class="cstat-no" title="statement not covered" >    if (isReady) <span class="cstat-no" title="statement not covered" >return;</span></span>
    // Make sure body exists, at least, in case IE gets a little overzealous (ticket #5443).
<span class="cstat-no" title="statement not covered" >    if (!document.body) <span class="cstat-no" title="statement not covered" >return setTimeout(onDOMReady, 0);</span></span>
    // Remember that the DOM is ready
<span class="cstat-no" title="statement not covered" >    isReady = true;</span>
    // Make sure this is always async and then finishin init
<span class="cstat-no" title="statement not covered" >    setTimeout(<span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >      app._finishInit();</span>
    }, 0);
  }
&nbsp;
  // The DOM ready check for Internet Explorer
<span class="fstat-no" title="function not covered" >  function doScrollCheck() {</span>
<span class="cstat-no" title="statement not covered" >    if (isReady) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >    try {</span>
      // If IE is used, use the trick by Diego Perini
      // http://javascript.nwbox.com/IEContentLoaded/
<span class="cstat-no" title="statement not covered" >      document.documentElement.doScroll('left');</span>
    } catch (err) {
<span class="cstat-no" title="statement not covered" >      setTimeout(doScrollCheck, 0);</span>
<span class="cstat-no" title="statement not covered" >      return;</span>
    }
    // and execute any waiting functions
<span class="cstat-no" title="statement not covered" >    onDOMReady();</span>
  }
&nbsp;
  // Catch cases where called after the browser event has already occurred.
<span class="cstat-no" title="statement not covered" >  if (document.readyState !== 'loading') <span class="cstat-no" title="statement not covered" >return onDOMReady();</span></span>
&nbsp;
  // Mozilla, Opera and webkit nightlies currently support this event
<span class="cstat-no" title="statement not covered" >  if (document.addEventListener) {</span>
    // Use the handy event callback
<span class="cstat-no" title="statement not covered" >    document.addEventListener('DOMContentLoaded', onDOMContentLoaded, false);</span>
    // A fallback to window.onload, that will always work
<span class="cstat-no" title="statement not covered" >    window.addEventListener('load', onDOMContentLoaded, false);</span>
    // If IE event model is used
  } else <span class="cstat-no" title="statement not covered" >if (document.attachEvent) {</span>
    // ensure firing before onload,
    // maybe late but safe also for iframes
<span class="cstat-no" title="statement not covered" >    document.attachEvent('onreadystatechange', onDOMContentLoaded);</span>
    // A fallback to window.onload, that will always work
<span class="cstat-no" title="statement not covered" >    window.attachEvent('onload', onDOMContentLoaded);</span>
    // If IE and not a frame
    // continually check to see if the document is ready
<span class="cstat-no" title="statement not covered" >    var toplevel;</span>
<span class="cstat-no" title="statement not covered" >    try {</span>
<span class="cstat-no" title="statement not covered" >      toplevel = window.frameElement == null;</span>
    } catch (err) {}
<span class="cstat-no" title="statement not covered" >    if (document.documentElement.doScroll &amp;&amp; toplevel) {</span>
<span class="cstat-no" title="statement not covered" >      doScrollCheck();</span>
    }
  }
};
&nbsp;
App.prototype._getScript = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  return document.querySelector('script[data-derby-app]');</span>
};
&nbsp;
App.prototype.use = util.use;
App.prototype.serverUse = util.serverUse;
&nbsp;
App.prototype.loadViews = <span class="fstat-no" title="function not covered" >function() {</span>};
&nbsp;
App.prototype.loadStyles = <span class="fstat-no" title="function not covered" >function() {</span>};
&nbsp;
App.prototype.createPage = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  if (this.page) {</span>
<span class="cstat-no" title="statement not covered" >    this.emit('destroyPage', this.page);</span>
<span class="cstat-no" title="statement not covered" >    this.page.destroy();</span>
  }
<span class="cstat-no" title="statement not covered" >  var page = new this.Page(this, this.model);</span>
<span class="cstat-no" title="statement not covered" >  this.page = page;</span>
<span class="cstat-no" title="statement not covered" >  return page;</span>
};
&nbsp;
App.prototype.onRoute = <span class="fstat-no" title="function not covered" >function(callback, page, next, done) {</span>
<span class="cstat-no" title="statement not covered" >  if (this._waitForAttach) {</span>
    // Cancel any routing before the initial page attachment. Instead, do a
    // render once derby is ready
<span class="cstat-no" title="statement not covered" >    this._cancelAttach = true;</span>
<span class="cstat-no" title="statement not covered" >    return;</span>
  }
<span class="cstat-no" title="statement not covered" >  this.emit('route', page);</span>
  // HACK: To update render in transitional routes
<span class="cstat-no" title="statement not covered" >  page.model.set('$render.params', page.params);</span>
<span class="cstat-no" title="statement not covered" >  page.model.set('$render.url', page.params.url);</span>
<span class="cstat-no" title="statement not covered" >  page.model.set('$render.query', page.params.query);</span>
  // If transitional
<span class="cstat-no" title="statement not covered" >  if (done) {</span>
<span class="cstat-no" title="statement not covered" >    var app = this;</span>
<span class="cstat-no" title="statement not covered" >    var _done = <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >      app.emit('routeDone', page, 'transition');</span>
<span class="cstat-no" title="statement not covered" >      done();</span>
    };
<span class="cstat-no" title="statement not covered" >    callback.call(page, page, page.model, page.params, next, _done);</span>
<span class="cstat-no" title="statement not covered" >    return;</span>
  }
<span class="cstat-no" title="statement not covered" >  callback.call(page, page, page.model, page.params, next);</span>
};
&nbsp;
App.prototype._autoRefresh = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  var app = this;</span>
<span class="cstat-no" title="statement not covered" >  var connection = this.model.connection;</span>
<span class="cstat-no" title="statement not covered" >  connection.on('connected', <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >    connection.send({</span>
      derby: 'app',
      name: app.name,
      hash: app.scriptHash
    });
  });
<span class="cstat-no" title="statement not covered" >  connection.on('receive', <span class="fstat-no" title="function not covered" >function(request) {</span></span>
<span class="cstat-no" title="statement not covered" >    if (request.data.derby) {</span>
<span class="cstat-no" title="statement not covered" >      var message = request.data;</span>
<span class="cstat-no" title="statement not covered" >      request.data = null;</span>
<span class="cstat-no" title="statement not covered" >      app._handleMessage(message.derby, message);</span>
    }
  });
};
&nbsp;
App.prototype._handleMessage = <span class="fstat-no" title="function not covered" >function(action, message) {</span>
<span class="cstat-no" title="statement not covered" >  if (action === 'refreshViews') {</span>
<span class="cstat-no" title="statement not covered" >    var fn = new Function('return ' + message.views)(); </span>// jshint ignore:line
<span class="cstat-no" title="statement not covered" >    fn(derbyTemplates, this.views);</span>
<span class="cstat-no" title="statement not covered" >    var ns = this.model.get('$render.ns');</span>
<span class="cstat-no" title="statement not covered" >    this.page.render(ns);</span>
&nbsp;
  } else <span class="cstat-no" title="statement not covered" >if (action === 'refreshStyles') {</span>
<span class="cstat-no" title="statement not covered" >    var styleElement = document.querySelector('style[data-filename="' +</span>
      message.filename + '"]');
<span class="cstat-no" title="statement not covered" >    if (styleElement) <span class="cstat-no" title="statement not covered" >styleElement.innerHTML = message.css;</span></span>
&nbsp;
  } else <span class="cstat-no" title="statement not covered" >if (action === 'reload') {</span>
<span class="cstat-no" title="statement not covered" >    this.model.whenNothingPending(<span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >      window.location = window.location;</span>
    });
  }
};
&nbsp;
util.serverRequire(module, './App.server');
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Tue Apr 18 2017 23:11:07 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-derby/node_modules/derby/lib/App.server.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-derby">npmtest-derby (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-derby/node_modules/derby/lib/App.server.js</span></h1>
    <h2>
        
        Statements: <span class="metric">14.48% <small>(32 / 221)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 77)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 34)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">15.17% <small>(32 / 211)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-derby/node_modules/derby/lib/</a> &#187; App.server.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/*
 * App.server.js
 *
 * Application level functionality that is
 * only applicable to the server.
 *
 */
&nbsp;
var crypto = require('crypto');
var fs = require('fs');
var path = require('path');
var chokidar = require('chokidar');
var through = require('through');
var derbyTemplates = require('derby-templates');
var racer = require('racer');
var util = racer.util;
var App = require('./App');
var files = require('./files');
&nbsp;
var STYLE_EXTENSIONS = ['.css'];
var VIEW_EXTENSIONS = ['.html'];
var COMPILERS = {
  '.css': files.cssCompiler
, '.html': files.htmlCompiler
};
&nbsp;
App.prototype._init = <span class="fstat-no" title="function not covered" >function(options) {</span>
<span class="cstat-no" title="statement not covered" >  this.scriptFilename = null;</span>
<span class="cstat-no" title="statement not covered" >  this.scriptMapFilename = null;</span>
<span class="cstat-no" title="statement not covered" >  this.scriptBaseUrl = (options &amp;&amp; options.scriptBaseUrl) || '';</span>
<span class="cstat-no" title="statement not covered" >  this.scriptMapBaseUrl = (options &amp;&amp; options.scriptMapBaseUrl) || '';</span>
<span class="cstat-no" title="statement not covered" >  this.scriptCrossOrigin = (options &amp;&amp; options.scriptCrossOrigin) || false;</span>
<span class="cstat-no" title="statement not covered" >  this.scriptUrl = null;</span>
<span class="cstat-no" title="statement not covered" >  this.scriptMapUrl = null;</span>
<span class="cstat-no" title="statement not covered" >  this.agents = null;</span>
<span class="cstat-no" title="statement not covered" >  this.styleExtensions = STYLE_EXTENSIONS.slice();</span>
<span class="cstat-no" title="statement not covered" >  this.viewExtensions = VIEW_EXTENSIONS.slice();</span>
<span class="cstat-no" title="statement not covered" >  this.compilers = util.copyObject(COMPILERS);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  this.serializedDir = path.dirname(this.filename || '') + '/derby-serialized';</span>
<span class="cstat-no" title="statement not covered" >  this.serializedBase = this.serializedDir + '/' + this.name;</span>
<span class="cstat-no" title="statement not covered" >  if (fs.existsSync(this.serializedBase + '.json')) {</span>
<span class="cstat-no" title="statement not covered" >    this.deserialize();</span>
<span class="cstat-no" title="statement not covered" >    this.loadViews = <span class="fstat-no" title="function not covered" >function() {</span>};</span>
<span class="cstat-no" title="statement not covered" >    this.loadStyles = <span class="fstat-no" title="function not covered" >function() {</span>};</span>
<span class="cstat-no" title="statement not covered" >    return;</span>
  }
<span class="cstat-no" title="statement not covered" >  this.views.register('Page',</span>
    '&lt;!DOCTYPE html&gt;' +
    '&lt;meta charset="utf-8"&gt;' +
    '&lt;view is="{{$render.prefix}}TitleElement"&gt;&lt;/view&gt;' +
    '&lt;view is="{{$render.prefix}}Styles"&gt;&lt;/view&gt;' +
    '&lt;view is="{{$render.prefix}}Head"&gt;&lt;/view&gt;' +
    '&lt;view is="{{$render.prefix}}BodyElement"&gt;&lt;/view&gt;',
    {serverOnly: true}
  );
<span class="cstat-no" title="statement not covered" >  this.views.register('TitleElement',</span>
    '&lt;title&gt;&lt;view is="{{$render.prefix}}Title"&gt;&lt;/view&gt;&lt;/title&gt;'
  );
<span class="cstat-no" title="statement not covered" >  this.views.register('BodyElement',</span>
    '&lt;body class="{{$bodyClass($render.ns)}}"&gt;' +
      '&lt;view is="{{$render.prefix}}Body"&gt;&lt;/view&gt;'
  );
<span class="cstat-no" title="statement not covered" >  this.views.register('Title', 'Derby App');</span>
<span class="cstat-no" title="statement not covered" >  this.views.register('Styles', '', {serverOnly: true});</span>
<span class="cstat-no" title="statement not covered" >  this.views.register('Head', '', {serverOnly: true});</span>
<span class="cstat-no" title="statement not covered" >  this.views.register('Body', '');</span>
<span class="cstat-no" title="statement not covered" >  this.views.register('Tail', '');</span>
};
&nbsp;
App.prototype.createPage = <span class="fstat-no" title="function not covered" >function(req, res, next) {</span>
<span class="cstat-no" title="statement not covered" >  var model = req.model || new racer.Model();</span>
<span class="cstat-no" title="statement not covered" >  this.emit('model', model);</span>
<span class="cstat-no" title="statement not covered" >  var page = new this.Page(this, model, req, res);</span>
<span class="cstat-no" title="statement not covered" >  if (next) {</span>
<span class="cstat-no" title="statement not covered" >    model.on('error', <span class="fstat-no" title="function not covered" >function(err){</span></span>
<span class="cstat-no" title="statement not covered" >      model.hasErrored = true;</span>
<span class="cstat-no" title="statement not covered" >      next(err);</span>
    });
<span class="cstat-no" title="statement not covered" >    page.on('error', next);</span>
  }
<span class="cstat-no" title="statement not covered" >  return page;</span>
};
&nbsp;
App.prototype.bundle = <span class="fstat-no" title="function not covered" >function(backend, options, cb) {</span>
<span class="cstat-no" title="statement not covered" >  var app = this;</span>
<span class="cstat-no" title="statement not covered" >  if (typeof options === 'function') {</span>
<span class="cstat-no" title="statement not covered" >    cb = options;</span>
<span class="cstat-no" title="statement not covered" >    options = null;</span>
  }
<span class="cstat-no" title="statement not covered" >  options || (options = {});</span>
<span class="cstat-no" title="statement not covered" >  if (options.minify == null) <span class="cstat-no" title="statement not covered" >options.minify = util.isProduction;</span></span>
  // Turn all of the app's currently registered views into a javascript
  // function that can recreate them in the client
<span class="cstat-no" title="statement not covered" >  var viewsSource = this._viewsSource(options);</span>
<span class="cstat-no" title="statement not covered" >  var bundleFiles = [];</span>
<span class="cstat-no" title="statement not covered" >  backend.once('bundle', <span class="fstat-no" title="function not covered" >function(bundle) {</span></span>
<span class="cstat-no" title="statement not covered" >    bundle.require(path.dirname(__dirname), {expose: 'derby'});</span>
    // Hack to inject the views script into the Browserify bundle by replacing
    // the empty _views.js file with the generated source
<span class="cstat-no" title="statement not covered" >    var viewsFilename = require.resolve('./_views');</span>
<span class="cstat-no" title="statement not covered" >    bundle.transform(<span class="fstat-no" title="function not covered" >function(filename) {</span></span>
<span class="cstat-no" title="statement not covered" >      if (filename !== viewsFilename) <span class="cstat-no" title="statement not covered" >return through();</span></span>
<span class="cstat-no" title="statement not covered" >      return through(</span>
<span class="fstat-no" title="function not covered" >        function write() {</span>}
      , <span class="fstat-no" title="function not covered" >function end() {</span>
<span class="cstat-no" title="statement not covered" >          this.queue(viewsSource);</span>
<span class="cstat-no" title="statement not covered" >          this.queue(null);</span>
        }
      );
    }, {global: true});
<span class="cstat-no" title="statement not covered" >    bundle.on('file', <span class="fstat-no" title="function not covered" >function(filename) {</span></span>
<span class="cstat-no" title="statement not covered" >      bundleFiles.push(filename);</span>
    });
<span class="cstat-no" title="statement not covered" >    app.emit('bundle', bundle);</span>
  });
<span class="cstat-no" title="statement not covered" >  backend.bundle(app.filename, options, <span class="fstat-no" title="function not covered" >function(err, source, map) {</span></span>
<span class="cstat-no" title="statement not covered" >    if (err) <span class="cstat-no" title="statement not covered" >return cb(err);</span></span>
<span class="cstat-no" title="statement not covered" >    app.scriptHash = crypto.createHash('md5').update(source).digest('hex');</span>
<span class="cstat-no" title="statement not covered" >    source = source.replace('{{DERBY_SCRIPT_HASH}}', app.scriptHash);</span>
<span class="cstat-no" title="statement not covered" >    source = source.replace(/['"]{{DERBY_BUNDLED_AT}}['"]/, Date.now());</span>
<span class="cstat-no" title="statement not covered" >    if (!util.isProduction) {</span>
<span class="cstat-no" title="statement not covered" >      app._autoRefresh(backend);</span>
<span class="cstat-no" title="statement not covered" >      app._watchBundle(bundleFiles);</span>
    }
<span class="cstat-no" title="statement not covered" >    cb(null, source, map);</span>
  });
};
&nbsp;
App.prototype.writeScripts = <span class="fstat-no" title="function not covered" >function(backend, dir, options, cb) {</span>
<span class="cstat-no" title="statement not covered" >  var app = this;</span>
<span class="cstat-no" title="statement not covered" >  this.bundle(backend, options, <span class="fstat-no" title="function not covered" >function(err, source, map) {</span></span>
<span class="cstat-no" title="statement not covered" >    if (err) <span class="cstat-no" title="statement not covered" >return cb(err);</span></span>
<span class="cstat-no" title="statement not covered" >    dir = path.join(dir, 'derby');</span>
<span class="cstat-no" title="statement not covered" >    if (!fs.existsSync(dir)) <span class="cstat-no" title="statement not covered" >fs.mkdirSync(dir);</span></span>
<span class="cstat-no" title="statement not covered" >    var filename = app.name + '-' + app.scriptHash;</span>
<span class="cstat-no" title="statement not covered" >    var base = path.join(dir, filename);</span>
<span class="cstat-no" title="statement not covered" >    app.scriptUrl = app.scriptBaseUrl + '/derby/' + filename + '.js';</span>
&nbsp;
    // Write current map and bundle files
<span class="cstat-no" title="statement not covered" >    if (!(options &amp;&amp; options.disableScriptMap)) {</span>
<span class="cstat-no" title="statement not covered" >      app.scriptMapUrl = app.scriptMapBaseUrl +  '/derby/' + filename + '.map.json';</span>
<span class="cstat-no" title="statement not covered" >      source += '\n//# sourceMappingURL=' + app.scriptMapUrl;</span>
<span class="cstat-no" title="statement not covered" >      app.scriptMapFilename = base + '.map.json';</span>
<span class="cstat-no" title="statement not covered" >      fs.writeFileSync(app.scriptMapFilename, map, 'utf8');</span>
    }
<span class="cstat-no" title="statement not covered" >    app.scriptFilename = base + '.js';</span>
<span class="cstat-no" title="statement not covered" >    fs.writeFileSync(app.scriptFilename, source, 'utf8');</span>
&nbsp;
    // Delete app bundles with same name in development so files don't
    // accumulate. Don't do this automatically in production, since there could
    // be race conditions with multiple processes intentionally running
    // different versions of the app in parallel out of the same directory,
    // such as during a rolling restart.
<span class="cstat-no" title="statement not covered" >    if (!util.isProduction) {</span>
<span class="cstat-no" title="statement not covered" >      var appPrefix = app.name + '-';</span>
<span class="cstat-no" title="statement not covered" >      var currentBundlePrefix = appPrefix + app.scriptHash;</span>
<span class="cstat-no" title="statement not covered" >      var filenames = fs.readdirSync(dir);</span>
<span class="cstat-no" title="statement not covered" >      for (var i = 0; i &lt; filenames.length; i++) {</span>
<span class="cstat-no" title="statement not covered" >        var filename = filenames[i];</span>
<span class="cstat-no" title="statement not covered" >        if (filename.indexOf(appPrefix) !== 0) {</span>
          // Not a bundle for this app, skip.
<span class="cstat-no" title="statement not covered" >          continue;</span>
        }
<span class="cstat-no" title="statement not covered" >        if (filename.indexOf(currentBundlePrefix) === 0) {</span>
          // Current (newly written) bundle for this app, skip.
<span class="cstat-no" title="statement not covered" >          continue;</span>
        }
        // Older bundle for this app, clean it up.
<span class="cstat-no" title="statement not covered" >        var oldFilename = path.join(dir, filename);</span>
<span class="cstat-no" title="statement not covered" >        fs.unlinkSync(oldFilename);</span>
      }
    }
<span class="cstat-no" title="statement not covered" >    cb &amp;&amp; cb();</span>
  });
};
&nbsp;
App.prototype._viewsSource = <span class="fstat-no" title="function not covered" >function(options) {</span>
<span class="cstat-no" title="statement not covered" >  return '/*DERBY_SERIALIZED_VIEWS*/' +</span>
    'module.exports = ' + this.views.serialize(options) + ';' +
    '/*DERBY_SERIALIZED_VIEWS_END*/';
};
&nbsp;
App.prototype.serialize = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  if (!fs.existsSync(this.serializedDir)) {</span>
<span class="cstat-no" title="statement not covered" >    fs.mkdirSync(this.serializedDir);</span>
  }
  // Don't minify the views (which doesn't include template source), since this
  // is for use on the server
<span class="cstat-no" title="statement not covered" >  var viewsSource = this._viewsSource({server: true, minify: true});</span>
<span class="cstat-no" title="statement not covered" >  fs.writeFileSync(this.serializedBase + '.views.js', viewsSource, 'utf8');</span>
<span class="cstat-no" title="statement not covered" >  var scriptUrl = (this.scriptUrl.indexOf(this.scriptBaseUrl) === 0) ?</span>
    this.scriptUrl.slice(this.scriptBaseUrl.length) :
    this.scriptUrl;
<span class="cstat-no" title="statement not covered" >  var scriptMapUrl = (this.scriptMapUrl.indexOf(this.scriptMapBaseUrl) === 0) ?</span>
    this.scriptMapUrl.slice(this.scriptMapBaseUrl.length) :
    this.scriptMapUrl;
<span class="cstat-no" title="statement not covered" >  var serialized = JSON.stringify({</span>
    scriptBaseUrl: this.scriptBaseUrl
  , scriptMapBaseUrl: this.scriptMapBaseUrl
  , scriptUrl: scriptUrl
  , scriptMapUrl: scriptMapUrl
  });
<span class="cstat-no" title="statement not covered" >  fs.writeFileSync(this.serializedBase + '.json', serialized, 'utf8');</span>
};
&nbsp;
App.prototype.deserialize = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  var serializedViews = require(this.serializedBase + '.views.js');</span>
<span class="cstat-no" title="statement not covered" >  var serialized = require(this.serializedBase + '.json');</span>
<span class="cstat-no" title="statement not covered" >  serializedViews(derbyTemplates, this.views);</span>
<span class="cstat-no" title="statement not covered" >  this.scriptUrl = (this.scriptBaseUrl || serialized.scriptBaseUrl) + serialized.scriptUrl;</span>
<span class="cstat-no" title="statement not covered" >  this.scriptMapUrl = (this.scriptMapBaseUrl || serialized.scriptMapBaseUrl) + serialized.scriptMapUrl;</span>
};
&nbsp;
App.prototype.loadViews = <span class="fstat-no" title="function not covered" >function(filename, namespace) {</span>
<span class="cstat-no" title="statement not covered" >  var data = files.loadViewsSync(this, filename, namespace);</span>
<span class="cstat-no" title="statement not covered" >  for (var i = 0, len = data.views.length; i &lt; len; i++) {</span>
<span class="cstat-no" title="statement not covered" >    var item = data.views[i];</span>
<span class="cstat-no" title="statement not covered" >    this.views.register(item.name, item.source, item.options);</span>
  }
<span class="cstat-no" title="statement not covered" >  if (!util.isProduction) <span class="cstat-no" title="statement not covered" >this._watchViews(data.files, filename, namespace);</span></span>
  // Make chainable
<span class="cstat-no" title="statement not covered" >  return this;</span>
};
&nbsp;
App.prototype.loadStyles = <span class="fstat-no" title="function not covered" >function(filename, options) {</span>
<span class="cstat-no" title="statement not covered" >  this._loadStyles(filename, options);</span>
<span class="cstat-no" title="statement not covered" >  var stylesView = this.views.find('Styles');</span>
<span class="cstat-no" title="statement not covered" >  stylesView.source += '&lt;view is="' + filename + '"&gt;&lt;/view&gt;';</span>
  // Make chainable
<span class="cstat-no" title="statement not covered" >  return this;</span>
};
&nbsp;
App.prototype._loadStyles = <span class="fstat-no" title="function not covered" >function(filename, options) {</span>
<span class="cstat-no" title="statement not covered" >  var styles = files.loadStylesSync(this, filename, options);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  var filepath = '';</span>
<span class="cstat-no" title="statement not covered" >  if (!util.isProduction) {</span>
    /**
     * Mark the path to file as an attribute
     * Used in development to add event watchers and autorefreshing of styles
     * SEE: local file, method this._watchStyles
     * SEE: file ./App.js, method App._autoRefresh()
     */
<span class="cstat-no" title="statement not covered" >    filepath = ' data-filename="' + filename + '"';</span>
  }
<span class="cstat-no" title="statement not covered" >  var source = '&lt;style' + filepath + '&gt;' + styles.css + '&lt;/style&gt;';</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  this.views.register(filename, source, {</span>
    serverOnly: true
  });
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (!util.isProduction) {</span>
<span class="cstat-no" title="statement not covered" >    this._watchStyles(styles.files, filename, options);</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  return styles;</span>
};
&nbsp;
App.prototype._watchViews = <span class="fstat-no" title="function not covered" >function(filenames, filename, namespace) {</span>
<span class="cstat-no" title="statement not covered" >  var app = this;</span>
<span class="cstat-no" title="statement not covered" >  var watcher = chokidar.watch(filenames);</span>
<span class="cstat-no" title="statement not covered" >  watcher.on('change', <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >    watcher.close();</span>
<span class="cstat-no" title="statement not covered" >    app.loadViews(filename, namespace);</span>
<span class="cstat-no" title="statement not covered" >    app._updateScriptViews();</span>
<span class="cstat-no" title="statement not covered" >    app._refreshClients();</span>
  });
};
&nbsp;
App.prototype._watchStyles = <span class="fstat-no" title="function not covered" >function(filenames, filename, options) {</span>
<span class="cstat-no" title="statement not covered" >  var app = this;</span>
<span class="cstat-no" title="statement not covered" >  var watcher = chokidar.watch(filenames);</span>
<span class="cstat-no" title="statement not covered" >  watcher.on('change', <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >    watcher.close();</span>
<span class="cstat-no" title="statement not covered" >    var styles = app._loadStyles(filename, options);</span>
<span class="cstat-no" title="statement not covered" >    app._updateScriptViews();</span>
<span class="cstat-no" title="statement not covered" >    app._refreshStyles(filename, styles);</span>
  });
};
&nbsp;
App.prototype._watchBundle = <span class="fstat-no" title="function not covered" >function(filenames) {</span>
<span class="cstat-no" title="statement not covered" >  if (!process.send) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >  var app = this;</span>
<span class="cstat-no" title="statement not covered" >  var watcher = chokidar.watch(filenames);</span>
<span class="cstat-no" title="statement not covered" >  watcher.on('change', <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >    watcher.close();</span>
<span class="cstat-no" title="statement not covered" >    process.send({type: 'reload'});</span>
  });
};
&nbsp;
App.prototype._updateScriptViews = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  if (!this.scriptFilename) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >  var script = fs.readFileSync(this.scriptFilename, 'utf8');</span>
<span class="cstat-no" title="statement not covered" >  var i = script.indexOf('/*DERBY_SERIALIZED_VIEWS*/');</span>
<span class="cstat-no" title="statement not covered" >  var before = script.slice(0, i);</span>
<span class="cstat-no" title="statement not covered" >  var i = script.indexOf('/*DERBY_SERIALIZED_VIEWS_END*/');</span>
<span class="cstat-no" title="statement not covered" >  var after = script.slice(i + 30);</span>
<span class="cstat-no" title="statement not covered" >  var viewsSource = this._viewsSource();</span>
<span class="cstat-no" title="statement not covered" >  fs.writeFileSync(this.scriptFilename, before + viewsSource + after, 'utf8');</span>
};
&nbsp;
App.prototype._autoRefresh = <span class="fstat-no" title="function not covered" >function(backend) {</span>
<span class="cstat-no" title="statement not covered" >  var agents = this.agents = {};</span>
<span class="cstat-no" title="statement not covered" >  var app = this;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  backend.use('receive', <span class="fstat-no" title="function not covered" >function(request, next) {</span></span>
<span class="cstat-no" title="statement not covered" >    var data = request.data;</span>
<span class="cstat-no" title="statement not covered" >    if (data.derby) {</span>
<span class="cstat-no" title="statement not covered" >      return app._handleMessage(request.agent, data.derby, data);</span>
    }
<span class="cstat-no" title="statement not covered" >    next();</span>
  });
};
&nbsp;
App.prototype._handleMessage = <span class="fstat-no" title="function not covered" >function(agent, action, message) {</span>
<span class="cstat-no" title="statement not covered" >  if (action === 'app') {</span>
<span class="cstat-no" title="statement not covered" >    if (message.name !== this.name) {</span>
<span class="cstat-no" title="statement not covered" >      return;</span>
    }
<span class="cstat-no" title="statement not covered" >    if (message.hash !== this.scriptHash) {</span>
<span class="cstat-no" title="statement not covered" >      return agent.send({derby: 'reload'});</span>
    }
<span class="cstat-no" title="statement not covered" >    this._addAgent(agent);</span>
  }
};
&nbsp;
App.prototype._addAgent = <span class="fstat-no" title="function not covered" >function(agent) {</span>
<span class="cstat-no" title="statement not covered" >  this.agents[agent.clientId] = agent;</span>
<span class="cstat-no" title="statement not covered" >  var app = this;</span>
<span class="cstat-no" title="statement not covered" >  agent.stream.once('end', <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >    delete app.agents[agent.clientId];</span>
  });
};
&nbsp;
App.prototype._refreshClients = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  if (!this.agents) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >  var views = this.views.serialize({minify: true});</span>
<span class="cstat-no" title="statement not covered" >  var message = {</span>
    derby: 'refreshViews',
    views: views
  };
<span class="cstat-no" title="statement not covered" >  for (var id in this.agents) {</span>
<span class="cstat-no" title="statement not covered" >    this.agents[id].send(message);</span>
  }
};
&nbsp;
App.prototype._refreshStyles = <span class="fstat-no" title="function not covered" >function(filename, styles) {</span>
<span class="cstat-no" title="statement not covered" >  if (!this.agents) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >  var data = {filename: filename, css: styles.css};</span>
<span class="cstat-no" title="statement not covered" >  var message = {</span>
    derby: 'refreshStyles',
    filename: filename,
    css: styles.css
  };
<span class="cstat-no" title="statement not covered" >  for (var id in this.agents) {</span>
<span class="cstat-no" title="statement not covered" >    this.agents[id].send(message);</span>
  }
};
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Tue Apr 18 2017 23:11:07 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-derby/node_modules/derby/lib/Controller.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-derby">npmtest-derby (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-derby/node_modules/derby/lib/Controller.js</span></h1>
    <h2>
        
        Statements: <span class="metric">31.25% <small>(10 / 32)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 2)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 5)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">32.26% <small>(10 / 31)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-derby/node_modules/derby/lib/</a> &#187; Controller.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48</td><td class="line-coverage"><span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">var EventEmitter = require('events').EventEmitter;
var util = require('racer/lib/util');
var Dom = require('./Dom');
&nbsp;
module.exports = Controller;
&nbsp;
<span class="fstat-no" title="function not covered" >function Controller(app, page, model) {</span>
<span class="cstat-no" title="statement not covered" >  EventEmitter.call(this);</span>
<span class="cstat-no" title="statement not covered" >  this.dom = new Dom(this);</span>
<span class="cstat-no" title="statement not covered" >  this.app = app;</span>
<span class="cstat-no" title="statement not covered" >  this.page = page;</span>
<span class="cstat-no" title="statement not covered" >  this.model = model;</span>
<span class="cstat-no" title="statement not covered" >  model.data.$controller = this;</span>
}
&nbsp;
util.mergeInto(Controller.prototype, EventEmitter.prototype);
&nbsp;
Controller.prototype.emitCancellable = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  var cancelled = false;</span>
<span class="fstat-no" title="function not covered" >  function cancel() {</span>
<span class="cstat-no" title="statement not covered" >    cancelled = true;</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  var args = Array.prototype.slice.call(arguments);</span>
<span class="cstat-no" title="statement not covered" >  args.push(cancel);</span>
<span class="cstat-no" title="statement not covered" >  this.emit.apply(this, args);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  return cancelled;</span>
};
&nbsp;
Controller.prototype.emitDelayable = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  var args = Array.prototype.slice.call(arguments);</span>
<span class="cstat-no" title="statement not covered" >  var callback = args.pop();</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  var delayed = false;</span>
<span class="fstat-no" title="function not covered" >  function delay() {</span>
<span class="cstat-no" title="statement not covered" >    delayed = true;</span>
<span class="cstat-no" title="statement not covered" >    return callback;</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  args.push(delay);</span>
<span class="cstat-no" title="statement not covered" >  this.emit.apply(this, args);</span>
<span class="cstat-no" title="statement not covered" >  if (!delayed) <span class="cstat-no" title="statement not covered" >callback();</span></span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  return delayed;</span>
};
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Tue Apr 18 2017 23:11:07 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-derby/node_modules/derby/lib/Derby.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header high">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-derby">npmtest-derby (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-derby/node_modules/derby/lib/Derby.js</span></h1>
    <h2>
        
        Statements: <span class="metric">87.5% <small>(14 / 16)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">50% <small>(1 / 2)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">50% <small>(1 / 2)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">87.5% <small>(14 / 16)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-derby/node_modules/derby/lib/</a> &#187; Derby.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/*
 * Derby.js
 * Meant to be the entry point for the framework.
 *
 */
&nbsp;
var EventEmitter = require('events').EventEmitter;
var racer = require('racer');
var App = require('./App');
var Page = require('./Page');
var components = require('./components');
&nbsp;
module.exports = Derby;
&nbsp;
function Derby() {}
Derby.prototype = racer;
&nbsp;
Derby.prototype.App = App;
Derby.prototype.Page = Page;
Derby.prototype.Component = components.Component;
&nbsp;
Derby.prototype.createApp = <span class="fstat-no" title="function not covered" >function(name, filename, options) {</span>
<span class="cstat-no" title="statement not covered" >  return new App(this, name, filename, options);</span>
};
&nbsp;
<span class="missing-if-branch" title="if path not taken" >I</span>if (!racer.util.isServer) {
<span class="cstat-no" title="statement not covered" >  require('./documentListeners').add(document);</span>
}
&nbsp;
racer.util.serverRequire(module, './Derby.server');
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Tue Apr 18 2017 23:11:07 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-derby/node_modules/derby/lib/Derby.server.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-derby">npmtest-derby (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-derby/node_modules/derby/lib/Derby.server.js</span></h1>
    <h2>
        
        Statements: <span class="metric">29.17% <small>(7 / 24)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 8)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 4)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">31.82% <small>(7 / 22)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-derby/node_modules/derby/lib/</a> &#187; Derby.server.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37</td><td class="line-coverage"><span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">var cluster = require('cluster');
var Derby = require('./Derby');
var util = require('racer/lib/util');
&nbsp;
// Extend template types with html parsing on server
require('derby-parsing');
&nbsp;
util.isProduction = process.env.NODE_ENV === 'production';
&nbsp;
Derby.prototype.run = <span class="fstat-no" title="function not covered" >function(createServer) {</span>
  // In production
<span class="cstat-no" title="statement not covered" >  if (this.util.isProduction) <span class="cstat-no" title="statement not covered" >return createServer();</span></span>
<span class="cstat-no" title="statement not covered" >  if (cluster.isMaster) {</span>
<span class="cstat-no" title="statement not covered" >    console.log('Master pid ', process.pid);</span>
<span class="cstat-no" title="statement not covered" >    startWorker();</span>
  } else {
<span class="cstat-no" title="statement not covered" >    createServer();</span>
  }
};
&nbsp;
<span class="fstat-no" title="function not covered" >function startWorker() {</span>
<span class="cstat-no" title="statement not covered" >  var worker = cluster.fork();</span>
<span class="cstat-no" title="statement not covered" >  worker.once('disconnect', <span class="fstat-no" title="function not covered" >function () {</span></span>
<span class="cstat-no" title="statement not covered" >    worker.process.kill();</span>
  });
<span class="cstat-no" title="statement not covered" >  worker.on('message', <span class="fstat-no" title="function not covered" >function(message) {</span></span>
<span class="cstat-no" title="statement not covered" >    if (message.type === 'reload') {</span>
<span class="cstat-no" title="statement not covered" >      if (worker.disconnecting) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >      console.log('Killing %d', worker.process.pid);</span>
<span class="cstat-no" title="statement not covered" >      worker.process.kill();</span>
<span class="cstat-no" title="statement not covered" >      worker.disconnecting = true;</span>
<span class="cstat-no" title="statement not covered" >      startWorker();</span>
    }
  });
}
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Tue Apr 18 2017 23:11:07 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-derby/node_modules/derby/lib/DerbyStandalone.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-derby">npmtest-derby (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-derby/node_modules/derby/lib/DerbyStandalone.js</span></h1>
    <h2>
        
        Statements: <span class="metric">42.86% <small>(9 / 21)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">100% <small>(0 / 0)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 3)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">42.86% <small>(9 / 21)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-derby/node_modules/derby/lib/</a> &#187; DerbyStandalone.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35</td><td class="line-coverage"><span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">var EventEmitter = require('events').EventEmitter;
var Model = require('racer/lib/Model/ModelStandalone');
var util = require('racer/lib/util');
var App = require('./App');
var Page = require('./Page');
var components = require('./components');
&nbsp;
module.exports = DerbyStandalone;
&nbsp;
require('./documentListeners').add(document);
&nbsp;
// Standard Derby inherits from Racer, but we just do set up the event emitter
// and expose the Model and util here instead
<span class="fstat-no" title="function not covered" >function DerbyStandalone() {</span>
<span class="cstat-no" title="statement not covered" >  EventEmitter.call(this);</span>
}
<span class="cstat-no" title="statement not covered" >util.mergeInto(DerbyStandalone.prototype, EventEmitter.prototype);</span>
<span class="cstat-no" title="statement not covered" >DerbyStandalone.prototype.Model = Model;</span>
<span class="cstat-no" title="statement not covered" >DerbyStandalone.prototype.util = util;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >DerbyStandalone.prototype.App = App;</span>
<span class="cstat-no" title="statement not covered" >DerbyStandalone.prototype.Page = Page;</span>
<span class="cstat-no" title="statement not covered" >DerbyStandalone.prototype.Component = components.Component;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >DerbyStandalone.prototype.createApp = <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >  return new App(this);</span>
};
&nbsp;
// Overriden on server
<span class="cstat-no" title="statement not covered" >App.prototype._init = <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >  this.model = new this.derby.Model();</span>
<span class="cstat-no" title="statement not covered" >  this.createPage();</span>
};
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Tue Apr 18 2017 23:11:07 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-derby/node_modules/derby/lib/Dom.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-derby">npmtest-derby (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-derby/node_modules/derby/lib/Dom.js</span></h1>
    <h2>
        
        Statements: <span class="metric">26.92% <small>(21 / 78)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 32)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">6.67% <small>(1 / 15)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">28.77% <small>(21 / 73)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-derby/node_modules/derby/lib/</a> &#187; Dom.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111</td><td class="line-coverage"><span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">module.exports = Dom;
&nbsp;
<span class="fstat-no" title="function not covered" >function Dom(controller) {</span>
<span class="cstat-no" title="statement not covered" >  this.controller = controller;</span>
<span class="cstat-no" title="statement not covered" >  this._listeners = null;</span>
}
&nbsp;
Dom.prototype._initListeners = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  var dom = this;</span>
<span class="cstat-no" title="statement not covered" >  this.controller.on('destroy', <span class="fstat-no" title="function not covered" >function domOnDestroy() {</span></span>
<span class="cstat-no" title="statement not covered" >    var listeners = dom._listeners;</span>
<span class="cstat-no" title="statement not covered" >    if (!listeners) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >    for (var i = listeners.length; i--;) {</span>
<span class="cstat-no" title="statement not covered" >      listeners[i].remove();</span>
    }
<span class="cstat-no" title="statement not covered" >    dom._listeners = null;</span>
  });
<span class="cstat-no" title="statement not covered" >  return this._listeners = [];</span>
};
&nbsp;
Dom.prototype._listenerIndex = <span class="fstat-no" title="function not covered" >function(domListener) {</span>
<span class="cstat-no" title="statement not covered" >  var listeners = this._listeners;</span>
<span class="cstat-no" title="statement not covered" >  if (!listeners) <span class="cstat-no" title="statement not covered" >return -1;</span></span>
<span class="cstat-no" title="statement not covered" >  for (var i = listeners.length; i--;) {</span>
<span class="cstat-no" title="statement not covered" >    if (listeners[i].equals(domListener)) <span class="cstat-no" title="statement not covered" >return i;</span></span>
  }
<span class="cstat-no" title="statement not covered" >  return -1;</span>
};
&nbsp;
Dom.prototype.addListener = <span class="fstat-no" title="function not covered" >function(type, target, listener, useCapture) {</span>
<span class="cstat-no" title="statement not covered" >  if (typeof target === 'function') {</span>
<span class="cstat-no" title="statement not covered" >    useCapture = listener;</span>
<span class="cstat-no" title="statement not covered" >    listener = target;</span>
<span class="cstat-no" title="statement not covered" >    target = document;</span>
  }
<span class="cstat-no" title="statement not covered" >  var domListener =</span>
    (type === 'destroy') ? new DestroyListener(target, listener) :
    new DomListener(type, target, listener, useCapture);
<span class="cstat-no" title="statement not covered" >  if (-1 === this._listenerIndex(domListener)) {</span>
<span class="cstat-no" title="statement not covered" >    var listeners = this._listeners || this._initListeners();</span>
<span class="cstat-no" title="statement not covered" >    listeners.push(domListener);</span>
  }
<span class="cstat-no" title="statement not covered" >  domListener.add();</span>
};
Dom.prototype.on = Dom.prototype.addListener;
&nbsp;
Dom.prototype.once = <span class="fstat-no" title="function not covered" >function(type, target, listener, useCapture) {</span>
<span class="cstat-no" title="statement not covered" >  if (typeof target === 'function') {</span>
<span class="cstat-no" title="statement not covered" >    useCapture = listener;</span>
<span class="cstat-no" title="statement not covered" >    listener = target;</span>
<span class="cstat-no" title="statement not covered" >    target = document;</span>
  }
<span class="cstat-no" title="statement not covered" >  this.addListener(type, target, wrappedListener, useCapture);</span>
<span class="cstat-no" title="statement not covered" >  var dom = this;</span>
<span class="fstat-no" title="function not covered" >  function wrappedListener() {</span>
<span class="cstat-no" title="statement not covered" >    dom.removeListener(type, target, wrappedListener, useCapture);</span>
<span class="cstat-no" title="statement not covered" >    return listener.apply(this, arguments);</span>
  }
};
&nbsp;
Dom.prototype.removeListener = <span class="fstat-no" title="function not covered" >function(type, target, listener, useCapture) {</span>
<span class="cstat-no" title="statement not covered" >  if (typeof target === 'function') {</span>
<span class="cstat-no" title="statement not covered" >    useCapture = listener;</span>
<span class="cstat-no" title="statement not covered" >    listener = target;</span>
<span class="cstat-no" title="statement not covered" >    target = document;</span>
  }
<span class="cstat-no" title="statement not covered" >  var domListener = new DomListener(type, target, listener, useCapture);</span>
<span class="cstat-no" title="statement not covered" >  domListener.remove();</span>
<span class="cstat-no" title="statement not covered" >  var i = this._listenerIndex(domListener);</span>
<span class="cstat-no" title="statement not covered" >  if (i &gt; -1) <span class="cstat-no" title="statement not covered" >this._listeners.splice(i, 1);</span></span>
};
&nbsp;
function DomListener(type, target, listener, useCapture) {
  this.type = type;
  this.target = target;
  this.listener = listener;
  this.useCapture = !!useCapture;
}
DomListener.prototype.equals = <span class="fstat-no" title="function not covered" >function(domListener) {</span>
<span class="cstat-no" title="statement not covered" >  return this.listener === domListener.listener &amp;&amp;</span>
    this.target === domListener.target &amp;&amp;
    this.type === domListener.type &amp;&amp;
    this.useCapture === domListener.useCapture;
};
DomListener.prototype.add = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  this.target.addEventListener(this.type, this.listener, this.useCapture);</span>
};
DomListener.prototype.remove = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  this.target.removeEventListener(this.type, this.listener, this.useCapture);</span>
};
&nbsp;
<span class="fstat-no" title="function not covered" >function DestroyListener(target, listener) {</span>
<span class="cstat-no" title="statement not covered" >  DomListener.call(this, 'destroy', target, listener);</span>
}
DestroyListener.prototype = new DomListener();
DestroyListener.prototype.add = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  var listeners = this.target.$destroyListeners || (this.target.$destroyListeners = []);</span>
<span class="cstat-no" title="statement not covered" >  if (listeners.indexOf(this.listener) === -1) {</span>
<span class="cstat-no" title="statement not covered" >    listeners.push(this.listener);</span>
  }
};
DestroyListener.prototype.remove = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  var listeners = this.target.$destroyListeners;</span>
<span class="cstat-no" title="statement not covered" >  if (!listeners) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >  var index = listeners.indexOf(this.listener);</span>
<span class="cstat-no" title="statement not covered" >  if (index !== -1) {</span>
<span class="cstat-no" title="statement not covered" >    listeners.splice(index, 1);</span>
  }
};
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Tue Apr 18 2017 23:11:07 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-derby/node_modules/derby/lib/Page.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-derby">npmtest-derby (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-derby/node_modules/derby/lib/Page.js</span></h1>
    <h2>
        
        Statements: <span class="metric">19.74% <small>(45 / 228)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 72)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 39)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">20.83% <small>(45 / 216)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-derby/node_modules/derby/lib/</a> &#187; Page.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329</td><td class="line-coverage"><span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">var derbyTemplates = require('derby-templates');
var contexts = derbyTemplates.contexts;
var expressions = derbyTemplates.expressions;
var templates = derbyTemplates.templates;
var util = require('racer/lib/util');
var EventModel = require('./eventmodel');
var textDiff = require('./textDiff');
var Controller = require('./Controller');
var documentListeners = require('./documentListeners');
&nbsp;
module.exports = Page;
&nbsp;
<span class="fstat-no" title="function not covered" >function Page(app, model, req, res) {</span>
<span class="cstat-no" title="statement not covered" >  Controller.call(this, app, this, model);</span>
<span class="cstat-no" title="statement not covered" >  this.req = req;</span>
<span class="cstat-no" title="statement not covered" >  this.res = res;</span>
<span class="cstat-no" title="statement not covered" >  this.params = null;</span>
<span class="cstat-no" title="statement not covered" >  if (this.init) <span class="cstat-no" title="statement not covered" >this.init(model);</span></span>
<span class="cstat-no" title="statement not covered" >  this.context = this._createContext();</span>
<span class="cstat-no" title="statement not covered" >  this._eventModel = null;</span>
<span class="cstat-no" title="statement not covered" >  this._removeModelListeners = null;</span>
<span class="cstat-no" title="statement not covered" >  this._components = {};</span>
<span class="cstat-no" title="statement not covered" >  this._addListeners();</span>
}
&nbsp;
util.mergeInto(Page.prototype, Controller.prototype);
&nbsp;
Page.prototype.$bodyClass = <span class="fstat-no" title="function not covered" >function(ns) {</span>
<span class="cstat-no" title="statement not covered" >  if (!ns) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >  var classNames = [];</span>
<span class="cstat-no" title="statement not covered" >  var segments = ns.split(':');</span>
<span class="cstat-no" title="statement not covered" >  for (var i = 0, len = segments.length; i &lt; len; i++) {</span>
<span class="cstat-no" title="statement not covered" >    var className = segments.slice(0, i + 1).join('-');</span>
<span class="cstat-no" title="statement not covered" >    classNames.push(className);</span>
  }
<span class="cstat-no" title="statement not covered" >  return classNames.join(' ');</span>
};
&nbsp;
Page.prototype.$preventDefault = <span class="fstat-no" title="function not covered" >function(e) {</span>
<span class="cstat-no" title="statement not covered" >  e.preventDefault();</span>
};
&nbsp;
Page.prototype.$stopPropagation = <span class="fstat-no" title="function not covered" >function(e) {</span>
<span class="cstat-no" title="statement not covered" >  e.stopPropagation();</span>
};
&nbsp;
Page.prototype._setRenderParams = <span class="fstat-no" title="function not covered" >function(ns) {</span>
<span class="cstat-no" title="statement not covered" >  this.model.set('$render.ns', ns);</span>
<span class="cstat-no" title="statement not covered" >  this.model.set('$render.params', this.params);</span>
<span class="cstat-no" title="statement not covered" >  this.model.set('$render.url', this.params &amp;&amp; this.params.url);</span>
<span class="cstat-no" title="statement not covered" >  this.model.set('$render.query', this.params &amp;&amp; this.params.query);</span>
};
&nbsp;
Page.prototype._setRenderPrefix = <span class="fstat-no" title="function not covered" >function(ns) {</span>
<span class="cstat-no" title="statement not covered" >  var prefix = (ns) ? ns + ':' : '';</span>
<span class="cstat-no" title="statement not covered" >  this.model.set('$render.prefix', prefix);</span>
};
&nbsp;
Page.prototype.get = <span class="fstat-no" title="function not covered" >function(viewName, ns, unescaped) {</span>
<span class="cstat-no" title="statement not covered" >  this._setRenderPrefix(ns);</span>
<span class="cstat-no" title="statement not covered" >  var view = this.getView(viewName, ns);</span>
<span class="cstat-no" title="statement not covered" >  return view.get(this.context, unescaped);</span>
};
&nbsp;
Page.prototype.getFragment = <span class="fstat-no" title="function not covered" >function(viewName, ns) {</span>
<span class="cstat-no" title="statement not covered" >  this._setRenderPrefix(ns);</span>
<span class="cstat-no" title="statement not covered" >  var view = this.getView(viewName, ns);</span>
<span class="cstat-no" title="statement not covered" >  return view.getFragment(this.context);</span>
};
&nbsp;
Page.prototype.getView = <span class="fstat-no" title="function not covered" >function(viewName, ns) {</span>
<span class="cstat-no" title="statement not covered" >  return this.app.views.find(viewName, ns);</span>
};
&nbsp;
Page.prototype.render = <span class="fstat-no" title="function not covered" >function(ns) {</span>
<span class="cstat-no" title="statement not covered" >  this.app.emit('render', this);</span>
<span class="cstat-no" title="statement not covered" >  this.context.pause();</span>
<span class="cstat-no" title="statement not covered" >  this._setRenderParams(ns);</span>
<span class="cstat-no" title="statement not covered" >  var titleFragment = this.getFragment('TitleElement', ns);</span>
<span class="cstat-no" title="statement not covered" >  var bodyFragment = this.getFragment('BodyElement', ns);</span>
<span class="cstat-no" title="statement not covered" >  var titleElement = document.getElementsByTagName('title')[0];</span>
<span class="cstat-no" title="statement not covered" >  titleElement.parentNode.replaceChild(titleFragment, titleElement);</span>
<span class="cstat-no" title="statement not covered" >  document.body.parentNode.replaceChild(bodyFragment, document.body);</span>
<span class="cstat-no" title="statement not covered" >  this.context.unpause();</span>
<span class="cstat-no" title="statement not covered" >  if (this.create) <span class="cstat-no" title="statement not covered" >this.create(this.model, this.dom);</span></span>
<span class="cstat-no" title="statement not covered" >  this.app.emit('routeDone', this, 'render');</span>
};
&nbsp;
Page.prototype.attach = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  this.context.pause();</span>
<span class="cstat-no" title="statement not covered" >  var ns = this.model.get('$render.ns');</span>
<span class="cstat-no" title="statement not covered" >  var titleView = this.getView('TitleElement', ns);</span>
<span class="cstat-no" title="statement not covered" >  var bodyView = this.getView('BodyElement', ns);</span>
<span class="cstat-no" title="statement not covered" >  var titleElement = document.getElementsByTagName('title')[0];</span>
<span class="cstat-no" title="statement not covered" >  titleView.attachTo(titleElement.parentNode, titleElement, this.context);</span>
<span class="cstat-no" title="statement not covered" >  bodyView.attachTo(document.body.parentNode, document.body, this.context);</span>
<span class="cstat-no" title="statement not covered" >  this.context.unpause();</span>
<span class="cstat-no" title="statement not covered" >  if (this.create) <span class="cstat-no" title="statement not covered" >this.create(this.model, this.dom);</span></span>
};
&nbsp;
Page.prototype._createContext = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  var contextMeta = new contexts.ContextMeta();</span>
<span class="cstat-no" title="statement not covered" >  contextMeta.views = this.app &amp;&amp; this.app.views;</span>
<span class="cstat-no" title="statement not covered" >  var context = new contexts.Context(contextMeta, this);</span>
<span class="cstat-no" title="statement not covered" >  context.expression = new expressions.PathExpression([]);</span>
<span class="cstat-no" title="statement not covered" >  context.alias = '#root';</span>
<span class="cstat-no" title="statement not covered" >  return context;</span>
};
&nbsp;
Page.prototype._addListeners = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  var eventModel = this._eventModel = new EventModel();</span>
<span class="cstat-no" title="statement not covered" >  this._addModelListeners(eventModel);</span>
<span class="cstat-no" title="statement not covered" >  this._addContextListeners(eventModel);</span>
};
&nbsp;
Page.prototype.destroy = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  this.emit('destroy');</span>
<span class="cstat-no" title="statement not covered" >  this._removeModelListeners();</span>
<span class="cstat-no" title="statement not covered" >  for (var id in this._components) {</span>
<span class="cstat-no" title="statement not covered" >    var component = this._components[id];</span>
<span class="cstat-no" title="statement not covered" >    component.destroy();</span>
  }
  // Remove all data, refs, listeners, and reactive functions
  // for the previous page
<span class="cstat-no" title="statement not covered" >  var silentModel = this.model.silent();</span>
<span class="cstat-no" title="statement not covered" >  silentModel.destroy('_page');</span>
<span class="cstat-no" title="statement not covered" >  silentModel.destroy('$components');</span>
  // Unfetch and unsubscribe from all queries and documents
<span class="cstat-no" title="statement not covered" >  silentModel.unloadAll &amp;&amp; silentModel.unloadAll();</span>
};
&nbsp;
Page.prototype._addModelListeners = <span class="fstat-no" title="function not covered" >function(eventModel) {</span>
<span class="cstat-no" title="statement not covered" >  var model = this.model;</span>
<span class="cstat-no" title="statement not covered" >  if (!model) <span class="cstat-no" title="statement not covered" >return;</span></span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  var context = this.context;</span>
<span class="cstat-no" title="statement not covered" >  var changeListener = model.on('change', '**', <span class="fstat-no" title="function not covered" >function onChange(path, value, previous, pass) {</span></span>
<span class="cstat-no" title="statement not covered" >    var segments = util.castSegments(path.split('.'));</span>
    // The pass parameter is passed in for special handling of updates
    // resulting from stringInsert or stringRemove
<span class="cstat-no" title="statement not covered" >    eventModel.set(segments, previous, pass);</span>
  });
<span class="cstat-no" title="statement not covered" >  var loadListener = model.on('load', '**', <span class="fstat-no" title="function not covered" >function onLoad(path) {</span></span>
<span class="cstat-no" title="statement not covered" >    var segments = util.castSegments(path.split('.'));</span>
<span class="cstat-no" title="statement not covered" >    eventModel.set(segments);</span>
  });
<span class="cstat-no" title="statement not covered" >  var unloadListener = model.on('unload', '**', <span class="fstat-no" title="function not covered" >function onUnload(path) {</span></span>
<span class="cstat-no" title="statement not covered" >    var segments = util.castSegments(path.split('.'));</span>
<span class="cstat-no" title="statement not covered" >    eventModel.set(segments);</span>
  });
<span class="cstat-no" title="statement not covered" >  var insertListener = model.on('insert', '**', <span class="fstat-no" title="function not covered" >function onInsert(path, index, values) {</span></span>
<span class="cstat-no" title="statement not covered" >    var segments = util.castSegments(path.split('.'));</span>
<span class="cstat-no" title="statement not covered" >    eventModel.insert(segments, index, values.length);</span>
  });
<span class="cstat-no" title="statement not covered" >  var removeListener = model.on('remove', '**', <span class="fstat-no" title="function not covered" >function onRemove(path, index, values) {</span></span>
<span class="cstat-no" title="statement not covered" >    var segments = util.castSegments(path.split('.'));</span>
<span class="cstat-no" title="statement not covered" >    eventModel.remove(segments, index, values.length);</span>
  });
<span class="cstat-no" title="statement not covered" >  var moveListener = model.on('move', '**', <span class="fstat-no" title="function not covered" >function onMove(path, from, to, howMany) {</span></span>
<span class="cstat-no" title="statement not covered" >    var segments = util.castSegments(path.split('.'));</span>
<span class="cstat-no" title="statement not covered" >    eventModel.move(segments, from, to, howMany);</span>
  });
&nbsp;
<span class="cstat-no" title="statement not covered" >  this._removeModelListeners = <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >    model.removeListener('change', changeListener);</span>
<span class="cstat-no" title="statement not covered" >    model.removeListener('load', loadListener);</span>
<span class="cstat-no" title="statement not covered" >    model.removeListener('unload', unloadListener);</span>
<span class="cstat-no" title="statement not covered" >    model.removeListener('insert', insertListener);</span>
<span class="cstat-no" title="statement not covered" >    model.removeListener('remove', removeListener);</span>
<span class="cstat-no" title="statement not covered" >    model.removeListener('move', moveListener);</span>
  };
};
&nbsp;
Page.prototype._addContextListeners = <span class="fstat-no" title="function not covered" >function(eventModel) {</span>
<span class="cstat-no" title="statement not covered" >  this.context.meta.addBinding = addBinding;</span>
<span class="cstat-no" title="statement not covered" >  this.context.meta.removeBinding = removeBinding;</span>
<span class="cstat-no" title="statement not covered" >  this.context.meta.removeNode = removeNode;</span>
<span class="cstat-no" title="statement not covered" >  this.context.meta.addItemContext = addItemContext;</span>
<span class="cstat-no" title="statement not covered" >  this.context.meta.removeItemContext = removeItemContext;</span>
&nbsp;
<span class="fstat-no" title="function not covered" >  function addItemContext(context) {</span>
<span class="cstat-no" title="statement not covered" >    var segments = context.expression.resolve(context);</span>
<span class="cstat-no" title="statement not covered" >    eventModel.addItemContext(segments, context);</span>
  }
<span class="fstat-no" title="function not covered" >  function removeItemContext(context) {</span>
    // TODO
  }
<span class="fstat-no" title="function not covered" >  function addBinding(binding) {</span>
<span class="cstat-no" title="statement not covered" >    patchTextBinding(binding);</span>
<span class="cstat-no" title="statement not covered" >    var expressions = binding.template.expressions;</span>
<span class="cstat-no" title="statement not covered" >    if (expressions) {</span>
<span class="cstat-no" title="statement not covered" >      for (var i = 0, len = expressions.length; i &lt; len; i++) {</span>
<span class="cstat-no" title="statement not covered" >        addDependencies(eventModel, expressions[i], binding);</span>
      }
    } else {
<span class="cstat-no" title="statement not covered" >      var expression = binding.template.expression;</span>
<span class="cstat-no" title="statement not covered" >      addDependencies(eventModel, expression, binding);</span>
    }
  }
<span class="fstat-no" title="function not covered" >  function removeBinding(binding) {</span>
<span class="cstat-no" title="statement not covered" >    var bindingWrappers = binding.meta;</span>
<span class="cstat-no" title="statement not covered" >    if (!bindingWrappers) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >    for (var i = bindingWrappers.length; i--;) {</span>
<span class="cstat-no" title="statement not covered" >      eventModel.removeBinding(bindingWrappers[i]);</span>
    }
  }
<span class="fstat-no" title="function not covered" >  function removeNode(node) {</span>
<span class="cstat-no" title="statement not covered" >    var component = node.$component;</span>
<span class="cstat-no" title="statement not covered" >    if (component &amp;&amp; !component.singleton) {</span>
<span class="cstat-no" title="statement not covered" >      component.destroy();</span>
    }
<span class="cstat-no" title="statement not covered" >    var destroyListeners = node.$destroyListeners;</span>
<span class="cstat-no" title="statement not covered" >    if (destroyListeners) {</span>
<span class="cstat-no" title="statement not covered" >      for (var i = 0; i &lt; destroyListeners.length; i++) {</span>
<span class="cstat-no" title="statement not covered" >        destroyListeners[i]();</span>
      }
    }
  }
};
&nbsp;
<span class="fstat-no" title="function not covered" >function addDependencies(eventModel, expression, binding) {</span>
<span class="cstat-no" title="statement not covered" >  var bindingWrapper = new BindingWrapper(eventModel, expression, binding);</span>
<span class="cstat-no" title="statement not covered" >  bindingWrapper.updateDependencies();</span>
}
&nbsp;
// The code here uses object-based set pattern where objects are keyed using
// sequentially generated IDs.
var nextId = 1;
<span class="fstat-no" title="function not covered" >function BindingWrapper(eventModel, expression, binding) {</span>
<span class="cstat-no" title="statement not covered" >  this.eventModel = eventModel;</span>
<span class="cstat-no" title="statement not covered" >  this.expression = expression;</span>
<span class="cstat-no" title="statement not covered" >  this.binding = binding;</span>
<span class="cstat-no" title="statement not covered" >  this.id = nextId++;</span>
<span class="cstat-no" title="statement not covered" >  this.eventModels = null;</span>
<span class="cstat-no" title="statement not covered" >  this.dependencies = null;</span>
<span class="cstat-no" title="statement not covered" >  if (binding.meta) {</span>
<span class="cstat-no" title="statement not covered" >    binding.meta.push(this);</span>
  } else {
<span class="cstat-no" title="statement not covered" >    binding.meta = [this];</span>
  }
}
BindingWrapper.prototype.updateDependencies = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  var dependencies = this.expression.dependencies(this.binding.context);</span>
<span class="cstat-no" title="statement not covered" >  if (this.dependencies) {</span>
    // Do nothing if dependencies haven't changed
<span class="cstat-no" title="statement not covered" >    if (equalDependencies(this.dependencies, dependencies)) <span class="cstat-no" title="statement not covered" >return;</span></span>
    // Otherwise, remove current dependencies
<span class="cstat-no" title="statement not covered" >    this.eventModel.removeBinding(this);</span>
  }
  // Add new dependencies
<span class="cstat-no" title="statement not covered" >  if (!dependencies) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >  this.dependencies = dependencies;</span>
<span class="cstat-no" title="statement not covered" >  for (var i = 0, len = dependencies.length; i &lt; len; i++) {</span>
<span class="cstat-no" title="statement not covered" >    var dependency = dependencies[i];</span>
<span class="cstat-no" title="statement not covered" >    if (dependency) <span class="cstat-no" title="statement not covered" >this.eventModel.addBinding(dependency, this);</span></span>
  }
};
BindingWrapper.prototype.update = <span class="fstat-no" title="function not covered" >function(previous, pass) {</span>
<span class="cstat-no" title="statement not covered" >  this.binding.update(previous, pass);</span>
<span class="cstat-no" title="statement not covered" >  this.updateDependencies();</span>
};
BindingWrapper.prototype.insert = <span class="fstat-no" title="function not covered" >function(index, howMany) {</span>
<span class="cstat-no" title="statement not covered" >  this.binding.insert(index, howMany);</span>
};
BindingWrapper.prototype.remove = <span class="fstat-no" title="function not covered" >function(index, howMany) {</span>
<span class="cstat-no" title="statement not covered" >  this.binding.remove(index, howMany);</span>
};
BindingWrapper.prototype.move = <span class="fstat-no" title="function not covered" >function(from, to, howMany) {</span>
<span class="cstat-no" title="statement not covered" >  this.binding.move(from, to, howMany);</span>
};
&nbsp;
<span class="fstat-no" title="function not covered" >function equalDependencies(a, b) {</span>
<span class="cstat-no" title="statement not covered" >  var lenA = a ? a.length : -1;</span>
<span class="cstat-no" title="statement not covered" >  var lenB = b ? b.length : -1;</span>
<span class="cstat-no" title="statement not covered" >  if (lenA !== lenB) <span class="cstat-no" title="statement not covered" >return false;</span></span>
<span class="cstat-no" title="statement not covered" >  for (var i = 0; i &lt; lenA; i++) {</span>
<span class="cstat-no" title="statement not covered" >    var itemA = a[i];</span>
<span class="cstat-no" title="statement not covered" >    var itemB = b[i];</span>
<span class="cstat-no" title="statement not covered" >    var lenItemA = itemA ? itemA.length : -1;</span>
<span class="cstat-no" title="statement not covered" >    var lenItemB = itemB ? itemB.length : -1;</span>
<span class="cstat-no" title="statement not covered" >    if (lenItemA !== lenItemB) <span class="cstat-no" title="statement not covered" >return false;</span></span>
<span class="cstat-no" title="statement not covered" >    for (var j = 0; j &lt; lenItemB; j++) {</span>
<span class="cstat-no" title="statement not covered" >      if (itemA[j] !== itemB[j]) <span class="cstat-no" title="statement not covered" >return false;</span></span>
    }
  }
<span class="cstat-no" title="statement not covered" >  return true;</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function patchTextBinding(binding) {</span>
<span class="cstat-no" title="statement not covered" >  if (</span>
    binding instanceof templates.AttributeBinding &amp;&amp;
    binding.name === 'value' &amp;&amp;
    (binding.element.tagName === 'INPUT' || binding.element.tagName === 'TEXTAREA') &amp;&amp;
    documentListeners.inputSupportsSelection(binding.element) &amp;&amp;
    binding.template.expression.resolve(binding.context)
  ) {
<span class="cstat-no" title="statement not covered" >    binding.update = textInputUpdate;</span>
  }
}
&nbsp;
<span class="fstat-no" title="function not covered" >function textInputUpdate(previous, pass) {</span>
<span class="cstat-no" title="statement not covered" >  textUpdate(this, this.element, previous, pass);</span>
}
<span class="fstat-no" title="function not covered" >function textUpdate(binding, element, previous, pass) {</span>
<span class="cstat-no" title="statement not covered" >  if (pass) {</span>
<span class="cstat-no" title="statement not covered" >    if (pass.$event &amp;&amp; pass.$event.target === element) {</span>
<span class="cstat-no" title="statement not covered" >      return;</span>
    } else <span class="cstat-no" title="statement not covered" >if (pass.$stringInsert) {</span>
<span class="cstat-no" title="statement not covered" >      return textDiff.onStringInsert(</span>
        element,
        previous,
        pass.$stringInsert.index,
        pass.$stringInsert.text
      );
    } else <span class="cstat-no" title="statement not covered" >if (pass.$stringRemove) {</span>
<span class="cstat-no" title="statement not covered" >      return textDiff.onStringRemove(</span>
        element,
        previous,
        pass.$stringRemove.index,
        pass.$stringRemove.howMany
      );
    }
  }
<span class="cstat-no" title="statement not covered" >  binding.template.update(binding.context, binding);</span>
}
&nbsp;
util.serverRequire(module, './Page.server');
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Tue Apr 18 2017 23:11:07 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-derby/node_modules/derby/lib/Page.server.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-derby">npmtest-derby (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-derby/node_modules/derby/lib/Page.server.js</span></h1>
    <h2>
        
        Statements: <span class="metric">13.11% <small>(8 / 61)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 20)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 7)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">14.55% <small>(8 / 55)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-derby/node_modules/derby/lib/</a> &#187; Page.server.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101</td><td class="line-coverage"><span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">var Page = require('./Page');
var util = require('racer/lib/util');
var contexts = require('derby-templates').contexts;
&nbsp;
Page.prototype.render = <span class="fstat-no" title="function not covered" >function(status, ns) {</span>
<span class="cstat-no" title="statement not covered" >  if (typeof status !== 'number') {</span>
<span class="cstat-no" title="statement not covered" >    ns = status;</span>
<span class="cstat-no" title="statement not covered" >    status = null;</span>
  }
<span class="cstat-no" title="statement not covered" >  this.app.emit('render', this);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (status) <span class="cstat-no" title="statement not covered" >this.res.statusCode = status;</span></span>
  // Prevent the browser from storing the HTML response in its back cache, since
  // that will cause it to render with the data from the initial load first
<span class="cstat-no" title="statement not covered" >  this.res.setHeader('Cache-Control', 'no-store');</span>
  // Set HTML utf-8 content type unless already set
<span class="cstat-no" title="statement not covered" >  if (!this.res.getHeader('Content-Type')) {</span>
<span class="cstat-no" title="statement not covered" >    this.res.setHeader('Content-Type', 'text/html; charset=utf-8');</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  this._setRenderParams(ns);</span>
<span class="cstat-no" title="statement not covered" >  var pageHtml = this.get('Page', ns);</span>
<span class="cstat-no" title="statement not covered" >  this.res.write(pageHtml);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  var bundleScriptTag = '&lt;script async data-derby-app src="' + this.app.scriptUrl + '"';</span>
<span class="cstat-no" title="statement not covered" >  if (this.app.scriptCrossOrigin) {</span>
    // Scripts loaded from a different origin (such as a CDN) won't report
    // much information to the host page's window.onerror. Adding the
    // "crossorigin" attribute to the script tag allows reporting of detailed
    // error info to the host page.
    // HOWEVER - if the "crossorigin" attribute is present for a script tag
    // with a cross-origin "src", then the script's HTTP response MUST have
    // an appropriate "Access-Control-Allow-Origin" header set. Otherwise,
    // the browser will refuse to load the script.
<span class="cstat-no" title="statement not covered" >    bundleScriptTag += ' crossorigin';</span>
  }
<span class="cstat-no" title="statement not covered" >  bundleScriptTag += '&gt;&lt;/script&gt;';</span>
<span class="cstat-no" title="statement not covered" >  this.res.write(bundleScriptTag);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  this.res.write('&lt;script type="application/json"&gt;');</span>
<span class="cstat-no" title="statement not covered" >  var tailHtml = this.get('Tail', ns);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  this.model.destroy('$components');</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  var page = this;</span>
<span class="cstat-no" title="statement not covered" >  this.model.bundle(<span class="fstat-no" title="function not covered" >function(err, bundle) {</span></span>
<span class="cstat-no" title="statement not covered" >    if (page.model.hasErrored) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >    if (err) <span class="cstat-no" title="statement not covered" >return page.emit('error', err);</span></span>
<span class="cstat-no" title="statement not covered" >    var json = stringifyBundle(bundle);</span>
<span class="cstat-no" title="statement not covered" >    page.res.write(json);</span>
<span class="cstat-no" title="statement not covered" >    page.res.end('&lt;/script&gt;' + tailHtml);</span>
<span class="cstat-no" title="statement not covered" >    page.app.emit('routeDone', page, 'render');</span>
  });
};
&nbsp;
Page.prototype.renderStatic = <span class="fstat-no" title="function not covered" >function(status, ns) {</span>
<span class="cstat-no" title="statement not covered" >  if (typeof status !== 'number') {</span>
<span class="cstat-no" title="statement not covered" >    ns = status;</span>
<span class="cstat-no" title="statement not covered" >    status = null;</span>
  }
<span class="cstat-no" title="statement not covered" >  this.app.emit('renderStatic', this);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (status) <span class="cstat-no" title="statement not covered" >this.res.statusCode = status;</span></span>
<span class="cstat-no" title="statement not covered" >  this.params = pageParams(this.req);</span>
<span class="cstat-no" title="statement not covered" >  this._setRenderParams(ns);</span>
<span class="cstat-no" title="statement not covered" >  var pageHtml = this.get('Page', ns);</span>
<span class="cstat-no" title="statement not covered" >  var tailHtml = this.get('Tail', ns);</span>
<span class="cstat-no" title="statement not covered" >  this.res.send(pageHtml + tailHtml);</span>
<span class="cstat-no" title="statement not covered" >  this.app.emit('routeDone', this, 'renderStatic');</span>
};
&nbsp;
// Don't register any listeners on the server
Page.prototype._addListeners = <span class="fstat-no" title="function not covered" >function() {</span>};
&nbsp;
<span class="fstat-no" title="function not covered" >function stringifyBundle(bundle) {</span>
<span class="cstat-no" title="statement not covered" >  var json = JSON.stringify(bundle);</span>
<span class="cstat-no" title="statement not covered" >  return json.replace(/&lt;[\/!]/g, <span class="fstat-no" title="function not covered" >function(match) {</span></span>
    // Replace the end tag sequence with an equivalent JSON string to make
    // sure the script is not prematurely closed
<span class="cstat-no" title="statement not covered" >    if (match === '&lt;/') <span class="cstat-no" title="statement not covered" >return '&lt;\\/';</span></span>
    // Replace the start of an HTML comment tag sequence with an equivalent
    // JSON string
<span class="cstat-no" title="statement not covered" >    if (match === '&lt;!') <span class="cstat-no" title="statement not covered" >return '&lt;\\u0021';</span></span>
<span class="cstat-no" title="statement not covered" >    throw new Error('Unexpected match when escaping JSON');</span>
  });
}
&nbsp;
// TODO: Cleanup; copied from tracks
<span class="fstat-no" title="function not covered" >function pageParams(req) {</span>
<span class="cstat-no" title="statement not covered" >  var params = {</span>
    url: req.url
  , body: req.body
  , query: req.query
  };
<span class="cstat-no" title="statement not covered" >  for (var key in req.params) {</span>
<span class="cstat-no" title="statement not covered" >    params[key] = req.params[key];</span>
  }
<span class="cstat-no" title="statement not covered" >  return params;</span>
}
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Tue Apr 18 2017 23:11:07 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-derby/node_modules/derby/lib/_views.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header high">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-derby">npmtest-derby (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-derby/node_modules/derby/lib/_views.js</span></h1>
    <h2>
        
        Statements: <span class="metric">100% <small>(0 / 0)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">100% <small>(0 / 0)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">100% <small>(0 / 0)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">100% <small>(0 / 0)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-derby/node_modules/derby/lib/</a> &#187; _views.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">// This file is intentionally empty.
// It's used in browserifying as the placeholder for serialized views.
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Tue Apr 18 2017 23:11:07 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-derby/node_modules/derby/lib/components.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-derby">npmtest-derby (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-derby/node_modules/derby/lib/components.js</span></h1>
    <h2>
        
        Statements: <span class="metric">25.6% <small>(32 / 125)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 41)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 20)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">27.35% <small>(32 / 117)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-derby/node_modules/derby/lib/</a> &#187; components.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/*
 * components.js
 *
 * Components associate custom script functionality with a view. They can be
 * distributed as standalone modules containing templates, scripts, and styles.
 * They can also be used to modularize application functionality.
 *
 */
&nbsp;
var path = require('path');
var util = require('racer/lib/util');
var derbyTemplates = require('derby-templates');
var templates = derbyTemplates.templates;
var expressions = derbyTemplates.expressions;
var App = require('./App');
var Controller = require('./Controller');
&nbsp;
exports.Component = Component;
exports.ComponentFactory = ComponentFactory;
exports.SingletonComponentFactory = SingletonComponentFactory;
exports.createFactory = createFactory;
&nbsp;
<span class="fstat-no" title="function not covered" >function Component(parent, context, id, scope) {</span>
<span class="cstat-no" title="statement not covered" >  this.parent = parent;</span>
<span class="cstat-no" title="statement not covered" >  this.context = context;</span>
<span class="cstat-no" title="statement not covered" >  this.id = id;</span>
<span class="cstat-no" title="statement not covered" >  this._scope = scope;</span>
}
&nbsp;
util.mergeInto(Component.prototype, Controller.prototype);
&nbsp;
Component.prototype.destroy = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  this.emit('destroy');</span>
<span class="cstat-no" title="statement not covered" >  this.model.removeContextListeners();</span>
<span class="cstat-no" title="statement not covered" >  this.model.destroy();</span>
<span class="cstat-no" title="statement not covered" >  delete this.page._components[this.id];</span>
<span class="cstat-no" title="statement not covered" >  var components = this.page._eventModel.object.$components;</span>
<span class="cstat-no" title="statement not covered" >  if (components) <span class="cstat-no" title="statement not covered" >delete components.object[this.id];</span></span>
};
&nbsp;
Component.prototype.get = <span class="fstat-no" title="function not covered" >function(viewName, unescaped) {</span>
<span class="cstat-no" title="statement not covered" >  var view = this.getView(viewName);</span>
<span class="cstat-no" title="statement not covered" >  return view.get(this.context, unescaped);</span>
};
&nbsp;
Component.prototype.getFragment = <span class="fstat-no" title="function not covered" >function(viewName) {</span>
<span class="cstat-no" title="statement not covered" >  var view = this.getView(viewName);</span>
<span class="cstat-no" title="statement not covered" >  return view.getFragment(this.context);</span>
};
&nbsp;
Component.prototype.getView = <span class="fstat-no" title="function not covered" >function(viewName) {</span>
<span class="cstat-no" title="statement not covered" >  var contextView = this.context.getView();</span>
<span class="cstat-no" title="statement not covered" >  return (viewName) ?</span>
    this.app.views.find(viewName, contextView.namespace) : contextView;
};
&nbsp;
Component.prototype.getAttribute = <span class="fstat-no" title="function not covered" >function(key) {</span>
<span class="cstat-no" title="statement not covered" >  var attributeContext = this.context.forAttribute(key);</span>
<span class="cstat-no" title="statement not covered" >  if (!attributeContext) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >  var value = attributeContext.attributes[key];</span>
<span class="cstat-no" title="statement not covered" >  return value &amp;&amp; expressions.renderValue(value, attributeContext);</span>
};
&nbsp;
Component.prototype.setAttribute = <span class="fstat-no" title="function not covered" >function(key, value) {</span>
<span class="cstat-no" title="statement not covered" >  this.context.parent.attributes[key] = value;</span>
};
&nbsp;
Component.prototype.setNullAttribute = <span class="fstat-no" title="function not covered" >function(key, value) {</span>
<span class="cstat-no" title="statement not covered" >  var attributes = this.context.parent.attributes;</span>
<span class="cstat-no" title="statement not covered" >  if (attributes[key] == null) <span class="cstat-no" title="statement not covered" >attributes[key] = value;</span></span>
};
&nbsp;
<span class="fstat-no" title="function not covered" >function initComponent(context, component, parent, model, id, scope) {</span>
  // Do generic controller initialization
<span class="cstat-no" title="statement not covered" >  var componentContext = context.componentChild(component);</span>
<span class="cstat-no" title="statement not covered" >  Controller.call(component, parent.app, parent.page, model);</span>
<span class="cstat-no" title="statement not covered" >  Component.call(component, parent, componentContext, id, scope);</span>
&nbsp;
  // Do the user-specific initialization. The component constructor should be
  // an empty function and the actual initialization code should be done in the
  // component's init method. This means that we don't have to rely on users
  // properly calling the Component constructor method and avoids having to
  // play nice with how CoffeeScript extends class constructors
<span class="cstat-no" title="statement not covered" >  emitInitHooks(context, component);</span>
<span class="cstat-no" title="statement not covered" >  component.emit('init', component);</span>
<span class="cstat-no" title="statement not covered" >  if (component.init) <span class="cstat-no" title="statement not covered" >component.init(model);</span></span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  return componentContext;</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function emitInitHooks(context, component) {</span>
<span class="cstat-no" title="statement not covered" >  if (!context.initHooks) <span class="cstat-no" title="statement not covered" >return;</span></span>
  // Run initHooks for `on` listeners immediately before init
<span class="cstat-no" title="statement not covered" >  for (var i = 0, len = context.initHooks.length; i &lt; len; i++) {</span>
<span class="cstat-no" title="statement not covered" >    context.initHooks[i].emit(context, component);</span>
  }
}
&nbsp;
<span class="fstat-no" title="function not covered" >function setAttributes(context, model) {</span>
<span class="cstat-no" title="statement not covered" >  if (!context.attributes) <span class="cstat-no" title="statement not covered" >return;</span></span>
  // Set attribute values on component model
<span class="cstat-no" title="statement not covered" >  for (var key in context.attributes) {</span>
<span class="cstat-no" title="statement not covered" >    var attribute = context.attributes[key];</span>
<span class="cstat-no" title="statement not covered" >    var segments = (</span>
      attribute instanceof templates.ParentWrapper &amp;&amp;
      attribute.expression &amp;&amp;
      attribute.expression.pathSegments(context)
    );
<span class="cstat-no" title="statement not covered" >    if (segments) {</span>
<span class="cstat-no" title="statement not covered" >      model.root.ref(model._at + '.' + key, segments.join('.'), {updateIndices: true});</span>
    } else {
<span class="cstat-no" title="statement not covered" >      model.set(key, attribute);</span>
    }
  }
}
&nbsp;
<span class="fstat-no" title="function not covered" >function createFactory(constructor) {</span>
<span class="cstat-no" title="statement not covered" >  return (constructor.prototype.singleton) ?</span>
    new SingletonComponentFactory(constructor) :
    new ComponentFactory(constructor);
}
&nbsp;
<span class="fstat-no" title="function not covered" >function ComponentFactory(constructor) {</span>
<span class="cstat-no" title="statement not covered" >  this.constructor = constructor;</span>
}
ComponentFactory.prototype.init = <span class="fstat-no" title="function not covered" >function(context) {</span>
<span class="cstat-no" title="statement not covered" >  var component = new this.constructor();</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  var parent = context.controller;</span>
<span class="cstat-no" title="statement not covered" >  var id = context.id();</span>
<span class="cstat-no" title="statement not covered" >  var scope = ['$components', id];</span>
<span class="cstat-no" title="statement not covered" >  var model = parent.model.root.eventContext(component);</span>
<span class="cstat-no" title="statement not covered" >  model._at = scope.join('.');</span>
<span class="cstat-no" title="statement not covered" >  model.set('id', id);</span>
<span class="cstat-no" title="statement not covered" >  setAttributes(context, model);</span>
  // Store a reference to the component's scope such that the expression
  // getters are relative to the component
<span class="cstat-no" title="statement not covered" >  model.data = model.get();</span>
<span class="cstat-no" title="statement not covered" >  parent.page._components[id] = component;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  return initComponent(context, component, parent, model, id, scope);</span>
};
ComponentFactory.prototype.create = <span class="fstat-no" title="function not covered" >function(context) {</span>
<span class="cstat-no" title="statement not covered" >  var component = context.controller;</span>
<span class="cstat-no" title="statement not covered" >  component.emit('create', component);</span>
  // Call the component's create function after its view is rendered
<span class="cstat-no" title="statement not covered" >  if (component.create) {</span>
<span class="cstat-no" title="statement not covered" >    component.create(component.model, component.dom);</span>
  }
};
&nbsp;
<span class="fstat-no" title="function not covered" >function SingletonComponentFactory(constructor) {</span>
<span class="cstat-no" title="statement not covered" >  this.constructor = constructor;</span>
<span class="cstat-no" title="statement not covered" >  this.component = null;</span>
}
SingletonComponentFactory.prototype.init = <span class="fstat-no" title="function not covered" >function(context) {</span>
<span class="cstat-no" title="statement not covered" >  if (!this.component) <span class="cstat-no" title="statement not covered" >this.component = new this.constructor();</span></span>
<span class="cstat-no" title="statement not covered" >  return context.componentChild(this.component);</span>
};
// Don't call the create method for singleton components
SingletonComponentFactory.prototype.create = <span class="fstat-no" title="function not covered" >function() {</span>};
&nbsp;
App.prototype.component = <span class="fstat-no" title="function not covered" >function(viewName, constructor) {</span>
<span class="cstat-no" title="statement not covered" >  if (typeof viewName === 'function') {</span>
<span class="cstat-no" title="statement not covered" >    constructor = viewName;</span>
<span class="cstat-no" title="statement not covered" >    viewName = null;</span>
  }
&nbsp;
  // Inherit from Component
<span class="cstat-no" title="statement not covered" >  extendComponent(constructor);</span>
&nbsp;
  // Load template view from filename
<span class="cstat-no" title="statement not covered" >  if (constructor.prototype.view) {</span>
<span class="cstat-no" title="statement not covered" >    var viewFilename = constructor.prototype.view;</span>
<span class="cstat-no" title="statement not covered" >    viewName = constructor.prototype.name || path.basename(viewFilename, '.html');</span>
<span class="cstat-no" title="statement not covered" >    this.loadViews(viewFilename, viewName);</span>
&nbsp;
  } else <span class="cstat-no" title="statement not covered" >if (!viewName) {</span>
<span class="cstat-no" title="statement not covered" >    if (constructor.prototype.name) {</span>
<span class="cstat-no" title="statement not covered" >      viewName = constructor.prototype.name;</span>
<span class="cstat-no" title="statement not covered" >      var view = this.views.register(viewName);</span>
<span class="cstat-no" title="statement not covered" >      view.template = templates.emptyTemplate;</span>
    } else {
<span class="cstat-no" title="statement not covered" >      throw new Error('No view name specified for component');</span>
    }
  }
&nbsp;
  // Associate the appropriate view with the component type
<span class="cstat-no" title="statement not covered" >  var view = this.views.find(viewName);</span>
<span class="cstat-no" title="statement not covered" >  if (!view) {</span>
<span class="cstat-no" title="statement not covered" >    var message = this.views.findErrorMessage(viewName);</span>
<span class="cstat-no" title="statement not covered" >    throw new Error(message);</span>
  }
<span class="cstat-no" title="statement not covered" >  view.componentFactory = createFactory(constructor);</span>
&nbsp;
  // Make chainable
<span class="cstat-no" title="statement not covered" >  return this;</span>
};
&nbsp;
<span class="fstat-no" title="function not covered" >function extendComponent(constructor) {</span>
  // Don't do anything if the constructor already extends Component
<span class="cstat-no" title="statement not covered" >  if (constructor.prototype instanceof Component) <span class="cstat-no" title="statement not covered" >return;</span></span>
  // Otherwise, replace its prototype with an instance of Component
<span class="cstat-no" title="statement not covered" >  var oldPrototype = constructor.prototype;</span>
<span class="cstat-no" title="statement not covered" >  constructor.prototype = new Component();</span>
<span class="cstat-no" title="statement not covered" >  util.mergeInto(constructor.prototype, oldPrototype);</span>
}
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Tue Apr 18 2017 23:11:07 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-derby/node_modules/derby/lib/documentListeners.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-derby">npmtest-derby (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-derby/node_modules/derby/lib/documentListeners.js</span></h1>
    <h2>
        
        Statements: <span class="metric">18.84% <small>(13 / 69)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 53)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 12)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">19.4% <small>(13 / 67)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-derby/node_modules/derby/lib/</a> &#187; documentListeners.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126</td><td class="line-coverage"><span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">var textDiff = require('./textDiff');
&nbsp;
exports.add = addDocumentListeners;
exports.inputSupportsSelection = inputSupportsSelection;
&nbsp;
// http://www.whatwg.org/specs/web-apps/current-work/multipage/the-input-element.html#do-not-apply
// TODO: Date types support
<span class="fstat-no" title="function not covered" >function inputSupportsSelection(input) {</span>
<span class="cstat-no" title="statement not covered" >  var type = input.type;</span>
<span class="cstat-no" title="statement not covered" >  return (</span>
    type === 'text' ||
    type === 'textarea' ||
    type === 'search' ||
    type === 'url' ||
    type === 'tel' ||
    type === 'password'
  );
}
<span class="fstat-no" title="function not covered" >function inputIsNumberValue(input) {</span>
<span class="cstat-no" title="statement not covered" >  var type = input.type;</span>
<span class="cstat-no" title="statement not covered" >  return (type === 'number' || (type === 'range' &amp;&amp; !input.multiple));</span>
}
<span class="fstat-no" title="function not covered" >function inputValue(input) {</span>
<span class="cstat-no" title="statement not covered" >  return inputIsNumberValue(input) ? input.valueAsNumber : input.value;</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function addDocumentListeners(doc) {</span>
<span class="cstat-no" title="statement not covered" >  doc.addEventListener('input', documentInput, true);</span>
<span class="cstat-no" title="statement not covered" >  doc.addEventListener('change', documentChange, true);</span>
&nbsp;
  // Listen to more events for versions of IE with buggy input event implementations
<span class="cstat-no" title="statement not covered" >  if (parseFloat(window.navigator.appVersion.split('MSIE ')[1]) &lt;= 9) {</span>
    // We're listening on selectionchange because there's no other event emitted when
    // the user clicks 'delete' from a context menu when right clicking on selected text.
    // So although this event fires overly aggressively, it's the only real way
    // to ensure that we can detect all changes to the input value in IE &lt;= 9
<span class="cstat-no" title="statement not covered" >    doc.addEventListener('selectionchange', <span class="fstat-no" title="function not covered" >function(e){</span></span>
<span class="cstat-no" title="statement not covered" >      if (document.activeElement) {</span>
<span class="cstat-no" title="statement not covered" >        documentInput({target: document.activeElement}); </span>// selectionchange evts don't have the e.target we need
      }
    }, true);
  }
&nbsp;
  // For some reason valueAsNumber returns NaN for number inputs in IE
  // until a new IE version that handles this is released, parse input.value as a fallback
<span class="cstat-no" title="statement not covered" >  var input = document.createElement('input');</span>
<span class="cstat-no" title="statement not covered" >  input.type = 'number';</span>
<span class="cstat-no" title="statement not covered" >  input.value = '7';</span>
<span class="cstat-no" title="statement not covered" >  if (input.valueAsNumber !== input.valueAsNumber) {</span>
<span class="cstat-no" title="statement not covered" >    var oldInputValue = inputValue;</span>
<span class="cstat-no" title="statement not covered" >    inputValue = <span class="fstat-no" title="function not covered" >function(input) {</span></span>
<span class="cstat-no" title="statement not covered" >      if (input.type === 'number') {</span>
<span class="cstat-no" title="statement not covered" >        return inputIsNumberValue(input) ? parseFloat(input.value) : input.value;</span>
      } else {
<span class="cstat-no" title="statement not covered" >        return oldInputValue.apply(this, arguments);</span>
      }
    };
  }
}
&nbsp;
<span class="fstat-no" title="function not covered" >function documentInput(e) {</span>
<span class="cstat-no" title="statement not covered" >  var target = e.target;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (target.tagName === 'INPUT' || target.tagName === 'TEXTAREA') {</span>
<span class="cstat-no" title="statement not covered" >    setInputValue(e, target);</span>
  }
}
&nbsp;
<span class="fstat-no" title="function not covered" >function documentChange(e) {</span>
<span class="cstat-no" title="statement not covered" >  var target = e.target;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (target.tagName === 'INPUT') {</span>
<span class="cstat-no" title="statement not covered" >    setBoundProperty(target, 'checked');</span>
<span class="cstat-no" title="statement not covered" >    setInputValue(e, target);</span>
&nbsp;
  } else <span class="cstat-no" title="statement not covered" >if (target.tagName === 'SELECT') {</span>
<span class="cstat-no" title="statement not covered" >    setOptionBindings(target);</span>
&nbsp;
  } else <span class="cstat-no" title="statement not covered" >if (target.tagName === 'TEXTAREA') {</span>
<span class="cstat-no" title="statement not covered" >    setInputValue(e, target);</span>
  }
}
&nbsp;
<span class="fstat-no" title="function not covered" >function setBoundProperty(node, property) {</span>
<span class="cstat-no" title="statement not covered" >  var binding = node.$bindAttributes &amp;&amp; node.$bindAttributes[property];</span>
<span class="cstat-no" title="statement not covered" >  if (!binding || binding.isUnbound()) <span class="cstat-no" title="statement not covered" >return;</span></span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  var value = node[property];</span>
<span class="cstat-no" title="statement not covered" >  binding.template.expression.set(binding.context, value);</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function setInputValue(e, target) {</span>
<span class="cstat-no" title="statement not covered" >  var binding = target.$bindAttributes &amp;&amp; target.$bindAttributes.value;</span>
<span class="cstat-no" title="statement not covered" >  if (!binding || binding.isUnbound()) <span class="cstat-no" title="statement not covered" >return;</span></span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (inputSupportsSelection(target)) {</span>
<span class="cstat-no" title="statement not covered" >    var pass = {$event: e};</span>
<span class="cstat-no" title="statement not covered" >    textDiffBinding(binding, target.value, pass);</span>
  } else {
<span class="cstat-no" title="statement not covered" >    var value = inputValue(target);</span>
<span class="cstat-no" title="statement not covered" >    binding.template.expression.set(binding.context, value);</span>
  }
}
&nbsp;
<span class="fstat-no" title="function not covered" >function textDiffBinding(binding, value, pass) {</span>
<span class="cstat-no" title="statement not covered" >  var expression = binding.template.expression;</span>
<span class="cstat-no" title="statement not covered" >  var segments = expression.pathSegments(binding.context);</span>
<span class="cstat-no" title="statement not covered" >  if (segments) {</span>
<span class="cstat-no" title="statement not covered" >    var model = binding.context.controller.model.pass(pass);</span>
<span class="cstat-no" title="statement not covered" >    textDiff.onTextInput(model, segments, value);</span>
  } else <span class="cstat-no" title="statement not covered" >if (expression.set) {</span>
<span class="cstat-no" title="statement not covered" >    expression.set(binding.context, value);</span>
  }
}
&nbsp;
<span class="fstat-no" title="function not covered" >function setOptionBindings(parent) {</span>
<span class="cstat-no" title="statement not covered" >  for (var node = parent.firstChild; node; node = node.nextSibling) {</span>
<span class="cstat-no" title="statement not covered" >    if (node.tagName === 'OPTION') {</span>
<span class="cstat-no" title="statement not covered" >      setBoundProperty(node, 'selected');</span>
    } else <span class="cstat-no" title="statement not covered" >if (node.hasChildNodes()) {</span>
<span class="cstat-no" title="statement not covered" >      setOptionBindings(node);</span>
    }
  }
}
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Tue Apr 18 2017 23:11:07 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-derby/node_modules/derby/lib/eventmodel.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-derby">npmtest-derby (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-derby/node_modules/derby/lib/eventmodel.js</span></h1>
    <h2>
        
        Statements: <span class="metric">14.39% <small>(39 / 271)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 144)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 40)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">16.67% <small>(39 / 234)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-derby/node_modules/derby/lib/</a> &#187; eventmodel.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501
502
503
504
505
506
507
508
509
510
511
512
513
514
515
516
517
518
519
520
521
522
523
524
525
526
527
528
529
530
531
532
533
534
535
536
537
538
539
540
541
542
543
544
545
546
547
548
549
550
551
552
553
554
555
556
557</td><td class="line-coverage"><span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">var expressions = require('derby-templates').expressions;
&nbsp;
// The many trees of bindings:
//
// - Model tree, containing your actual data. Eg:
//    {users:{fred:{age:40}, wilma:{age:37}}}
//
// - Event model tree, whose structure mirrors the model tree. The event model
//   tree lets us annotate the model tree with listeners which fire when events
//   change. I think there are three types of listeners:
//
//   1. Reference binding binds to whatever is referred to by the path. Eg,
//   {{each items as item}} binds item by reference as it goes through the
//   list.
//   2. Fixed path bindings explicitly bind to whatever is at that path
//   regardless of how the model changes underneath the event model
//   3. Listen on a subtree and fire when anything in the subtree changes. This
//   is used for custom functions.
//
// {{foo.id}} would listen on the fixed path ['foo', 'id'].
//
//
// - Context tree represents the changing (embedded) contexts of the templating
//   engine. This maps to the tree of templates and allows templates to reference
//   anything in any of their enclosing template scopes.
//
&nbsp;
module.exports = EventModel;
&nbsp;
// The code here uses object-based set pattern where objects are keyed using
// sequentially generated IDs.
var nextId = 1;
&nbsp;
// A binding object is something with update(), insert()/move()/remove() defined.
&nbsp;
&nbsp;
// Given x[y] with model.get(y) == 5:
//  item = 5
//  segments = ['y']
//  outside = the EventModel for x.
//
// Note that item could be a Context or another ModelRef - eg:
//
// {{ each foo as bar }} ... {{ x[bar] }}  -or-  {{ x[y[z]] }}
<span class="fstat-no" title="function not covered" >function ModelRef(model, item, segments, outside) {</span>
<span class="cstat-no" title="statement not covered" >  this.id = nextId++;</span>
&nbsp;
  // We need a reference to the model &amp; our segment list so we can update our
  // value.
<span class="cstat-no" title="statement not covered" >  this.model = model;</span>
<span class="cstat-no" title="statement not covered" >  this.segments = segments;</span>
&nbsp;
  // Our current value.
<span class="cstat-no" title="statement not covered" >  this.item = item;</span>
&nbsp;
  // outside is a reference to the EventModel of the thing on the lhs of the
  // brackets. For example, in x[y].z, outside is the EventModel of x.
<span class="cstat-no" title="statement not covered" >  this.outside = outside;</span>
&nbsp;
  // result is the EventModel of the evaluated version of the brackets. In
  // x[y].z, its the EventModel of x[y].
<span class="cstat-no" title="statement not covered" >  this.result = outside.child(item).refChild(this);</span>
}
&nbsp;
ModelRef.prototype.update = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  var segments = expressions.pathSegments(this.segments);</span>
<span class="cstat-no" title="statement not covered" >  var newItem = expressions.lookup(segments, this.model.data);</span>
<span class="cstat-no" title="statement not covered" >  if (this.item === newItem) <span class="cstat-no" title="statement not covered" >return;</span></span>
&nbsp;
  // First remove myself.
<span class="cstat-no" title="statement not covered" >  delete this.outside.child(this.item).refChildren[this.id];</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  this.item = newItem;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  var container = this.outside.child(this.item);</span>
  // I want to just call refChild but that would create a new EM. Instead I
  // want to just implant my current EM there.
<span class="cstat-no" title="statement not covered" >  if (!container.refChildren) <span class="cstat-no" title="statement not covered" >container.refChildren = new RefChildrenMap();</span></span>
<span class="cstat-no" title="statement not covered" >  container.refChildren[this.id] = this.result;</span>
&nbsp;
  // Finally, update all the bindings in the tree.
<span class="cstat-no" title="statement not covered" >  this.result.update();</span>
};
&nbsp;
&nbsp;
<span class="fstat-no" title="function not covered" >function RefOutMap() {</span>}
<span class="fstat-no" title="function not covered" >function RefChildrenMap() {</span>}
<span class="fstat-no" title="function not covered" >function BindingsMap() {</span>}
<span class="fstat-no" title="function not covered" >function ItemContextsMap() {</span>}
<span class="fstat-no" title="function not covered" >function EventModelsMap() {</span>}
&nbsp;
<span class="fstat-no" title="function not covered" >function EventModel() {</span>
<span class="cstat-no" title="statement not covered" >  this.id = nextId++;</span>
&nbsp;
  // Most of these won't ever be filled in, so I'm just leaving them null.
  //
  // These contain our EventModel children.
<span class="cstat-no" title="statement not covered" >  this.object = null;</span>
<span class="cstat-no" title="statement not covered" >  this.array = null;</span>
&nbsp;
  // This contains any EventModel children which have floating references.
<span class="cstat-no" title="statement not covered" >  this.arrayByReference = null;</span>
&nbsp;
  // If the data stored here is ever used to lookup other values, this is an
  // object mapping remote child ID -&gt; ref.
  //
  // Eg given x[y], y.refOut[x.id] = &lt;Binding&gt;
<span class="cstat-no" title="statement not covered" >  this.refOut = null;</span>
&nbsp;
  // This is a map from ref id -&gt; event model for events bound to this
  // EventModel but via a ref. We could just merge them into the main tree, but
  // this way they're easy to move.
  //
  // Eg, given x[y] (y=1), x.1.refChildren[ref id] is an EventModel.
<span class="cstat-no" title="statement not covered" >  this.refChildren = null;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  this.bindings = null;</span>
&nbsp;
  // Item contexts are contexts which need their item number changed as this
  // EventModel object moves around its surrounding list.
<span class="cstat-no" title="statement not covered" >  this.itemContexts = null;</span>
}
&nbsp;
EventModel.prototype.refChild = <span class="fstat-no" title="function not covered" >function(ref) {</span>
<span class="cstat-no" title="statement not covered" >  if (!this.refChildren) <span class="cstat-no" title="statement not covered" >this.refChildren = new RefChildrenMap();</span></span>
<span class="cstat-no" title="statement not covered" >  var id = ref.id;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (!this.refChildren[id]) {</span>
<span class="cstat-no" title="statement not covered" >    this.refChildren[id] = new EventModel();</span>
  }
<span class="cstat-no" title="statement not covered" >  return this.refChildren[id];</span>
};
&nbsp;
EventModel.prototype.arrayLookup = <span class="fstat-no" title="function not covered" >function(model, segmentsBefore, segmentsInside) {</span>
<span class="cstat-no" title="statement not covered" >  var segments = expressions.pathSegments(segmentsInside);</span>
<span class="cstat-no" title="statement not covered" >  var item = expressions.lookup(segments, model.data);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  var source = this.at(segmentsInside);</span>
&nbsp;
  // What the array currently resolves to. Given x[y] with y=1, container is
  // the EM for x
<span class="cstat-no" title="statement not covered" >  var container = this.at(segmentsBefore);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (!source.refOut) <span class="cstat-no" title="statement not covered" >source.refOut = new RefOutMap();</span></span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  var ref = source.refOut[container.id];</span>
<span class="cstat-no" title="statement not covered" >  if (ref == null) {</span>
<span class="cstat-no" title="statement not covered" >    ref = new ModelRef(model, item, segmentsInside, container);</span>
<span class="cstat-no" title="statement not covered" >    source.refOut[container.id] = ref;</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  return ref;</span>
};
&nbsp;
// Returns the EventModel node of the named child.
EventModel.prototype.child = <span class="fstat-no" title="function not covered" >function(segment) {</span>
<span class="cstat-no" title="statement not covered" >  var container;</span>
<span class="cstat-no" title="statement not covered" >  if (typeof segment === 'string') {</span>
    // Object
<span class="cstat-no" title="statement not covered" >    if (!this.object) <span class="cstat-no" title="statement not covered" >this.object = {};</span></span>
<span class="cstat-no" title="statement not covered" >    container = this.object;</span>
&nbsp;
  } else <span class="cstat-no" title="statement not covered" >if (typeof segment === 'number') {</span>
    // Array by value
<span class="cstat-no" title="statement not covered" >    if (!this.array) <span class="cstat-no" title="statement not covered" >this.array = [];</span></span>
<span class="cstat-no" title="statement not covered" >    container = this.array;</span>
&nbsp;
  } else <span class="cstat-no" title="statement not covered" >if (segment instanceof ModelRef) {</span>
    // Array reference. We'll need to lookup the child with the right
    // value, then look inside its ref children for the right EventModel
    // (so we can update it later). This is pretty janky, but should be
    // *correct* even in the face of recursive array accessors.
    //
    // This will calculate it based on the current segment values, but refs
    // cache the EM anyway.
    //return this.child(segment.item).refChild(segment);
<span class="cstat-no" title="statement not covered" >    return segment.result;</span>
&nbsp;
  } else {
    // Array by reference
<span class="cstat-no" title="statement not covered" >    if (!this.arrayByReference) <span class="cstat-no" title="statement not covered" >this.arrayByReference = [];</span></span>
<span class="cstat-no" title="statement not covered" >    container = this.arrayByReference;</span>
<span class="cstat-no" title="statement not covered" >    segment = segment.item;</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  return container[segment] || (container[segment] = new EventModel());</span>
};
&nbsp;
// Returns the EventModel node at the given segments list. Note that although
// EventModel nodes are unique, its possible for multiple EventModel nodes to
// refer to the same section of the model because of references.
//
// If you want to update the bindings that refer to a specific path, use
// each().
//
// EventModel objects are created as needed.
EventModel.prototype.at = <span class="fstat-no" title="function not covered" >function(segments) {</span>
  // For unbound dependancies.
<span class="cstat-no" title="statement not covered" >  if (segments == null) <span class="cstat-no" title="statement not covered" >return this;</span></span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  var eventModel = this;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  for (var i = 0; i &lt; segments.length; i++) {</span>
<span class="cstat-no" title="statement not covered" >    eventModel = eventModel.child(segments[i]);</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  return eventModel;</span>
};
&nbsp;
EventModel.prototype.isEmpty = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  if (hasKeys(this.dependancies)) <span class="cstat-no" title="statement not covered" >return false;</span></span>
<span class="cstat-no" title="statement not covered" >  if (hasKeys(this.itemContexts)) <span class="cstat-no" title="statement not covered" >return false;</span></span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (this.object) {</span>
<span class="cstat-no" title="statement not covered" >    if (hasKeys(this.object)) <span class="cstat-no" title="statement not covered" >return false;</span></span>
<span class="cstat-no" title="statement not covered" >    this.object = null;</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (this.arrayByReference) {</span>
<span class="cstat-no" title="statement not covered" >    for (var i = 0; i &lt; this.arrayByReference.length; i++) {</span>
<span class="cstat-no" title="statement not covered" >      if (this.arrayByReference[i] != null) <span class="cstat-no" title="statement not covered" >return false;</span></span>
    }
<span class="cstat-no" title="statement not covered" >    this.arrayByReference = null;</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (this.array) {</span>
<span class="cstat-no" title="statement not covered" >    for (var i = 0; i &lt; this.array.length; i++) {</span>
<span class="cstat-no" title="statement not covered" >      if (this.array[i] != null) <span class="cstat-no" title="statement not covered" >return false;</span></span>
    }
<span class="cstat-no" title="statement not covered" >    this.array = null;</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  return true;</span>
};
&nbsp;
<span class="fstat-no" title="function not covered" >function hasKeys(object) {</span>
<span class="cstat-no" title="statement not covered" >  for (var key in object) {</span>
<span class="cstat-no" title="statement not covered" >    return true;</span>
  }
<span class="cstat-no" title="statement not covered" >  return false;</span>
}
&nbsp;
&nbsp;
// **** Updating the EventModel
&nbsp;
EventModel.prototype._addItemContext = <span class="fstat-no" title="function not covered" >function(context) {</span>
<span class="cstat-no" title="statement not covered" >  if (!context._id) <span class="cstat-no" title="statement not covered" >context._id = nextId++;</span></span>
<span class="cstat-no" title="statement not covered" >  if (!this.itemContexts) <span class="cstat-no" title="statement not covered" >this.itemContexts = new ItemContextsMap();</span></span>
<span class="cstat-no" title="statement not covered" >  this.itemContexts[context._id] = context;</span>
};
&nbsp;
EventModel.prototype._removeItemContext = <span class="fstat-no" title="function not covered" >function(context) {</span>
<span class="cstat-no" title="statement not covered" >  if (this.itemContexts) {</span>
<span class="cstat-no" title="statement not covered" >    delete this.itemContexts[context._id];</span>
  }
};
&nbsp;
EventModel.prototype._addBinding = <span class="fstat-no" title="function not covered" >function(binding) {</span>
<span class="cstat-no" title="statement not covered" >  var bindings = this.bindings || (this.bindings = new BindingsMap());</span>
<span class="cstat-no" title="statement not covered" >  binding.eventModels || (binding.eventModels = new EventModelsMap());</span>
<span class="cstat-no" title="statement not covered" >  bindings[binding.id] = binding;</span>
<span class="cstat-no" title="statement not covered" >  binding.eventModels[this.id] = this;</span>
};
&nbsp;
// This is the main hook to add bindings to the event model tree. It should
// only be called on the root EventModel object.
EventModel.prototype.addBinding = <span class="fstat-no" title="function not covered" >function(segments, binding) {</span>
<span class="cstat-no" title="statement not covered" >  this.at(segments)._addBinding(binding);</span>
};
&nbsp;
// This is used for objects (contexts in derby's case) that have a .item
// property which refers to an array index.
EventModel.prototype.addItemContext = <span class="fstat-no" title="function not covered" >function(segments, context) {</span>
<span class="cstat-no" title="statement not covered" >  this.at(segments)._addItemContext(context);</span>
};
&nbsp;
EventModel.prototype.removeBinding = <span class="fstat-no" title="function not covered" >function(binding) {</span>
<span class="cstat-no" title="statement not covered" >  if (!binding.eventModels) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >  for (var id in binding.eventModels) {</span>
<span class="cstat-no" title="statement not covered" >    var eventModel = binding.eventModels[id];</span>
<span class="cstat-no" title="statement not covered" >    if (eventModel.bindings) <span class="cstat-no" title="statement not covered" >delete eventModel.bindings[binding.id];</span></span>
  }
<span class="cstat-no" title="statement not covered" >  binding.eventModels = null;</span>
};
&nbsp;
EventModel.prototype._each = <span class="fstat-no" title="function not covered" >function(segments, pos, fn) {</span>
  // Our refChildren are effectively merged into this object.
<span class="cstat-no" title="statement not covered" >  if (this.refChildren) {</span>
<span class="cstat-no" title="statement not covered" >    for (var id in this.refChildren) {</span>
<span class="cstat-no" title="statement not covered" >      var refChild = this.refChildren[id];</span>
<span class="cstat-no" title="statement not covered" >      if (refChild) <span class="cstat-no" title="statement not covered" >refChild._each(segments, pos, fn);</span></span>
    }
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (segments.length === pos) {</span>
<span class="cstat-no" title="statement not covered" >    fn(this);</span>
<span class="cstat-no" title="statement not covered" >    return;</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  var segment = segments[pos];</span>
<span class="cstat-no" title="statement not covered" >  var child;</span>
<span class="cstat-no" title="statement not covered" >  if (typeof segment === 'string') {</span>
    // Object. Just recurse into our objects set. Its possible to rewrite this
    // function to simply loop in the case of object lookups, but I don't think
    // it'll buy us much.
<span class="cstat-no" title="statement not covered" >    child = this.object &amp;&amp; this.object[segment];</span>
<span class="cstat-no" title="statement not covered" >    if (child) <span class="cstat-no" title="statement not covered" >child._each(segments, pos + 1, fn);</span></span>
&nbsp;
  } else {
    // Number. Recurse both into the fixed list and the reference list.
<span class="cstat-no" title="statement not covered" >    child = this.array &amp;&amp; this.array[segment];</span>
<span class="cstat-no" title="statement not covered" >    if (child) <span class="cstat-no" title="statement not covered" >child._each(segments, pos + 1, fn);</span></span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    child = this.arrayByReference &amp;&amp; this.arrayByReference[segment];</span>
<span class="cstat-no" title="statement not covered" >    if (child) <span class="cstat-no" title="statement not covered" >child._each(segments, pos + 1, fn);</span></span>
  }
};
&nbsp;
// Called when the scalar value at the path changes. This only calls update()
// on this node. See update() below if you want to update entire
// subtrees.
EventModel.prototype.localUpdate = <span class="fstat-no" title="function not covered" >function(previous, pass) {</span>
<span class="cstat-no" title="statement not covered" >  if (this.bindings) {</span>
<span class="cstat-no" title="statement not covered" >    for (var id in this.bindings) {</span>
<span class="cstat-no" title="statement not covered" >      var binding = this.bindings[id];</span>
<span class="cstat-no" title="statement not covered" >      if (binding) <span class="cstat-no" title="statement not covered" >binding.update(previous, pass);</span></span>
    }
  }
&nbsp;
  // If our value changed, we also need to update anything that depends on it
  // via refOut.
<span class="cstat-no" title="statement not covered" >  if (this.refOut) {</span>
<span class="cstat-no" title="statement not covered" >    for (var id in this.refOut) {</span>
<span class="cstat-no" title="statement not covered" >      var ref = this.refOut[id];</span>
<span class="cstat-no" title="statement not covered" >      if (ref) <span class="cstat-no" title="statement not covered" >ref.update();</span></span>
    }
  }
};
&nbsp;
// This is used when an object subtree is replaced / removed.
EventModel.prototype.update = <span class="fstat-no" title="function not covered" >function(previous, pass) {</span>
<span class="cstat-no" title="statement not covered" >  this.localUpdate(previous, pass);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (this.object) {</span>
<span class="cstat-no" title="statement not covered" >    for (var key in this.object) {</span>
<span class="cstat-no" title="statement not covered" >      var binding = this.object[key];</span>
<span class="cstat-no" title="statement not covered" >      if (binding) <span class="cstat-no" title="statement not covered" >binding.update();</span></span>
    }
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (this.array) {</span>
<span class="cstat-no" title="statement not covered" >    for (var i = 0; i &lt; this.array.length; i++) {</span>
<span class="cstat-no" title="statement not covered" >      var binding = this.array[i];</span>
<span class="cstat-no" title="statement not covered" >      if (binding) <span class="cstat-no" title="statement not covered" >binding.update();</span></span>
    }
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (this.arrayByReference) {</span>
<span class="cstat-no" title="statement not covered" >    for (var i = 0; i &lt; this.arrayByReference.length; i++) {</span>
<span class="cstat-no" title="statement not covered" >      var binding = this.arrayByReference[i];</span>
<span class="cstat-no" title="statement not covered" >      if (binding) <span class="cstat-no" title="statement not covered" >binding.update();</span></span>
    }
  }
};
&nbsp;
// Updates the indexes in itemContexts of our children in the range of
// [from, to). from and to both optional.
EventModel.prototype._updateChildItemContexts = <span class="fstat-no" title="function not covered" >function(from, to) {</span>
<span class="cstat-no" title="statement not covered" >  if (!this.arrayByReference) <span class="cstat-no" title="statement not covered" >return;</span></span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (from == null) <span class="cstat-no" title="statement not covered" >from = 0;</span></span>
<span class="cstat-no" title="statement not covered" >  if (to == null) <span class="cstat-no" title="statement not covered" >to = this.arrayByReference.length;</span></span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  for (var i = from; i &lt; to; i++) {</span>
<span class="cstat-no" title="statement not covered" >    var contexts = this.arrayByReference[i] &amp;&amp;</span>
      this.arrayByReference[i].itemContexts;
<span class="cstat-no" title="statement not covered" >    if (contexts) {</span>
<span class="cstat-no" title="statement not covered" >      for (var key in contexts) {</span>
<span class="cstat-no" title="statement not covered" >        contexts[key].item = i;</span>
      }
    }
  }
};
&nbsp;
// Updates our array-by-value values. They have to recursively update every
// binding in their children. Sad.
EventModel.prototype._updateArray = <span class="fstat-no" title="function not covered" >function(from, to) {</span>
<span class="cstat-no" title="statement not covered" >  if (!this.array) <span class="cstat-no" title="statement not covered" >return;</span></span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (from == null) <span class="cstat-no" title="statement not covered" >from = 0;</span></span>
<span class="cstat-no" title="statement not covered" >  if (to == null) <span class="cstat-no" title="statement not covered" >to = this.array.length;</span></span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  for (var i = from; i &lt; to; i++) {</span>
<span class="cstat-no" title="statement not covered" >    var binding = this.array[i];</span>
<span class="cstat-no" title="statement not covered" >    if (binding) <span class="cstat-no" title="statement not covered" >binding.update();</span></span>
  }
};
&nbsp;
EventModel.prototype._updateObject = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  if (this.object) {</span>
<span class="cstat-no" title="statement not covered" >    for (var key in this.object) {</span>
<span class="cstat-no" title="statement not covered" >      var binding = this.object[key];</span>
<span class="cstat-no" title="statement not covered" >      if (binding) <span class="cstat-no" title="statement not covered" >binding.update();</span></span>
    }
  }
};
&nbsp;
EventModel.prototype._set = <span class="fstat-no" title="function not covered" >function(previous, pass) {</span>
  // This just updates anything thats bound to the whole subtree. An alternate
  // implementation could be passed in the new value at this node (which we
  // cache), then compare with the old version and only update parts of the
  // subtree which are relevant. I don't know if thats an important
  // optimization - it really depends on your use case.
<span class="cstat-no" title="statement not covered" >  this.update(previous, pass);</span>
};
&nbsp;
// Insert into this EventModel node.
EventModel.prototype._insert = <span class="fstat-no" title="function not covered" >function(index, howMany) {</span>
  // Update fixed paths
<span class="cstat-no" title="statement not covered" >  this._updateArray(index);</span>
&nbsp;
  // Update relative paths
<span class="cstat-no" title="statement not covered" >  if (this.arrayByReference &amp;&amp; this.arrayByReference.length &gt; index) {</span>
    // Shift the actual items in the array references array.
&nbsp;
    // This probably isn't the best way to implement insert. Other options are
    // using concat() on slices or though constructing a temporary array and
    // using splice.call. Hopefully if this method is slow it'll come up during
    // profiling.
<span class="cstat-no" title="statement not covered" >    for (var i = 0; i &lt; howMany; i++) {</span>
<span class="cstat-no" title="statement not covered" >      this.arrayByReference.splice(index, 0, null);</span>
    }
&nbsp;
    // Update the path in the contexts
<span class="cstat-no" title="statement not covered" >    this._updateChildItemContexts(index + howMany);</span>
  }
&nbsp;
  // Finally call our bindings.
<span class="cstat-no" title="statement not covered" >  if (this.bindings) {</span>
<span class="cstat-no" title="statement not covered" >    for (var id in this.bindings) {</span>
<span class="cstat-no" title="statement not covered" >      var binding = this.bindings[id];</span>
<span class="cstat-no" title="statement not covered" >      if (binding) <span class="cstat-no" title="statement not covered" >binding.insert(index, howMany);</span></span>
    }
  }
<span class="cstat-no" title="statement not covered" >  this._updateObject();</span>
};
&nbsp;
// Remove howMany child elements from this EventModel at index.
EventModel.prototype._remove = <span class="fstat-no" title="function not covered" >function(index, howMany) {</span>
  // Update fixed paths. Both the removed items and items after it may have changed.
<span class="cstat-no" title="statement not covered" >  this._updateArray(index);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (this.arrayByReference) {</span>
    // Update relative paths. First throw away all the children which have been removed.
<span class="cstat-no" title="statement not covered" >    this.arrayByReference.splice(index, howMany);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    this._updateChildItemContexts(index);</span>
  }
&nbsp;
  // Call bindings.
<span class="cstat-no" title="statement not covered" >  if (this.bindings) {</span>
<span class="cstat-no" title="statement not covered" >    for (var id in this.bindings) {</span>
<span class="cstat-no" title="statement not covered" >      var binding = this.bindings[id];</span>
<span class="cstat-no" title="statement not covered" >      if (binding) <span class="cstat-no" title="statement not covered" >binding.remove(index, howMany);</span></span>
    }
  }
<span class="cstat-no" title="statement not covered" >  this._updateObject();</span>
};
&nbsp;
// Move howMany items from `from` to `to`.
EventModel.prototype._move = <span class="fstat-no" title="function not covered" >function(from, to, howMany) {</span>
  // first points to the first element that was moved. end points to the list
  // element past the end of the changed region.
<span class="cstat-no" title="statement not covered" >  var first, end;</span>
<span class="cstat-no" title="statement not covered" >  if (from &lt; to) {</span>
<span class="cstat-no" title="statement not covered" >    first = from;</span>
<span class="cstat-no" title="statement not covered" >    end = to + howMany;</span>
  } else {
<span class="cstat-no" title="statement not covered" >    first = to;</span>
<span class="cstat-no" title="statement not covered" >    end = from + howMany;</span>
  }
&nbsp;
  // Update fixed paths.
<span class="cstat-no" title="statement not covered" >  this._updateArray(first, end);</span>
&nbsp;
  // Update relative paths
<span class="cstat-no" title="statement not covered" >  var arr = this.arrayByReference;</span>
<span class="cstat-no" title="statement not covered" >  if (arr &amp;&amp; arr.length &gt; first) {</span>
    // Remove from the old location
<span class="cstat-no" title="statement not covered" >    var values = arr.splice(from, howMany);</span>
&nbsp;
    // Insert at the new location
<span class="cstat-no" title="statement not covered" >    arr.splice.apply(arr, [to, 0].concat(values));</span>
&nbsp;
    // Update the path in the contexts
<span class="cstat-no" title="statement not covered" >    this._updateChildItemContexts(first, end);</span>
  }
&nbsp;
  // Finally call our bindings.
<span class="cstat-no" title="statement not covered" >  if (this.bindings) {</span>
<span class="cstat-no" title="statement not covered" >    for (var id in this.bindings) {</span>
<span class="cstat-no" title="statement not covered" >      var binding = this.bindings[id];</span>
<span class="cstat-no" title="statement not covered" >      if (binding) <span class="cstat-no" title="statement not covered" >binding.move(from, to, howMany);</span></span>
    }
  }
<span class="cstat-no" title="statement not covered" >  this._updateObject();</span>
};
&nbsp;
&nbsp;
// Helpers.
&nbsp;
EventModel.prototype.mutate = <span class="fstat-no" title="function not covered" >function(segments, fn) {</span>
  // This finds &amp; returns a list of all event models which exist and could match
  // the specified path. The path cannot contain contexts like derby expression
  // segment lists (just because I don't think thats a useful feature and its not
  // implemented)
<span class="cstat-no" title="statement not covered" >  this._each(segments, 0, fn);</span>
&nbsp;
  // Also emit all mutations as sets on star paths, which are how dependencies
  // for view helper functions are represented. They should react to a path
  // or any child path being modified
<span class="cstat-no" title="statement not covered" >  for (var i = 0, len = segments.length; i++ &lt; len;) {</span>
<span class="cstat-no" title="statement not covered" >    var wildcardSegments = segments.slice(0, i);</span>
<span class="cstat-no" title="statement not covered" >    wildcardSegments.push('*');</span>
<span class="cstat-no" title="statement not covered" >    this._each(wildcardSegments, 0, childSetWildcard);</span>
  }
};
&nbsp;
<span class="fstat-no" title="function not covered" >function childSetWildcard(child) {</span>
<span class="cstat-no" title="statement not covered" >  child._set();</span>
}
&nbsp;
EventModel.prototype.set = <span class="fstat-no" title="function not covered" >function(segments, previous, pass) {</span>
<span class="cstat-no" title="statement not covered" >  this.mutate(segments, <span class="fstat-no" title="function not covered" >function childSet(child) {</span></span>
<span class="cstat-no" title="statement not covered" >    child._set(previous, pass);</span>
  });
};
&nbsp;
EventModel.prototype.insert = <span class="fstat-no" title="function not covered" >function(segments, index, howMany) {</span>
<span class="cstat-no" title="statement not covered" >  this.mutate(segments, <span class="fstat-no" title="function not covered" >function childInsert(child) {</span></span>
<span class="cstat-no" title="statement not covered" >    child._insert(index, howMany);</span>
  });
};
&nbsp;
EventModel.prototype.remove = <span class="fstat-no" title="function not covered" >function(segments, index, howMany) {</span>
<span class="cstat-no" title="statement not covered" >  this.mutate(segments, <span class="fstat-no" title="function not covered" >function childRemove(child) {</span></span>
<span class="cstat-no" title="statement not covered" >    child._remove(index, howMany);</span>
  });
};
&nbsp;
EventModel.prototype.move = <span class="fstat-no" title="function not covered" >function(segments, from, to, howMany) {</span>
<span class="cstat-no" title="statement not covered" >  this.mutate(segments, <span class="fstat-no" title="function not covered" >function childMove(child) {</span></span>
<span class="cstat-no" title="statement not covered" >    child._move(from, to, howMany);</span>
  });
};
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Tue Apr 18 2017 23:11:07 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-derby/node_modules/derby/lib/files.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-derby">npmtest-derby (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-derby/node_modules/derby/lib/files.js</span></h1>
    <h2>
        
        Statements: <span class="metric">25% <small>(18 / 72)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 26)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 9)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">25.35% <small>(18 / 71)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-derby/node_modules/derby/lib/</a> &#187; files.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/*
 * files.js
 * loads templates, configurations and other files from disk
 *
 */
&nbsp;
var fs = require('fs');
var path = require('path');
var util = require('racer/lib/util');
var htmlUtil = require('html-util');
var resolve = require('resolve');
&nbsp;
exports.loadViewsSync = loadViewsSync;
exports.loadStylesSync = loadStylesSync;
exports.cssCompiler = cssCompiler;
exports.htmlCompiler = htmlCompiler;
&nbsp;
<span class="fstat-no" title="function not covered" >function loadViewsSync(app, sourceFilename, namespace) {</span>
<span class="cstat-no" title="statement not covered" >  var views = [];</span>
<span class="cstat-no" title="statement not covered" >  var files = [];</span>
<span class="cstat-no" title="statement not covered" >  var resolved = resolve.sync(sourceFilename, {extensions: app.viewExtensions, packageFilter: deleteMain});</span>
<span class="cstat-no" title="statement not covered" >  if (!resolved) {</span>
<span class="cstat-no" title="statement not covered" >    throw new Error('View template file not found: ' + sourceFilename);</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  var file = fs.readFileSync(resolved, 'utf8');</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  var extension = path.extname(resolved);</span>
<span class="cstat-no" title="statement not covered" >  var compiler = app.compilers[extension];</span>
<span class="cstat-no" title="statement not covered" >  if (!compiler) {</span>
<span class="cstat-no" title="statement not covered" >    throw new Error('Unable to find compiler for: ' + extension);</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  var htmlFile = compiler(file, resolved);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  var parsed = parseViews(namespace, htmlFile, resolved, app.viewExtensions);</span>
<span class="cstat-no" title="statement not covered" >  for (var i = 0, len = parsed.imports.length; i &lt; len; i++) {</span>
<span class="cstat-no" title="statement not covered" >    var item = parsed.imports[i];</span>
<span class="cstat-no" title="statement not covered" >    var imported = loadViewsSync(app, item.filename, item.namespace);</span>
<span class="cstat-no" title="statement not covered" >    views = views.concat(imported.views);</span>
<span class="cstat-no" title="statement not covered" >    files = files.concat(imported.files);</span>
  }
<span class="cstat-no" title="statement not covered" >  return {</span>
    views: views.concat(parsed.views)
  , files: files.concat(resolved)
  };
}
&nbsp;
<span class="fstat-no" title="function not covered" >function htmlCompiler(file, filename) {</span>
<span class="cstat-no" title="statement not covered" >  return file;</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function parseViews(namespace, file, filename, extensions) {</span>
<span class="cstat-no" title="statement not covered" >  var imports = [];</span>
<span class="cstat-no" title="statement not covered" >  var views = [];</span>
<span class="cstat-no" title="statement not covered" >  var prefix = (namespace) ? namespace + ':' : '';</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  htmlUtil.parse(file + '\n', {</span>
    // Force view tags to be treated as raw tags,
    // meaning their contents are not parsed as HTML
    rawTags: /^(?:[^\s=\/!&gt;]+:|style|script)$/i
  , matchEnd: matchEnd
  , start: onStart
  , text: onText
  });
&nbsp;
<span class="fstat-no" title="function not covered" >  function matchEnd(tagName) {</span>
<span class="cstat-no" title="statement not covered" >    if (tagName.slice(-1) === ':') {</span>
<span class="cstat-no" title="statement not covered" >      return /&lt;\/?[^\s=\/!&gt;]+:[\s&gt;]/i;</span>
    }
<span class="cstat-no" title="statement not covered" >    return new RegExp('&lt;/' + tagName, 'i');</span>
  }
&nbsp;
  // These variables pass state from attributes in the start tag to the
  // following view template text
<span class="cstat-no" title="statement not covered" >  var name, attrs;</span>
&nbsp;
<span class="fstat-no" title="function not covered" >  function onStart(tag, tagName, tagAttrs) {</span>
<span class="cstat-no" title="statement not covered" >    var lastChar = tagName.charAt(tagName.length - 1);</span>
<span class="cstat-no" title="statement not covered" >    if (lastChar !== ':') {</span>
<span class="cstat-no" title="statement not covered" >      throw new Error('Expected tag ending in colon (:) instead of ' + tag);</span>
    }
<span class="cstat-no" title="statement not covered" >    name = tagName.slice(0, -1);</span>
<span class="cstat-no" title="statement not covered" >    attrs = tagAttrs;</span>
<span class="cstat-no" title="statement not covered" >    if (name === 'import') {</span>
<span class="cstat-no" title="statement not covered" >      var dir = path.dirname(filename);</span>
<span class="cstat-no" title="statement not covered" >      var resolved = resolve.sync(attrs.src, {basedir: dir, extensions: extensions, packageFilter: deleteMain});</span>
<span class="cstat-no" title="statement not covered" >      var extension = path.extname(resolved);</span>
<span class="cstat-no" title="statement not covered" >      var importNamespace = (attrs.ns == null) ?</span>
        path.basename(attrs.src, extension) : attrs.ns;
<span class="cstat-no" title="statement not covered" >      imports.push({</span>
        filename: resolved
      , namespace: (!importNamespace) ? namespace : prefix + importNamespace
      });
    }
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  function onText(text, isRawText) {</span>
<span class="cstat-no" title="statement not covered" >    if (!name || name === 'import') <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >    views.push({</span>
      name: prefix + name
    , source: text
    , options: attrs
    , filename: filename
    });
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  return {</span>
    imports: imports
  , views: views
  };
}
&nbsp;
<span class="fstat-no" title="function not covered" >function loadStylesSync(app, sourceFilename, options) {</span>
<span class="cstat-no" title="statement not covered" >  options || (options = {compress: util.isProduction});</span>
<span class="cstat-no" title="statement not covered" >  var resolved = resolve.sync(sourceFilename, {extensions: app.styleExtensions, packageFilter: deleteMain});</span>
<span class="cstat-no" title="statement not covered" >  if (!resolved) {</span>
<span class="cstat-no" title="statement not covered" >    throw new Error('Style file not found: ' + sourceFilename);</span>
  }
<span class="cstat-no" title="statement not covered" >  var extension = path.extname(resolved);</span>
<span class="cstat-no" title="statement not covered" >  var compiler = app.compilers[extension];</span>
<span class="cstat-no" title="statement not covered" >  if (!compiler) {</span>
<span class="cstat-no" title="statement not covered" >    throw new Error('Unable to find compiler for: ' + extension);</span>
  }
<span class="cstat-no" title="statement not covered" >  var file = fs.readFileSync(resolved, 'utf8');</span>
<span class="cstat-no" title="statement not covered" >  return compiler(file, resolved, options);</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function cssCompiler(file, filename, options) {</span>
<span class="cstat-no" title="statement not covered" >  return {css: file, files: [filename]};</span>
}
&nbsp;
// Resolve will use a main path from a package.json if found. Main is the
// entry point for javascript in a module, so this will mistakenly cause us to
// load the JS file instead of a view or style file in some cases. This package
// filter deletes the main property so that the normal file name lookup happens
<span class="fstat-no" title="function not covered" >function deleteMain(package) {</span>
<span class="cstat-no" title="statement not covered" >  delete package.main;</span>
}
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Tue Apr 18 2017 23:11:07 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-derby/node_modules/derby/lib/textDiff.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-derby">npmtest-derby (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-derby/node_modules/derby/lib/textDiff.js</span></h1>
    <h2>
        
        Statements: <span class="metric">21.95% <small>(9 / 41)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 23)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 6)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">22.5% <small>(9 / 40)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-derby/node_modules/derby/lib/</a> &#187; textDiff.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64</td><td class="line-coverage"><span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">exports.onStringInsert = onStringInsert;
exports.onStringRemove = onStringRemove;
exports.onTextInput = onTextInput;
&nbsp;
<span class="fstat-no" title="function not covered" >function onStringInsert(el, previous, index, text) {</span>
<span class="fstat-no" title="function not covered" >  function transformCursor(cursor) {</span>
<span class="cstat-no" title="statement not covered" >    return (index &lt; cursor) ? cursor + text.length : cursor;</span>
  }
<span class="cstat-no" title="statement not covered" >  previous || (previous = '');</span>
<span class="cstat-no" title="statement not covered" >  var newText = previous.slice(0, index) + text + previous.slice(index);</span>
<span class="cstat-no" title="statement not covered" >  replaceText(el, newText, transformCursor);</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function onStringRemove(el, previous, index, howMany) {</span>
<span class="fstat-no" title="function not covered" >  function transformCursor(cursor) {</span>
<span class="cstat-no" title="statement not covered" >    return (index &lt; cursor) ? cursor - Math.min(howMany, cursor - index) : cursor;</span>
  }
<span class="cstat-no" title="statement not covered" >  previous || (previous = '');</span>
<span class="cstat-no" title="statement not covered" >  var newText = previous.slice(0, index) + previous.slice(index + howMany);</span>
<span class="cstat-no" title="statement not covered" >  replaceText(el, newText, transformCursor);</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function replaceText(el, newText, transformCursor) {</span>
<span class="cstat-no" title="statement not covered" >  var selectionStart = transformCursor(el.selectionStart);</span>
<span class="cstat-no" title="statement not covered" >  var selectionEnd = transformCursor(el.selectionEnd);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  var scrollTop = el.scrollTop;</span>
<span class="cstat-no" title="statement not covered" >  el.value = newText;</span>
<span class="cstat-no" title="statement not covered" >  if (el.scrollTop !== scrollTop) {</span>
<span class="cstat-no" title="statement not covered" >    el.scrollTop = scrollTop;</span>
  }
<span class="cstat-no" title="statement not covered" >  if (document.activeElement === el) {</span>
<span class="cstat-no" title="statement not covered" >    el.selectionStart = selectionStart;</span>
<span class="cstat-no" title="statement not covered" >    el.selectionEnd = selectionEnd;</span>
  }
}
&nbsp;
<span class="fstat-no" title="function not covered" >function onTextInput(model, segments, value) {</span>
<span class="cstat-no" title="statement not covered" >  var previous = model._get(segments) || '';</span>
<span class="cstat-no" title="statement not covered" >  if (previous === value) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >  var start = 0;</span>
<span class="cstat-no" title="statement not covered" >  while (previous.charAt(start) === value.charAt(start)) {</span>
<span class="cstat-no" title="statement not covered" >    start++;</span>
  }
<span class="cstat-no" title="statement not covered" >  var end = 0;</span>
<span class="cstat-no" title="statement not covered" >  while (</span>
    previous.charAt(previous.length - 1 - end) === value.charAt(value.length - 1 - end) &amp;&amp;
    end + start &lt; previous.length &amp;&amp;
    end + start &lt; value.length
  ) {
<span class="cstat-no" title="statement not covered" >    end++;</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (previous.length !== start + end) {</span>
<span class="cstat-no" title="statement not covered" >    var howMany = previous.length - start - end;</span>
<span class="cstat-no" title="statement not covered" >    model._stringRemove(segments, start, howMany);</span>
  }
<span class="cstat-no" title="statement not covered" >  if (value.length !== start + end) {</span>
<span class="cstat-no" title="statement not covered" >    var inserted = value.slice(start, value.length - end);</span>
<span class="cstat-no" title="statement not covered" >    model._stringInsert(segments, start, inserted);</span>
  }
}
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Tue Apr 18 2017 23:11:07 GMT+0000 (UTC)</div>
</div>
</body>
</html>


</div>
</div>
